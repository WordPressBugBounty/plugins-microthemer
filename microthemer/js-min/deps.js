function CSSUtilities(){}window.TvrMT={data:{prog:{},dyn:{},templates:{},template_map:{}},TvrCom:{},TvrUi:{},init:{},MTF:!1,mod:{MTace:{},MTint:{},MTloop:{},MTsave:{},MTsass:{},MTgrid:{},MTfolder:{},MTtransform:{},MTlayout:{},MTwidget:{},MThtml:{},MTai:{},MTRegExp:{}},integrate:{FLBuilder:!1,elementor:!1,oxygen:!1}},function(){function e(e,r){var n=!1;if(e instanceof RegExp&&(e=e.source,n=!0),e){this.regexGroupStructure=function(e){if(!e)return console.error('The "regex" is empty! Returning empty array!'),[];var r=[],n=[""],i=[];i[0]=!1;var a=t(e,[0,0,0],!0,r,n,i);if(i[0]){var o=function(e){for(var t,n="",i=0;i<e[2].length;i++)if(n+=t=e[2].charAt(i),"\\"!==t)if("["!==t);else{if(i+1===e[2].length)continue;for(i++,t=e[2].charAt(i);("]"!==t||"\\"===e[2].charAt(i-1)&&"\\"!==e[2].charAt(i-2))&&i<e[2].length;)n+=t,i++,t=e[2].charAt(i);n+=t}else{if(i+1===e[2].length)continue;i++,t=e[2].charAt(i);for(var a="";t>="0"&&t<="9";)a+=t,i++,t=e[2].charAt(i);a?(n+=r[a],i--):n+=t}e[2]=n;for(var s=0;s<e[3].length;s++)o(e[3][s])};o(a)}return[a,r,n]}(e),this.source=n?e:this.regexGroupStructure[2][0];try{this.regex=new RegExp(this.regexGroupStructure[0][2],r)}catch(t){new RegExp(e,r)}}else this.regex=new RegExp(e,r),this.source=this.regex.source;this.flags=this.regex.flags,this.global=this.regex.global,this.ignoreCase=this.regex.ignoreCase,this.multiline=this.regex.multiline,this.sticky=this.regex.sticky,this.unicode=this.regex.unicode,this.lastIndex=this.regex.lastIndex}function t(e,n,i,a,o,s){var l;i?(l=[n[1],n[2],"",[]],a[n[2]]=n[1]):l=[void 0,void 0,"",[]];var c,u="";for(n[0];n[0]<e.length;n[0]++)if("\\"!==(c=e.charAt(n[0])))if("["!==c)if("|"!==c){if(")"===c)return l[2]+=u+")",o[0]+=")",l;if("("===c){var d;u&&(n[1]++,u="("+u+")",l[3].push([n[1],void 0,u,[]])),n[0]++;var p=n[1]+1;if(i=!0,"?"===e.charAt(n[0])&&n[0]+1<e.length&&("="===e.charAt(n[0]+1)||"!"===e.charAt(n[0]+1)||":"===e.charAt(n[0]+1))){n[0]++;var f=e.charAt(n[0]);n[0]++,":"===f&&(i=!1),o[0]+="(?"+f,(d=t(e,n,!1,a,o,s))[2]="(?"+f+d[2]}else n[1]++,n[2]++,o[0]+="(",(d=t(e,n,!0,a,o,s))[2]="("+d[2];var h=n[0],_="";if(n[0]+1<e.length){if("*"===(c=e.charAt(n[0]+1)))n[0]++,_="*";else if("+"===c)n[0]++,_="+";else if("?"===c)n[0]++,_="?";else if("{"===c){for(n[0]++,_="{",n[0]++,c=e.charAt(n[0]);c>="0"&&c<="9"&&n[0]<e.length;)_+=c,n[0]++,c=e.charAt(n[0]);if("}"===c)_+="}";else if(","===c){for(_+=",",n[0]++,c=e.charAt(n[0]);c>="0"&&c<="9"&&n[0]<e.length;)_+=c,n[0]++,c=e.charAt(n[0]);"}"===c?_+="}":_=""}else _=""}_.length>0?(d[2]+=_,o[0]+=_,"?"===e.charAt(n[0]+1)&&(n[0]++,d[2]+="?",o[0]+="?")):n[0]=h}(_.length>0||!i)&&(r(d,a),d=[p,void 0,"("+d[2]+")",[d]],n[1]++),l[2]+=u+d[2],l[3].push(d),u=""}else u+=c=e.charAt(n[0]),o[0]+="/"===c?"\\"+c:c}else l[2]+=u+"|",u="",o[0]+="|";else{if(u+="[",o[0]+="[",n[0]+1===e.length)continue;for(n[0]++,c=e.charAt(n[0]);("]"!==c||"\\"===e.charAt(n[0]-1)&&"\\"!==e.charAt(n[0]-2))&&n[0]<e.length;)u+=c,o[0]+=c,n[0]++,c=e.charAt(n[0]);u+=c,o[0]+=c}else{if(n[0]+1===e.length){u+="\\",o[0]+="\\";continue}n[0]++,c=e.charAt(n[0]);for(var g="";c>="0"&&c<="9";)g+=c,n[0]++,c=e.charAt(n[0]);g?(a[g]?(u+="\\"+g,s[0]=!0):g.indexOf("8")>=0||g.indexOf("9")>=0?u+=g:u+="\\x"+("0"+parseInt(g,8).toString(16)).slice(-2).toUpperCase(),o[0]+="\\"+g,n[0]--):(u+="\\"+c,o[0]+="\\"+c)}return l[2]+=u,l}function r(e,t){e[0]&&(e[0]++,e[1]&&(t[e[1]]=e[0]));for(var n=0;n<e[3].length;n++)r(e[3][n],t)}Symbol="undefined"==typeof Symbol?[]:Symbol,e.prototype=Object.create(RegExp.prototype,{flags:{value:null,enumerable:!0,configurable:!0,writable:!0},global:{value:null,enumerable:!0,configurable:!0,writable:!0},ignoreCase:{value:null,enumerable:!0,configurable:!0,writable:!0},multiline:{value:null,enumerable:!0,configurable:!0,writable:!0},source:{value:null,enumerable:!0,configurable:!0,writable:!0},sticky:{value:null,enumerable:!0,configurable:!0,writable:!0},unicode:{value:null,enumerable:!0,configurable:!0,writable:!0}}),e.prototype.constructor=e,e.prototype.toString=function(){return"/"+this.source+"/"+this.flags},e.prototype.test=function(e){return this.regex.test(e)},e.prototype[Symbol.search]=function(e){return this.regex[Symbol.search](e)},e.prototype[Symbol.split]=function(e,t){return this.regex[Symbol.split](e)},e.prototype.exec=function(e){var t=[];t.index=[];var r=this.regex.exec(e);if(this.lastIndex=this.regex.lastIndex,!r)return r;t[0]=r[0],t.index[0]=r.index,t.input=e;var n=function(e,i){for(var a=e,o=0;o<i.length;o++){var s=i[o][0],l=i[o][1];l&&(t[l]=r[s],void 0===t[l]?t.index[l]=void 0:t.index[l]=a),i[o][3]&&n(a,i[o][3]),void 0!==r[s]&&(a+=r[s].length)}};return this.regexGroupStructure&&this.regexGroupStructure[0][3]&&n(r.index,this.regexGroupStructure[0][3]),t},e.prototype[Symbol.match]=function(e){this.lastIndex=0,this.regex.lastIndex=0;var t=this.exec(e);if(!t)return null;for(var r=[];t&&(r.push(t),0===t[0].length&&this.regex.lastIndex++,this.global);)t=this.exec(e);return this.lastIndex=0,this.regex.lastIndex=0,r},e.prototype[Symbol.replace]=function(e,t){if(this.lastIndex=0,this.regex.lastIndex=0,!e)return e;var r=this.exec(e);if(!r)return e;t instanceof Array||(t=[t]);for(var n="",i=0,a=function(n){var i="",a="",o=t[n];if("string"==typeof o)for(var s=0;s<o.length;s++)if("$"===(a=o.charAt(s)))if(s++,"$"===(a=o.charAt(s)))i+="$";else if("&"===a)i+=r[n];else if("`"===a)i+=e.substring(0,r.index[n]);else if("'"===a)i+=e.substring(r.index[n]+r[n].length);else if(a>="0"&&a<="9"){var l=a;for(s++,a=o.charAt(s);a>="0"&&a<="9";)l+=a,s++,a=o.charAt(s);s--,r[l]?i+=r[l]:i+="$"+l}else i+="$"+a;else i+=a;else if(o instanceof Function){for(var c=[r[n]],u=0;u<r.length;u++)c.push(r[u]);for(var d=0;u<r.index.length;d++)c.push(r.index[d]);c.push(e),i+=o.apply(this,c)}return i},o=function(s){for(var l=0;l<s.length;l++){var c=s[l][1];c?t[c]||""===t[c]?(r[c]||""===r[c])&&(n+=e.substring(i,r.index[c])+a(c),i=r.index[c]+r[c].length):s[l][3]&&o(s[l][3]):o(s[l][3])}};r&&(t[0]||""===t[0]?(n+=e.substring(i,r.index[0])+a(0),i=r.index[0]+r[0].length):this.regexGroupStructure&&this.regexGroupStructure[0][3]&&o(this.regexGroupStructure[0][3]),0===r[0].length&&this.regex.lastIndex++,this.global);)r=this.exec(e);return this.lastIndex=0,this.regex.lastIndex=0,n+e.substring(i,e.length)},TvrMT.mod.MTRegExp=e}(),
/**
 * gridstack.js 1.0.0-dev
 * http://troolee.github.io/gridstack.js/
 * (c) 2014-2018 Pavel Reznikov, Dylan Weiss
 * gridstack.js may be freely distributed under the MIT license.
 * @preserve
*/
function(e){if("function"==typeof define&&define.amd)define(["jquery","exports"],e);else if("undefined"!=typeof exports){var t;try{t=require("jquery")}catch(e){}e(t||window.jQuery,exports)}else e(window.jQuery,window)}((function(e,t){var r=function(e,t,r){var n=function(){return console.warn("gridstack.js: Function `"+t+"` is deprecated as of v0.2.5 and has been replaced with `"+r+"`. It will be **completely** removed in v1.0."),e.apply(this,arguments)};return n.prototype=e.prototype,n},n=function(e,t){console.warn("gridstack.js: Option `"+e+"` is deprecated as of v0.2.5 and has been replaced with `"+t+"`. It will be **completely** removed in v1.0.")},i={isIntercepted:function(e,t){return!(e.x+e.width<=t.x||t.x+t.width<=e.x||e.y+e.height<=t.y||t.y+t.height<=e.y)},sort:function(e,t,r){if(!r){var n=e.map((function(e){return e.x+e.width}));r=Math.max.apply(Math,n)}return t=-1!=t?1:-1,i.sortBy(e,(function(e){return t*(e.x+e.y*r)}))},createStylesheet:function(e){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.setAttribute("data-gs-style-id",e),t.styleSheet?t.styleSheet.cssText="":t.appendChild(document.createTextNode("")),document.getElementsByTagName("head")[0].appendChild(t),t.sheet},removeStylesheet:function(t){e("STYLE[data-gs-style-id="+t+"]").remove()},insertCSSRule:function(e,t,r,n){"function"==typeof e.insertRule?e.insertRule(t+"{"+r+"}",n):"function"==typeof e.addRule&&e.addRule(t,r,n)},toBool:function(e){return"boolean"==typeof e?e:"string"==typeof e?!(""===(e=e.toLowerCase())||"no"==e||"false"==e||"0"==e):Boolean(e)},_collisionNodeCheck:function(e){return e!=this.node&&i.isIntercepted(e,this.nn)},_didCollide:function(e){return i.isIntercepted({x:this.n.x,y:this.newY,width:this.n.width,height:this.n.height},e)},_isAddNodeIntercepted:function(e){return i.isIntercepted({x:this.x,y:this.y,width:this.node.width,height:this.node.height},e)},parseHeight:function(e){var t=e,r="px";if(t&&"string"==typeof t){var n=t.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw)?$/);if(!n)throw new Error("Invalid height");r=n[2]||"px",t=parseFloat(n[1])}return{height:t,unit:r}},without:function(e,t){var r=e.indexOf(t);return-1!==r&&(e=e.slice(0)).splice(r,1),e},sortBy:function(e,t){return e.slice(0).sort((function(e,r){var n=t(e),i=t(r);return i===n?0:n>i?1:-1}))},defaults:function(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){for(var r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])})),e},clone:function(t){return e.extend({},t)},throttle:function(e,t){var r=!1;return function(){r||(e.apply(this,arguments),r=!0,setTimeout((function(){r=!1}),t))}},removePositioningStyles:function(e){var t=e[0].style;t.position&&t.removeProperty("position"),t.left&&t.removeProperty("left"),t.top&&t.removeProperty("top"),t.width&&t.removeProperty("width"),t.height&&t.removeProperty("height")},getScrollParent:function(e){return null==e?null:e.scrollHeight>e.clientHeight?e:i.getScrollParent(e.parentNode)},updateScrollPosition:function(e,t,r){var n=e.getBoundingClientRect(),a=window.innerHeight||document.documentElement.clientHeight;if(n.top<0||n.bottom>a){var o=n.bottom-a,s=n.top,l=i.getScrollParent(e);if(null!=l){var c=l.scrollTop;n.top<0&&r<0?e.offsetHeight>a?l.scrollTop+=r:l.scrollTop+=Math.abs(s)>Math.abs(r)?r:s:r>0&&(e.offsetHeight>a?l.scrollTop+=r:l.scrollTop+=o>r?r:o),t.position.top+=l.scrollTop-c}}}};function a(e){this.grid=e}i.is_intercepted=r(i.isIntercepted,"is_intercepted","isIntercepted"),i.create_stylesheet=r(i.createStylesheet,"create_stylesheet","createStylesheet"),i.remove_stylesheet=r(i.removeStylesheet,"remove_stylesheet","removeStylesheet"),i.insert_css_rule=r(i.insertCSSRule,"insert_css_rule","insertCSSRule"),a.registeredPlugins=[],a.registerPlugin=function(e){a.registeredPlugins.push(e)},a.prototype.resizable=function(e,t){return this},a.prototype.draggable=function(e,t){return this},a.prototype.droppable=function(e,t){return this},a.prototype.isDroppable=function(e){return!1},a.prototype.on=function(e,t,r){return this};var o=0,s=function(e,t,r,n,i){this.width=e,this.float=r||!1,this.height=n||0,this.nodes=i||[],this.onchange=t||function(){},this._updateCounter=0,this._float=this.float,this._addedNodes=[],this._removedNodes=[]};s.prototype.batchUpdate=function(){this._updateCounter=1,this.float=!0},s.prototype.commit=function(){0!==this._updateCounter&&(this._updateCounter=0,this.float=this._float,this._packNodes(),this._notify())},s.prototype.getNodeDataByDOMEl=function(e){return this.nodes.find((function(t){return e.get(0)===t.el.get(0)}))},s.prototype._fixCollisions=function(e){this._sortNodes(-1);var t=e,r=Boolean(this.nodes.find((function(e){return e.locked})));for(this.float||r||(t={x:0,y:e.y,width:this.width,height:e.height});;){var n=this.nodes.find(i._collisionNodeCheck,{node:e,nn:t});if(void 0===n)return;this.moveNode(n,n.x,e.y+e.height,n.width,n.height,!0)}},s.prototype.isAreaEmpty=function(e,t,r,n){var a={x:e||0,y:t||0,width:r||1,height:n||1},o=this.nodes.find((function(e){return i.isIntercepted(e,a)}));return null==o},s.prototype._sortNodes=function(e){this.nodes=i.sort(this.nodes,e,this.width)},s.prototype._packNodes=function(){this._sortNodes(),this.float?this.nodes.forEach((function(e,t){if(!e._updating&&void 0!==e._origY&&e.y!=e._origY)for(var r=e.y;r>=e._origY;){this.nodes.slice(0,t).find(i._didCollide,{n:e,newY:r})||(e._dirty=!0,e.y=r),--r}}),this):this.nodes.forEach((function(e,t){if(!e.locked)for(;e.y>0;){var r=e.y-1,n=0===t;if(t>0)n=void 0===this.nodes.slice(0,t).find(i._didCollide,{n:e,newY:r});if(!n)break;e._dirty=e.y!=r,e.y=r}}),this)},s.prototype._prepareNode=function(e,t){return(e=i.defaults(e||{},{width:1,height:1,x:0,y:0})).x=parseInt(""+e.x),e.y=parseInt(""+e.y),e.width=parseInt(""+e.width),e.height=parseInt(""+e.height),e.autoPosition=e.autoPosition||!1,e.noResize=e.noResize||!1,e.noMove=e.noMove||!1,e.width>this.width?e.width=this.width:e.width<1&&(e.width=1),e.height<1&&(e.height=1),e.x<0&&(e.x=0),e.x+e.width>this.width&&(t?e.width=this.width-e.x:e.x=this.width-e.width),e.y<0&&(e.y=0),e},s.prototype._notify=function(){var e=Array.prototype.slice.call(arguments,0);if(e[0]=void 0===e[0]?[]:[e[0]],e[1]=void 0===e[1]||e[1],!this._updateCounter){var t=e[0].concat(this.getDirtyNodes());this.onchange(t,e[1])}},s.prototype.cleanNodes=function(){this._updateCounter||this.nodes.forEach((function(e){e._dirty=!1}))},s.prototype.getDirtyNodes=function(){return this.nodes.filter((function(e){return e._dirty}))},s.prototype.addNode=function(e,t){if(void 0!==(e=this._prepareNode(e)).maxWidth&&(e.width=Math.min(e.width,e.maxWidth)),void 0!==e.maxHeight&&(e.height=Math.min(e.height,e.maxHeight)),void 0!==e.minWidth&&(e.width=Math.max(e.width,e.minWidth)),void 0!==e.minHeight&&(e.height=Math.max(e.height,e.minHeight)),e._id=++o,e._dirty=!0,e.autoPosition){this._sortNodes();for(var r=0;;++r){var n=r%this.width,a=Math.floor(r/this.width);if(!(n+e.width>this.width)&&!this.nodes.find(i._isAddNodeIntercepted,{x:n,y:a,node:e})){e.x=n,e.y=a;break}}}return this.nodes.push(e),void 0!==t&&t&&this._addedNodes.push(i.clone(e)),window.TvrMT.TvrUi.grid&&window.TvrMT.TvrUi.grid.isTemplateAreas&&this._fixCollisions(e),this._packNodes(),this._notify(),e},s.prototype.removeNode=function(e,t){t=void 0===t||t,this._removedNodes.push(i.clone(e)),e._id=null,this.nodes=i.without(this.nodes,e),this._packNodes(),this._notify(e,t)},s.prototype.canMoveNode=function(t,r,n,i,a){if(!this.isNodeChangedPosition(t,r,n,i,a))return!1;var o,l=Boolean(this.nodes.find((function(e){return e.locked})));if(!this.height&&!l)return!0;var c=new s(this.width,null,this.float,0,this.nodes.map((function(r){return r==t?o=e.extend({},r):e.extend({},r)})));if(void 0===o)return!0;c.moveNode(o,r,n,i,a);var u=!0;return l&&(u&=!Boolean(c.nodes.find((function(e){return e!=o&&Boolean(e.locked)&&Boolean(e._dirty)})))),this.height&&(u&=c.getGridHeight()<=this.height),u},s.prototype.canBePlacedWithRespectToHeight=function(t){if(!this.height)return!0;var r=new s(this.width,null,this.float,0,this.nodes.map((function(t){return e.extend({},t)})));return r.addNode(t),r.getGridHeight()<=this.height},s.prototype.isNodeChangedPosition=function(e,t,r,n,i){return"number"!=typeof t&&(t=e.x),"number"!=typeof r&&(r=e.y),"number"!=typeof n&&(n=e.width),"number"!=typeof i&&(i=e.height),void 0!==e.maxWidth&&(n=Math.min(n,e.maxWidth)),void 0!==e.maxHeight&&(i=Math.min(i,e.maxHeight)),void 0!==e.minWidth&&(n=Math.max(n,e.minWidth)),void 0!==e.minHeight&&(i=Math.max(i,e.minHeight)),e.x!=t||e.y!=r||e.width!=n||e.height!=i},s.prototype.moveNode=function(e,t,r,n,i,a){if(!this.isNodeChangedPosition(e,t,r,n,i))return e;if("number"!=typeof t&&(t=e.x),"number"!=typeof r&&(r=e.y),"number"!=typeof n&&(n=e.width),"number"!=typeof i&&(i=e.height),void 0!==e.maxWidth&&(n=Math.min(n,e.maxWidth)),void 0!==e.maxHeight&&(i=Math.min(i,e.maxHeight)),void 0!==e.minWidth&&(n=Math.max(n,e.minWidth)),void 0!==e.minHeight&&(i=Math.max(i,e.minHeight)),e.x==t&&e.y==r&&e.width==n&&e.height==i)return e;var o=e.width!=n;return e._dirty=!0,e.x=t,e.y=r,e.width=n,e.height=i,e.lastTriedX=t,e.lastTriedY=r,e.lastTriedWidth=n,e.lastTriedHeight=i,e=this._prepareNode(e,o),window.TvrMT.TvrUi.grid&&window.TvrMT.TvrUi.grid.isTemplateAreas&&this._fixCollisions(e),a||(this._packNodes(),this._notify()),e},s.prototype.getGridHeight=function(){return this.nodes.reduce((function(e,t){return Math.max(e,t.y+t.height)}),0)},s.prototype.beginUpdate=function(e){this.nodes.forEach((function(e){e._origY=e.y})),e._updating=!0},s.prototype.endUpdate=function(){this.nodes.forEach((function(e){e._origY=e.y}));var e=this.nodes.find((function(e){return e._updating}));e&&(e._updating=!1)};var l=function(t,r){var o,l,c=this;r=r||{},this.container=e(t),void 0!==r.handle_class&&(r.handleClass=r.handle_class,n("handle_class","handleClass")),void 0!==r.item_class&&(r.itemClass=r.item_class,n("item_class","itemClass")),void 0!==r.placeholder_class&&(r.placeholderClass=r.placeholder_class,n("placeholder_class","placeholderClass")),void 0!==r.placeholder_text&&(r.placeholderText=r.placeholder_text,n("placeholder_text","placeholderText")),void 0!==r.cell_height&&(r.cellHeight=r.cell_height,n("cell_height","cellHeight")),void 0!==r.vertical_margin&&(r.verticalMargin=r.vertical_margin,n("vertical_margin","verticalMargin")),void 0!==r.min_width&&(r.minWidth=r.min_width,n("min_width","minWidth")),void 0!==r.static_grid&&(r.staticGrid=r.static_grid,n("static_grid","staticGrid")),void 0!==r.is_nested&&(r.isNested=r.is_nested,n("is_nested","isNested")),void 0!==r.always_show_resize_handle&&(r.alwaysShowResizeHandle=r.always_show_resize_handle,n("always_show_resize_handle","alwaysShowResizeHandle")),r.itemClass=r.itemClass||"grid-stack-item";var u=this.container.closest("."+r.itemClass).length>0;if(this.opts=i.defaults(r||{},{width:parseInt(this.container.attr("data-gs-width"))||12,height:parseInt(this.container.attr("data-gs-height"))||0,itemClass:"grid-stack-item",placeholderClass:"grid-stack-placeholder",placeholderText:"",handle:".grid-stack-item-content",handleClass:null,cellHeight:60,verticalMargin:20,auto:!0,minWidth:768,float:!1,staticGrid:!1,_class:"grid-stack-instance-"+(1e4*Math.random()).toFixed(0),animate:Boolean(this.container.attr("data-gs-animate"))||!1,alwaysShowResizeHandle:r.alwaysShowResizeHandle||!1,resizable:i.defaults(r.resizable||{},{autoHide:!r.alwaysShowResizeHandle,handles:"se"}),draggable:i.defaults(r.draggable||{},{handle:(r.handleClass?"."+r.handleClass:r.handle?r.handle:"")||".grid-stack-item-content",scroll:!1,appendTo:"body"}),disableDrag:r.disableDrag||!1,disableResize:r.disableResize||!1,rtl:"auto",removable:!1,removableOptions:i.defaults(r.removableOptions||{},{accept:"."+r.itemClass}),removeTimeout:2e3,verticalMarginUnit:"px",cellHeightUnit:"px",disableOneColumnMode:r.disableOneColumnMode||!1,oneColumnModeClass:r.oneColumnModeClass||"grid-stack-one-column-mode",ddPlugin:null}),!1===this.opts.ddPlugin?this.opts.ddPlugin=a:null===this.opts.ddPlugin&&(this.opts.ddPlugin=a.registeredPlugins[0]||a),this.dd=new this.opts.ddPlugin(this),"auto"===this.opts.rtl&&(this.opts.rtl="rtl"===this.container.css("direction")),this.opts.rtl&&this.container.addClass("grid-stack-rtl"),this.opts.isNested=u,(l="auto"===this.opts.cellHeight)?c.cellHeight(c.cellWidth(),!0):this.cellHeight(this.opts.cellHeight,!0),this.verticalMargin(this.opts.verticalMargin,!0),this.container.addClass(this.opts._class),this._setStaticClass(),u&&this.container.addClass("grid-stack-nested"),this._initStyles(),this.grid=new s(this.opts.width,(function(e,t){t=void 0===t||t;var r=0;this.nodes.forEach((function(e){r=Math.max(r,e.y+e.height)})),e.forEach((function(e){t&&null===e._id?e.el&&e.el.remove():e.el.attr("data-gs-x",e.x).attr("data-gs-y",e.y).attr("data-gs-width",e.width).attr("data-gs-height",e.height)})),c._updateStyles(r+10)}),this.opts.float,this.opts.height),this.opts.auto){var d=[],p=this;this.container.children("."+this.opts.itemClass+":not(."+this.opts.placeholderClass+")").each((function(t,r){r=e(r),d.push({el:r,i:parseInt(r.attr("data-gs-x"))+parseInt(r.attr("data-gs-y"))*p.opts.width})})),i.sortBy(d,(function(e){return e.i})).forEach((function(e){this._prepareElement(e.el)}),this)}if(this.setAnimation(this.opts.animate),this.placeholder=e('<div class="'+this.opts.placeholderClass+" "+this.opts.itemClass+'"><div class="placeholder-content">'+this.opts.placeholderText+"</div></div>").hide(),this._updateContainerHeight(),this._updateHeightsOnResize=i.throttle((function(){c.cellHeight(c.cellWidth(),!1)}),100),this.onResizeHandler=function(){if(l&&c._updateHeightsOnResize(),c._isOneColumnMode()&&!c.opts.disableOneColumnMode){if(o)return;c.container.addClass(c.opts.oneColumnModeClass),o=!0,c.grid._sortNodes(),c.grid.nodes.forEach((function(e){c.container.append(e.el),c.opts.staticGrid||(c.dd.draggable(e.el,"disable"),c.dd.resizable(e.el,"disable"),e.el.trigger("resize"))}))}else{if(!o)return;if(c.container.removeClass(c.opts.oneColumnModeClass),o=!1,c.opts.staticGrid)return;c.grid.nodes.forEach((function(e){e.noMove||c.opts.disableDrag||c.dd.draggable(e.el,"enable"),e.noResize||c.opts.disableResize||c.dd.resizable(e.el,"enable"),e.el.trigger("resize")}))}},e(window).on("resize",this.onResizeHandler),this.onResizeHandler(),!c.opts.staticGrid&&"string"==typeof c.opts.removable){var f=e(c.opts.removable);this.dd.isDroppable(f)||this.dd.droppable(f,c.opts.removableOptions),this.dd.on(f,"dropover",(function(t,r){var n=e(r.draggable);n.data("_gridstack_node")._grid===c&&(n.data("inTrashZone",!0),c._setupRemovingTimeout(n))})).on(f,"dropout",(function(t,r){var n=e(r.draggable);n.data("_gridstack_node")._grid===c&&(n.data("inTrashZone",!1),c._clearRemovingTimeout(n))}))}if(!c.opts.staticGrid&&c.opts.acceptWidgets){var h=null,_=function(e,t){var r=h,n=r.data("_gridstack_node"),i=c.getCellFromPixel({left:e.pageX,top:e.pageY},!0),a=Math.max(0,i.x),o=Math.max(0,i.y);n._added||(n._added=!0,n.el=r,n.autoPosition=!0,n.x=a,n.y=o,c.grid.cleanNodes(),c.grid.beginUpdate(n),c.grid.addNode(n),c.container.append(c.placeholder),c.placeholder.attr("data-gs-x",n.x).attr("data-gs-y",n.y).attr("data-gs-width",n.width).attr("data-gs-height",n.height).show(),n.el=c.placeholder,n._beforeDragX=n.x,n._beforeDragY=n.y,c._updateContainerHeight()),c.grid.canMoveNode(n,a,o)&&(c.grid.moveNode(n,a,o),c._updateContainerHeight())};this.dd.droppable(c.container,{accept:function(t){var r=(t=e(t)).data("_gridstack_node");return(!r||r._grid!==c)&&t.is(!0===c.opts.acceptWidgets?".grid-stack-item":c.opts.acceptWidgets)}}).on(c.container,"dropover",(function(t,r){c.container.offset();var n=e(r.draggable),i=c.cellWidth(),a=c.cellHeight(),o=n.data("_gridstack_node"),s=o?o.width:Math.ceil(n.outerWidth()/i),l=o?o.height:Math.ceil(n.outerHeight()/a);h=n;var u=c.grid._prepareNode({width:s,height:l,_added:!1,_temporary:!0});n.data("_gridstack_node",u),n.data("_gridstack_node_orig",o),n.on("drag",_)})).on(c.container,"dropout",(function(t,r){var n=e(r.draggable);if(n.data("_gridstack_node")){n.unbind("drag",_);var i=n.data("_gridstack_node");i.el=null,c.grid.removeNode(i),c.placeholder.detach(),c._updateContainerHeight(),n.data("_gridstack_node",n.data("_gridstack_node_orig"))}})).on(c.container,"drop",(function(t,r){c.placeholder.detach();var n=e(r.draggable).data("_gridstack_node");n._grid=c;var a=e(r.draggable).clone(!1);a.data("_gridstack_node",n);var o=e(r.draggable).data("_gridstack_node_orig");void 0!==o&&void 0!==o._grid&&o._grid._triggerRemoveEvent(),e(r.helper).remove(),n.el=a,c.placeholder.hide(),i.removePositioningStyles(a),a.find("div.ui-resizable-handle").remove(),a.attr("data-gs-x",n.x).attr("data-gs-y",n.y).attr("data-gs-width",n.width).attr("data-gs-height",n.height).addClass(c.opts.itemClass).enableSelection().removeData("draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled").unbind("drag",_),c.container.append(a),c._prepareElementsByNode(a,n),c._updateContainerHeight(),c.grid._addedNodes.push(n),c._triggerAddEvent(),c._triggerChangeEvent(),c.grid.endUpdate(),e(r.draggable).unbind("drag",_),e(r.draggable).removeData("_gridstack_node"),e(r.draggable).removeData("_gridstack_node_orig"),c.container.trigger("dropped",[o,n])}))}};return l.prototype._triggerChangeEvent=function(e){var t=this.grid.getDirtyNodes(),r=!1,n=[];t&&t.length&&(n.push(t),r=!0),(r||!0===e)&&this.container.trigger("change",n)},l.prototype._triggerAddEvent=function(){this.grid._addedNodes&&this.grid._addedNodes.length>0&&(this.container.trigger("added",[this.grid._addedNodes.map(i.clone)]),this.grid._addedNodes=[])},l.prototype._triggerRemoveEvent=function(){this.grid._removedNodes&&this.grid._removedNodes.length>0&&(this.container.trigger("removed",[this.grid._removedNodes.map(i.clone)]),this.grid._removedNodes=[])},l.prototype._initStyles=function(){this._stylesId&&i.removeStylesheet(this._stylesId),this._stylesId="gridstack-style-"+(1e5*Math.random()).toFixed(),this._styles=i.createStylesheet(this._stylesId),null!==this._styles&&(this._styles._max=0)},l.prototype._updateStyles=function(e){if(null!==this._styles&&void 0!==this._styles){var t,r="."+this.opts._class+" ."+this.opts.itemClass,n=this;if(void 0===e&&(e=this._styles._max),this._initStyles(),this._updateContainerHeight(),this.opts.cellHeight&&!(0!==this._styles._max&&e<=this._styles._max)&&(t=this.opts.verticalMargin&&this.opts.cellHeightUnit!==this.opts.verticalMarginUnit?function(e,t){return e&&t?"calc("+(n.opts.cellHeight*e+n.opts.cellHeightUnit)+" + "+(n.opts.verticalMargin*t+n.opts.verticalMarginUnit)+")":n.opts.cellHeight*e+n.opts.verticalMargin*t+n.opts.cellHeightUnit}:function(e,t){return n.opts.cellHeight*e+n.opts.verticalMargin*t+n.opts.cellHeightUnit},0===this._styles._max&&i.insertCSSRule(this._styles,r,"min-height: "+t(1,0)+";",0),e>this._styles._max)){for(var a=this._styles._max;a<e;++a)i.insertCSSRule(this._styles,r+'[data-gs-height="'+(a+1)+'"]',"height: "+t(a+1,a)+";",a),i.insertCSSRule(this._styles,r+'[data-gs-min-height="'+(a+1)+'"]',"min-height: "+t(a+1,a)+";",a),i.insertCSSRule(this._styles,r+'[data-gs-max-height="'+(a+1)+'"]',"max-height: "+t(a+1,a)+";",a),i.insertCSSRule(this._styles,r+'[data-gs-y="'+a+'"]',"top: "+t(a,a)+";",a);this._styles._max=e}}},l.prototype._updateContainerHeight=function(){if(!this.grid._updateCounter){var e=this.grid.getGridHeight(),t=parseInt(this.container.css("min-height"));if(t>0){var r=(t+this.opts.verticalMargin)/(this.cellHeight()+this.opts.verticalMargin);e<r&&(e=r)}this.container.attr("data-gs-current-height",e),this.opts.cellHeight&&(this.opts.verticalMargin?this.opts.cellHeightUnit===this.opts.verticalMarginUnit?this.container.css("height",e*(this.opts.cellHeight+this.opts.verticalMargin)-this.opts.verticalMargin+this.opts.cellHeightUnit):this.container.css("height","calc("+(e*this.opts.cellHeight+this.opts.cellHeightUnit)+" + "+(e*(this.opts.verticalMargin-1)+this.opts.verticalMarginUnit)+")"):this.container.css("height",e*this.opts.cellHeight+this.opts.cellHeightUnit))}},l.prototype._isOneColumnMode=function(){return(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<=this.opts.minWidth},l.prototype._setupRemovingTimeout=function(t){var r=e(t).data("_gridstack_node");!r._removeTimeout&&this.opts.removable&&(r._removeTimeout=setTimeout((function(){t.addClass("grid-stack-item-removing"),r._isAboutToRemove=!0}),this.opts.removeTimeout))},l.prototype._clearRemovingTimeout=function(t){var r=e(t).data("_gridstack_node");r._removeTimeout&&(clearTimeout(r._removeTimeout),r._removeTimeout=null,t.removeClass("grid-stack-item-removing"),r._isAboutToRemove=!1)},l.prototype._prepareElementsByNode=function(t,r){var n,a,o=this,s=function(s,l){var c,u,d=Math.round(l.position.left/n),p=Math.floor((l.position.top+a/2)/a);if("drag"!=s.type&&(c=Math.round(l.size.width/n),u=Math.round(l.size.height/a)),"drag"==s.type){var f=l.position.top-r._prevYPix;if(r._prevYPix=l.position.top,i.updateScrollPosition(t[0],l,f),t.data("inTrashZone")||d<0||d>=o.grid.width||p<0||!o.grid.float&&p>o.grid.getGridHeight())return;o._clearRemovingTimeout(t),r._temporaryRemoved&&(o.grid.addNode(r),o.placeholder.attr("data-gs-x",d).attr("data-gs-y",p).attr("data-gs-width",c).attr("data-gs-height",u).show(),o.container.append(o.placeholder),r.el=o.placeholder,r._temporaryRemoved=!1)}else if("resize"==s.type&&d<0)return;var h=void 0!==c?c:r.lastTriedWidth,_=void 0!==u?u:r.lastTriedHeight;!o.grid.canMoveNode(r,d,p,c,u)||r.lastTriedX===d&&r.lastTriedY===p&&r.lastTriedWidth===h&&r.lastTriedHeight===_||(r.lastTriedX=d,r.lastTriedY=p,r.lastTriedWidth=c,r.lastTriedHeight=u,o.grid.moveNode(r,d,p,c,u),window.TvrMT.mod.MTgrid.gridsatckItemDragOrResize(r,t,s),o._updateContainerHeight(),"resize"==s.type&&e(s.target).trigger("gsresize",r))},l=function(i,s){o.container.append(o.placeholder);var l=e(this);o.grid.cleanNodes(),o.grid.beginUpdate(r),n=o.cellWidth();var c=Math.ceil(l.outerHeight()/l.attr("data-gs-height"));a=o.container.height()/parseInt(o.container.attr("data-gs-current-height")),o.placeholder.attr("data-gs-x",l.attr("data-gs-x")).attr("data-gs-y",l.attr("data-gs-y")).attr("data-gs-width",l.attr("data-gs-width")).attr("data-gs-height",l.attr("data-gs-height")).show(),r.el=o.placeholder,r._beforeDragX=r.x,r._beforeDragY=r.y,r._prevYPix=s.position.top,o.dd.resizable(t,"option","minWidth",n*(r.minWidth||1)),o.dd.resizable(t,"option","minHeight",c*(r.minHeight||1)),"resizestart"==i.type&&l.find(".grid-stack-item").trigger("resizestart")},c=function(n,a){var s=e(this);if(s.data("_gridstack_node")){var l=!1;if(o.placeholder.detach(),r.el=s,o.placeholder.hide(),r._isAboutToRemove)l=!0,t.data("_gridstack_node")._grid._triggerRemoveEvent(),t.removeData("_gridstack_node"),t.remove();else o._clearRemovingTimeout(t),r._temporaryRemoved?(i.removePositioningStyles(s),s.attr("data-gs-x",r._beforeDragX).attr("data-gs-y",r._beforeDragY).attr("data-gs-width",r.width).attr("data-gs-height",r.height),r.x=r._beforeDragX,r.y=r._beforeDragY,r._temporaryRemoved=!1,o.grid.addNode(r)):(i.removePositioningStyles(s),s.attr("data-gs-x",r.x).attr("data-gs-y",r.y).attr("data-gs-width",r.width).attr("data-gs-height",r.height));o._updateContainerHeight(),o._triggerChangeEvent(l),o.grid.endUpdate();var c=s.find(".grid-stack");c.length&&"resizestop"==n.type&&(c.each((function(t,r){e(r).data("gridstack").onResizeHandler()})),s.find(".grid-stack-item").trigger("resizestop"),s.find(".grid-stack-item").trigger("gsresizestop")),"resizestop"==n.type&&o.container.trigger("gsresizestop",s)}};this.dd.draggable(t,{start:l,stop:c,drag:s}).resizable(t,{start:l,stop:c,resize:s}),(r.noMove||this._isOneColumnMode()&&!o.opts.disableOneColumnMode||this.opts.disableDrag||this.opts.staticGrid)&&this.dd.draggable(t,"disable"),(r.noResize||this._isOneColumnMode()&&!o.opts.disableOneColumnMode||this.opts.disableResize||this.opts.staticGrid)&&this.dd.resizable(t,"disable"),t.attr("data-gs-locked",r.locked?"yes":null)},l.prototype._prepareElement=function(t,r){r=void 0!==r&&r;var n=(t=e(t)).attr("data-gs-id");n=window.TvrMT.TvrCom.isNumeric(n)?parseInt(n):n,t.addClass(this.opts.itemClass);var a=this.grid.addNode({x:parseInt(t.attr("data-gs-x"),10),y:parseInt(t.attr("data-gs-y"),10),width:t.attr("data-gs-width"),height:t.attr("data-gs-height"),maxWidth:t.attr("data-gs-max-width"),minWidth:t.attr("data-gs-min-width"),maxHeight:t.attr("data-gs-max-height"),minHeight:t.attr("data-gs-min-height"),autoPosition:i.toBool(t.attr("data-gs-auto-position")),noResize:i.toBool(t.attr("data-gs-no-resize")),noMove:i.toBool(t.attr("data-gs-no-move")),locked:i.toBool(t.attr("data-gs-locked")),resizeHandles:t.attr("data-gs-resize-handles"),el:t,id:n,_grid:this},r);t.data("_gridstack_node",a),this._prepareElementsByNode(t,a)},l.prototype.setAnimation=function(e){e?this.container.addClass("grid-stack-animate"):this.container.removeClass("grid-stack-animate")},l.prototype.addWidget=function(t,r,n,i,a,o,s,l,c,u,d){return t=e(t),void 0!==r&&t.attr("data-gs-x",r),void 0!==n&&t.attr("data-gs-y",n),void 0!==i&&t.attr("data-gs-width",i),void 0!==a&&t.attr("data-gs-height",a),void 0!==o&&t.attr("data-gs-auto-position",o?"yes":null),void 0!==s&&t.attr("data-gs-min-width",s),void 0!==l&&t.attr("data-gs-max-width",l),void 0!==c&&t.attr("data-gs-min-height",c),void 0!==u&&t.attr("data-gs-max-height",u),void 0!==d&&t.attr("data-gs-id",d),this.container.append(t),this._prepareElement(t,!0),this._triggerAddEvent(),this._updateContainerHeight(),this._triggerChangeEvent(!0),t},l.prototype.makeWidget=function(t){return t=e(t),this._prepareElement(t,!0),this._triggerAddEvent(),this._updateContainerHeight(),this._triggerChangeEvent(!0),t},l.prototype.willItFit=function(e,t,r,n,i){var a={x:e,y:t,width:r,height:n,autoPosition:i};return this.grid.canBePlacedWithRespectToHeight(a)},l.prototype.removeWidget=function(t,r){r=void 0===r||r;var n=(t=e(t)).data("_gridstack_node");n||(n=this.grid.getNodeDataByDOMEl(t)),this.grid.removeNode(n,r),t.removeData("_gridstack_node"),this._updateContainerHeight(),r&&t.remove(),this._triggerChangeEvent(!0),this._triggerRemoveEvent()},l.prototype.removeAll=function(e){this.grid.nodes.forEach((function(t){this.removeWidget(t.el,e)}),this),this.grid.nodes=[],this._updateContainerHeight()},l.prototype.destroy=function(t){e(window).off("resize",this.onResizeHandler),this.disable(),void 0===t||t?this.container.remove():(this.removeAll(!1),this.container.removeData("gridstack")),i.removeStylesheet(this._stylesId),this.grid&&(this.grid=null)},l.prototype.resizable=function(t,r){var n=this;return(t=e(t)).each((function(t,i){var a=(i=e(i)).data("_gridstack_node");null!=a&&(a.noResize=!r,a.noResize||n._isOneColumnMode()&&!n.opts.disableOneColumnMode?n.dd.resizable(i,"disable"):n.dd.resizable(i,"enable"))})),this},l.prototype.movable=function(t,r){var n=this;return(t=e(t)).each((function(t,i){var a=(i=e(i)).data("_gridstack_node");null!=a&&(a.noMove=!r,a.noMove||n._isOneColumnMode()&&!n.opts.disableOneColumnMode?(n.dd.draggable(i,"disable"),i.removeClass("ui-draggable-handle")):(n.dd.draggable(i,"enable"),i.addClass("ui-draggable-handle")))})),this},l.prototype.enableMove=function(e,t){this.movable(this.container.children("."+this.opts.itemClass),e),t&&(this.opts.disableDrag=!e)},l.prototype.enableResize=function(e,t){this.resizable(this.container.children("."+this.opts.itemClass),e),t&&(this.opts.disableResize=!e)},l.prototype.disable=function(){this.movable(this.container.children("."+this.opts.itemClass),!1),this.resizable(this.container.children("."+this.opts.itemClass),!1),this.container.trigger("disable")},l.prototype.enable=function(){this.movable(this.container.children("."+this.opts.itemClass),!0),this.resizable(this.container.children("."+this.opts.itemClass),!0),this.container.trigger("enable")},l.prototype.locked=function(t,r){return(t=e(t)).each((function(t,n){var i=(n=e(n)).data("_gridstack_node");null!=i&&(i.locked=r||!1,n.attr("data-gs-locked",i.locked?"yes":null))})),this},l.prototype.maxHeight=function(t,r){return(t=e(t)).each((function(t,n){var i=(n=e(n)).data("_gridstack_node");null!=i&&(isNaN(r)||(i.maxHeight=r||!1,n.attr("data-gs-max-height",r)))})),this},l.prototype.minHeight=function(t,r){return(t=e(t)).each((function(t,n){var i=(n=e(n)).data("_gridstack_node");null!=i&&(isNaN(r)||(i.minHeight=r||!1,n.attr("data-gs-min-height",r)))})),this},l.prototype.maxWidth=function(t,r){return(t=e(t)).each((function(t,n){var i=(n=e(n)).data("_gridstack_node");null!=i&&(isNaN(r)||(i.maxWidth=r||!1,n.attr("data-gs-max-width",r)))})),this},l.prototype.minWidth=function(t,r){return(t=e(t)).each((function(t,n){var i=(n=e(n)).data("_gridstack_node");null!=i&&(isNaN(r)||(i.minWidth=r||!1,n.attr("data-gs-min-width",r)))})),this},l.prototype._updateElement=function(t,r){var n=(t=e(t).first()).data("_gridstack_node");if(null!=n){var i=this;i.grid.cleanNodes(),i.grid.beginUpdate(n),r.call(this,t,n),i._updateContainerHeight(),i._triggerChangeEvent(),i.grid.endUpdate()}},l.prototype.resize=function(e,t,r){this._updateElement(e,(function(e,n){t=null!=t?t:n.width,r=null!=r?r:n.height,this.grid.moveNode(n,n.x,n.y,t,r)}))},l.prototype.move=function(e,t,r){this._updateElement(e,(function(e,n){t=null!=t?t:n.x,r=null!=r?r:n.y,this.grid.moveNode(n,t,r,n.width,n.height)}))},l.prototype.update=function(e,t,r,n,i){this._updateElement(e,(function(e,a){t=null!=t?t:a.x,r=null!=r?r:a.y,n=null!=n?n:a.width,i=null!=i?i:a.height,this.grid.moveNode(a,t,r,n,i)}))},l.prototype.verticalMargin=function(e,t){if(void 0===e)return this.opts.verticalMargin;var r=i.parseHeight(e);this.opts.verticalMarginUnit===r.unit&&this.opts.height===r.height||(this.opts.verticalMarginUnit=r.unit,this.opts.verticalMargin=r.height,t||this._updateStyles())},l.prototype.cellHeight=function(e,t){if(void 0===e){if(this.opts.cellHeight)return this.opts.cellHeight;var r=this.container.children("."+this.opts.itemClass).first();return Math.ceil(r.outerHeight()/r.attr("data-gs-height"))}var n=i.parseHeight(e);this.opts.cellHeightUnit===n.unit&&this.opts.cellHeight===n.height||(this.opts.cellHeightUnit=n.unit,this.opts.cellHeight=n.height,t||this._updateStyles())},l.prototype.cellWidth=function(){return Math.round(this.container.outerWidth()/this.opts.width)},l.prototype.getCellFromPixel=function(e,t){var r=void 0!==t&&t?this.container.offset():this.container.position(),n=e.left-r.left,i=e.top-r.top,a=Math.floor(this.container.width()/this.opts.width),o=Math.floor(this.container.height()/parseInt(this.container.attr("data-gs-current-height")));return{x:Math.floor(n/a),y:Math.floor(i/o)}},l.prototype.batchUpdate=function(){this.grid.batchUpdate()},l.prototype.commit=function(){this.grid.commit(),this._updateContainerHeight()},l.prototype.isAreaEmpty=function(e,t,r,n){return this.grid.isAreaEmpty(e,t,r,n)},l.prototype.setStatic=function(e){this.opts.staticGrid=!0===e,this.enableMove(!e),this.enableResize(!e),this._setStaticClass()},l.prototype._setStaticClass=function(){var e="grid-stack-static";!0===this.opts.staticGrid?this.container.addClass(e):this.container.removeClass(e)},l.prototype._updateNodeWidths=function(e,t){this.grid._sortNodes(),this.grid.batchUpdate();for(var r={},n=0;n<this.grid.nodes.length;n++)r=this.grid.nodes[n],this.update(r.el,Math.round(r.x*t/e),void 0,Math.round(r.width*t/e),void 0);this.grid.commit()},l.prototype.setGridWidth=function(e,t){this.container.removeClass("grid-stack-"+this.opts.width),!0!==t&&this._updateNodeWidths(this.opts.width,e),this.opts.width=e,this.grid.width=e,this.container.addClass("grid-stack-"+e)},s.prototype.batch_update=r(s.prototype.batchUpdate),s.prototype._fix_collisions=r(s.prototype._fixCollisions,"_fix_collisions","_fixCollisions"),s.prototype.is_area_empty=r(s.prototype.isAreaEmpty,"is_area_empty","isAreaEmpty"),s.prototype._sort_nodes=r(s.prototype._sortNodes,"_sort_nodes","_sortNodes"),s.prototype._pack_nodes=r(s.prototype._packNodes,"_pack_nodes","_packNodes"),s.prototype._prepare_node=r(s.prototype._prepareNode,"_prepare_node","_prepareNode"),s.prototype.clean_nodes=r(s.prototype.cleanNodes,"clean_nodes","cleanNodes"),s.prototype.get_dirty_nodes=r(s.prototype.getDirtyNodes,"get_dirty_nodes","getDirtyNodes"),s.prototype.add_node=r(s.prototype.addNode,"add_node","addNode, "),s.prototype.remove_node=r(s.prototype.removeNode,"remove_node","removeNode"),s.prototype.can_move_node=r(s.prototype.canMoveNode,"can_move_node","canMoveNode"),s.prototype.move_node=r(s.prototype.moveNode,"move_node","moveNode"),s.prototype.get_grid_height=r(s.prototype.getGridHeight,"get_grid_height","getGridHeight"),s.prototype.begin_update=r(s.prototype.beginUpdate,"begin_update","beginUpdate"),s.prototype.end_update=r(s.prototype.endUpdate,"end_update","endUpdate"),s.prototype.can_be_placed_with_respect_to_height=r(s.prototype.canBePlacedWithRespectToHeight,"can_be_placed_with_respect_to_height","canBePlacedWithRespectToHeight"),l.prototype._trigger_change_event=r(l.prototype._triggerChangeEvent,"_trigger_change_event","_triggerChangeEvent"),l.prototype._init_styles=r(l.prototype._initStyles,"_init_styles","_initStyles"),l.prototype._update_styles=r(l.prototype._updateStyles,"_update_styles","_updateStyles"),l.prototype._update_container_height=r(l.prototype._updateContainerHeight,"_update_container_height","_updateContainerHeight"),l.prototype._is_one_column_mode=r(l.prototype._isOneColumnMode,"_is_one_column_mode","_isOneColumnMode"),l.prototype._prepare_element=r(l.prototype._prepareElement,"_prepare_element","_prepareElement"),l.prototype.set_animation=r(l.prototype.setAnimation,"set_animation","setAnimation"),l.prototype.add_widget=r(l.prototype.addWidget,"add_widget","addWidget"),l.prototype.make_widget=r(l.prototype.makeWidget,"make_widget","makeWidget"),l.prototype.will_it_fit=r(l.prototype.willItFit,"will_it_fit","willItFit"),l.prototype.remove_widget=r(l.prototype.removeWidget,"remove_widget","removeWidget"),l.prototype.remove_all=r(l.prototype.removeAll,"remove_all","removeAll"),l.prototype.min_height=r(l.prototype.minHeight,"min_height","minHeight"),l.prototype.min_width=r(l.prototype.minWidth,"min_width","minWidth"),l.prototype._update_element=r(l.prototype._updateElement,"_update_element","_updateElement"),l.prototype.cell_height=r(l.prototype.cellHeight,"cell_height","cellHeight"),l.prototype.cell_width=r(l.prototype.cellWidth,"cell_width","cellWidth"),l.prototype.get_cell_from_pixel=r(l.prototype.getCellFromPixel,"get_cell_from_pixel","getCellFromPixel"),l.prototype.batch_update=r(l.prototype.batchUpdate,"batch_update","batchUpdate"),l.prototype.is_area_empty=r(l.prototype.isAreaEmpty,"is_area_empty","isAreaEmpty"),l.prototype.set_static=r(l.prototype.setStatic,"set_static","setStatic"),l.prototype._set_static_class=r(l.prototype._setStaticClass,"_set_static_class","_setStaticClass"),t.GridStackUI=l,t.GridStackUI.Utils=i,t.GridStackUI.Engine=s,t.GridStackUI.GridStackDragDropPlugin=a,e.fn.gridstack=function(t){return this.each((function(){var r=e(this);r.data("gridstack")||r.data("gridstack",new l(this,t))}))},t.GridStackUI})),
/**
 * gridstack.js 1.0.0-dev
 * http://troolee.github.io/gridstack.js/
 * (c) 2014-2017 Pavel Reznikov, Dylan Weiss
 * gridstack.js may be freely distributed under the MIT license.
 * @preserve
*/
function(e){if("function"==typeof define&&define.amd)define(["jquery","gridstack","exports","jquery-ui/data","jquery-ui/disable-selection","jquery-ui/focusable","jquery-ui/form","jquery-ui/ie","jquery-ui/keycode","jquery-ui/labels","jquery-ui/jquery-1-7","jquery-ui/plugin","jquery-ui/safe-active-element","jquery-ui/safe-blur","jquery-ui/scroll-parent","jquery-ui/tabbable","jquery-ui/unique-id","jquery-ui/version","jquery-ui/widget","jquery-ui/widgets/mouse","jquery-ui/widgets/draggable","jquery-ui/widgets/droppable","jquery-ui/widgets/resizable"],e);else if("undefined"!=typeof exports){try{jQuery=require("jquery")}catch(e){}try{gridstack=require("gridstack")}catch(e){}e(jQuery,gridstack.GridStackUI,exports)}else e(jQuery,GridStackUI,window)}((function(e,t,r){function n(e){t.GridStackDragDropPlugin.call(this,e)}return t.GridStackDragDropPlugin.registerPlugin(n),n.prototype=Object.create(t.GridStackDragDropPlugin.prototype),n.prototype.constructor=n,n.prototype.resizable=function(t,r){if(t=e(t),"disable"===r||"enable"===r)t.resizable(r);else if("option"===r){var n=arguments[2],i=arguments[3];t.resizable(r,n,i)}else{var a=t.data("gs-resize-handles")?t.data("gs-resize-handles"):this.grid.opts.resizable.handles;t.resizable(e.extend({},this.grid.opts.resizable,{handles:a},{start:r.start||function(){},stop:r.stop||function(){},resize:r.resize||function(){}}))}return this},n.prototype.draggable=function(t,r){return t=e(t),"disable"===r||"enable"===r?t.draggable(r):t.draggable(e.extend({},this.grid.opts.draggable,{containment:this.grid.opts.isNested?this.grid.container.parent():null,start:r.start||function(){},stop:r.stop||function(){},drag:r.drag||function(){}})),this},n.prototype.droppable=function(t,r){return(t=e(t)).droppable(r),this},n.prototype.isDroppable=function(t,r){return t=e(t),Boolean(t.data("droppable"))},n.prototype.on=function(t,r,n){return e(t).on(r,n),this},r.JQueryUIGridStackDragDropPlugin=n,n})),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"object"==typeof module?module.exports=e:e(jQuery)}((function(e,t){"use strict";var r={beforeShow:u,move:u,change:u,show:u,hide:u,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",belongsTo:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},n=[],i=!!/msie/i.exec(window.navigator.userAgent),a=function(){function e(e,t){return!!~(""+e).indexOf(t)}var t=document.createElement("div").style;return t.cssText="background-color:rgba(0,0,0,.5)",e(t.backgroundColor,"rgba")||e(t.backgroundColor,"hsla")}(),o=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),s=function(){var e="";if(i)for(var t=1;t<=6;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-wrap'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>",'<div class="sp-mt-inputs">','<div class="sp-alpha"><div class="sp-alpha-inner"><div class="sp-alpha-handle"></div></div></div>','<input type="text" class="sp-input-rgb sp-input">','<input type="text" class="sp-input-hsl sp-input">','<input type="text" class="sp-input-hex sp-input">','<div class="tvr-input-wrap input-var-wrap"><span class="color-var-label" title="'+TvrLang.color_var_label+'">VAR</span><input type="text" class="sp-input sp-input-var combobox has-suggestions" rel="color_extra"><span class="combo-arrow combo-dots"></span><span class="mt-clear-field"></span></div>',"</div>","</div>","</div>"].join("")}();function l(t,r,n,i){for(var o=[],s=0;s<t.length;s++){var l=t[s];if(l){var c=tinycolor(l),u=c.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";u+=tinycolor.equals(r,l)?" sp-thumb-active":"";var d=c.toString(i.preferredFormat||"rgb"),p=a?"background-color:"+c.toRgbString():"filter:"+c.toFilter();o.push('<span title="'+d+'" data-color="'+c.toRgbString()+'" class="'+u+'"><span class="sp-thumb-inner" style="'+p+';" /></span></span>')}else{o.push(e("<div />").append(e('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",i.noColorSelectedText)).html())}}return"<div class='sp-cf "+n+"'>"+o.join("")+"</div>"}function c(c,u){var h,_,g,m,v=function(t,n){var i=e.extend({},r,t);return i.callbacks={move:d(i.move,n),change:d(i.change,n),show:d(i.show,n),hide:d(i.hide,n),beforeShow:d(i.beforeShow,n)},i}(u,c),y=v.flat,b=v.showSelectionPalette,w=v.localStorageKey,T=v.theme,x=v.callbacks,k=(h=$e,_=10,function(){var e=this,t=arguments,r=function(){m=null,h.apply(e,t)};g&&clearTimeout(m),!g&&m||(m=setTimeout(r,_))}),S=!1,C=!1,M=0,A=0,O=0,E=0,P=0,D=0,j=0,I=0,L=0,R=0,N=1,F=[],q=[],U={},z=v.selectionPalette.slice(0),B=v.maxSelectionSize,$="sp-dragging",H=null,V=c.ownerDocument,W=(V.body,e(c)),G=!1,K=e(s,V).addClass(T),Q=K.find(".sp-picker-container"),X=K.find(".sp-color"),Y=K.find(".sp-dragger"),J=K.find(".sp-hue"),Z=K.find(".sp-slider"),ee=K.find(".sp-alpha-inner"),te=K.find(".sp-alpha"),re=K.find(".sp-alpha-handle"),ne=K.find(".sp-input:not(.sp-input-opacity)"),ie=K.find(".sp-palette"),ae=K.find(".sp-initial"),oe=K.find(".sp-cancel"),se=K.find(".sp-clear"),le=K.find(".sp-choose"),ce=K.find(".sp-palette-toggle"),ue=W.is("input"),de=ue&&"color"===W.attr("type")&&f(),pe=ue&&!y,fe=pe?e(o).addClass(T).addClass(v.className).addClass(v.replacerClassName):e([]),he=pe?fe:W,_e=fe.find(".sp-preview-inner"),ge=v.color||ue&&W.val(),me=!1,ve=v.preferredFormat,ye=ve,be=!v.showButtons||v.clickoutFiresChange,we=!ge,Te=v.allowEmpty&&!de;function xe(){if(v.showPaletteOnly&&(v.showPalette=!0),ce.text(v.showPaletteOnly?v.togglePaletteMoreText:v.togglePaletteLessText),v.palette){F=v.palette.slice(0),q=Array.isArray(F[0])?F:[F],U={};for(var e=0;e<q.length;e++)for(var t=0;t<q[e].length;t++){var r=tinycolor(q[e][t]).toRgbString();U[r]=!0}}K.toggleClass("sp-flat",y),K.toggleClass("sp-input-disabled",!v.showInput),K.toggleClass("sp-alpha-enabled",v.showAlpha),K.toggleClass("sp-clear-enabled",Te),K.toggleClass("sp-buttons-disabled",!v.showButtons),K.toggleClass("sp-palette-buttons-disabled",!v.togglePaletteOnly),K.toggleClass("sp-palette-disabled",!v.showPalette),K.toggleClass("sp-palette-only",v.showPaletteOnly),K.toggleClass("sp-initial-disabled",!v.showInitial),K.addClass(v.className).addClass(v.containerClassName),K.data("picker-belongs-to",v.belongsTo),K.attr("id","picker-belongs-to-"+v.belongsTo),$e()}function ke(){if(w&&window.localStorage){try{var t=window.localStorage[w].split(",#");t.length>1&&(delete window.localStorage[w],e.each(t,(function(e,t){Se(t)})))}catch(e){}try{z=window.localStorage[w].split(";")}catch(e){}}}function Se(t){if(b){var r=tinycolor(t).toRgbString();if(!U[r]&&-1===e.inArray(r,z))for(z.push(r);z.length>B;)z.shift();if(w&&window.localStorage)try{window.localStorage[w]=z.join(";")}catch(e){}}}function Ce(){var t=Fe(),r=e.map(q,(function(e,r){return l(e,t,"sp-palette-row sp-palette-row-"+r,v)}));ke(),z&&r.push(l(function(){var e=[];if(v.showPalette)for(var t=0;t<z.length;t++){var r=tinycolor(z[t]).toRgbString();U[r]||e.push(z[t])}return e.reverse().slice(0,v.maxSelectionSize)}(),t,"sp-palette-row sp-palette-row-selection",v)),ie.html(r.join(""))}function Me(){if(v.showInitial){var e=me,t=Fe();ae.html(l([e,t],t,"sp-palette-row-initial",v))}}function Ae(){(A<=0||M<=0||E<=0)&&$e(),C=!0,K.addClass($),H=null,W.trigger("dragstart.spectrum",[Fe()])}function Oe(){C=!1,K.removeClass($),W.trigger("dragstop.spectrum",[Fe()])}function Ee(e){var t=ne.val();if(null!==t&&""!==t||!Te){var r=tinycolor(t);r.isValid()?(Ne(r),Be(!0)):ne.addClass("sp-validation-error")}else Ne(null),Be(!0)}function Pe(){S?Le():De()}function De(){var t=e.Event("beforeShow.spectrum");S?$e():(W.trigger(t,[Fe()]),!1===x.beforeShow(Fe())||t.isDefaultPrevented()||(!function(){for(var e=0;e<n.length;e++)n[e]&&n[e].hide()}(),S=!0,e(V).on("keydown.spectrum",je),e(window).on("resize.spectrum",k),fe.addClass("sp-active"),K.removeClass("sp-hidden"),$e(),Ue(),me=Fe(),Me(),x.show(me),W.trigger("show.spectrum",[me])))}function je(e){27===e.keyCode&&Le()}function Ie(e){2!=e.button&&(C||(be?Be(!0):Re(),Le()))}function Le(){S&&!y&&(S=!1,e(V).unbind("keydown.spectrum",je),e(V).unbind("click.spectrum",Ie),e(window).unbind("resize.spectrum",k),fe.removeClass("sp-active"),K.addClass("sp-hidden"),x.hide(Fe()),W.trigger("hide.spectrum",[Fe()]))}function Re(){Ne(me,!0)}function Ne(e,t){var r,n;tinycolor.equals(e,Fe())?Ue():(!e&&Te?we=!0:(we=!1,n=(r=tinycolor(e)).toHsv(),I=n.h%360/360,L=n.s,R=n.v,N=n.a),Ue(),r&&r.isValid()&&!t&&(ye=ve||r.getFormat()))}function Fe(e){return e=e||{},Te&&we?null:tinycolor.fromRatio({h:I,s:L,v:R,a:Math.round(100*N)/100},{format:e.format||ye})}function qe(){Ue(),x.move(Fe()),W.trigger("move.spectrum",[Fe()])}function Ue(){ne.removeClass("sp-validation-error"),ze();var e=tinycolor.fromRatio({h:I,s:1,v:1});X.css("background-color",e.toHexString());var t=ye;N<1&&(0!==N||"name"!==t)&&("hex"!==t&&"hex3"!==t&&"hex6"!==t&&"name"!==t||(t="rgb"));var r=Fe({format:t}),n="";if(_e.removeClass("sp-clear-display"),_e.css("background-color","transparent"),!r&&Te)_e.addClass("sp-clear-display");else{var o=r.toHexString(),s=r.toRgbString();if(a||1===r.alpha?_e.css("background-color",s):(_e.css("background-color","transparent"),_e.css("filter",r.toFilter())),v.showAlpha){var l=r.toRgb();l.a=0;var c=tinycolor(l).toRgbString(),u="linear-gradient(left, "+c+", "+o+")";i?ee.css("filter",tinycolor(c).toFilter({gradientType:1},o)):(ee.css("background","-webkit-"+u),ee.css("background","-moz-"+u),ee.css("background","-ms-"+u),ee.css("background","linear-gradient(to right, "+c+", "+o+")"))}n=r.toString(t)}v.showInput&&ne.val(n),v.showPalette&&Ce(),Me()}function ze(){var e=L,t=R;if(Te&&we)re.hide(),Z.hide(),Y.hide();else{re.show(),Z.show(),Y.show();var r=e*M,n=A-t*A;r=Math.max(-O,Math.min(M-O,r-O)),n=Math.max(-O,Math.min(A-O,n-O)),Y.css({top:n+2+"px",left:r+2+"px"});var i=N*P;re.css({left:i-D/2+"px"});var a=I*E;Z.css({top:a-j+"px"})}}function Be(e){var t=Fe(),r="",n=!tinycolor.equals(t,me);t&&(r=t.toString(ye),Se(t)),ue&&W.val(r),e&&n&&(x.change(t),W.trigger("change",[t]))}function $e(){M=X.width(),A=X.height(),O=Y.height(),J.width(),E=J.height(),j=Z.height(),P=te.width(),D=re.width(),y||(K.css("position","absolute"),v.offset?K.offset(v.offset):K.offset(function(t,r){var n=0,i=t.outerWidth(),a=t.outerHeight(),o=r.outerHeight(),s=t[0].ownerDocument,l=s.documentElement,c=l.clientWidth+e(s).scrollLeft(),u=l.clientHeight+e(s).scrollTop(),d=r.offset();return d.top+=o,d.left-=Math.min(d.left,d.left+i>c&&c>i?Math.abs(d.left+i-c):0),d.top-=Math.min(d.top,d.top+a>u&&u>a?Math.abs(a+o-n):n),d}(K,he))),ze(),v.showPalette&&Ce(),W.trigger("reflow.spectrum")}function He(){Le(),G=!0,W.attr("disabled",!0),he.addClass("sp-disabled")}!function(){if(i&&K.find("*:not(input)").attr("unselectable","on"),xe(),pe&&W.after(fe).hide(),Te||se.hide(),y)W.after(K).hide();else{var t="parent"===v.appendTo?W.parent():e(v.appendTo);1!==t.length&&(t=e("body")),t.append(K)}function r(t){return t.data&&t.data.ignore?(Ne(e(t.target).closest(".sp-thumb-el").data("color")),qe()):(Ne(e(t.target).closest(".sp-thumb-el").data("color")),qe(),Be(!0),v.hideAfterPaletteSelect&&Le()),!1}ke(),he.on("click.spectrum touchstart.spectrum",(function(t){G||Pe(),t.stopPropagation(),e(t.target).is("input")||t.preventDefault()})),(W.is(":disabled")||!0===v.disabled)&&He(),K.on("click",(function(t){e(t.target).closest(".tvr-input-wrap, .ui-autocomplete").length||function(e){e.stopPropagation()}(t)})),ne.on("change",Ee),ne.on("keydown",(function(e){13==e.keyCode&&Ee()})),oe.text(v.cancelText),oe.on("click.spectrum",(function(e){e.stopPropagation(),e.preventDefault(),Re(),Le()})),se.attr("title",v.clearText),se.on("click.spectrum",(function(e){e.stopPropagation(),e.preventDefault(),TvrMT.TvrUi.setColorOnHide="",we=!0,qe(),y&&Be(!0)})),le.text(v.chooseText),le.on("click.spectrum",(function(e){e.stopPropagation(),e.preventDefault(),i&&ne.is(":focus")&&ne.trigger("change"),ne.hasClass("sp-validation-error")||(Be(!0),Le())})),ce.text(v.showPaletteOnly?v.togglePaletteMoreText:v.togglePaletteLessText),ce.on("click.spectrum",(function(e){e.stopPropagation(),e.preventDefault(),v.showPaletteOnly=!v.showPaletteOnly,v.showPaletteOnly||y||K.css("left","-="+(Q.outerWidth(!0)+5)),xe()})),p(te,(function(e,t,r){N=e/P,we=!1,r.shiftKey&&(N=Math.round(10*N)/10),qe()}),Ae,Oe),p(J,(function(e,t){I=parseFloat(t/E),we=!1,v.showAlpha||(N=1),qe()}),Ae,Oe),p(X,(function(e,t,r){if(r.shiftKey){if(!H){var n=L*M,i=A-R*A,a=Math.abs(e-n)>Math.abs(t-i);H=a?"x":"y"}}else H=null;var o=!H||"y"===H;(!H||"x"===H)&&(L=parseFloat(e/M)),o&&(R=parseFloat((A-t)/A)),we=!1,v.showAlpha||(N=1),qe()}),Ae,Oe),ge?(Ne(ge),Ue(),ye=ve||tinycolor(ge).format,Se(ge)):Ue(),y&&De();var n=i?"mousedown.spectrum":"click.spectrum touchstart.spectrum";ie.on(n,".sp-thumb-el",r),ae.on(n,".sp-thumb-el:nth-child(1)",{ignore:!0},r)}();var Ve={show:De,hide:Le,toggle:Pe,reflow:$e,option:function(r,n){return r===t?e.extend({},v):n===t?v[r]:(v[r]=n,void xe())},enable:function(){G=!1,W.attr("disabled",!1),he.removeClass("sp-disabled")},disable:He,offset:function(e){v.offset=e,$e()},set:function(e){Ne(e),Be()},get:Fe,destroy:function(){W.show(),he.unbind("click.spectrum touchstart.spectrum"),K.remove(),fe.remove(),n[Ve.id]=null},container:K};return Ve.id=n.push(Ve)-1,Ve}function u(){}function d(e,t){var r=Array.prototype.slice,n=r.call(arguments,2);return function(){return e.apply(t,n.concat(r.call(arguments)))}}function p(t,r,n,a){r=r||function(){},n=n||function(){},a=a||function(){};var o=document,s=!1,l={},c=0,u=0,d="ontouchstart"in window,p={};function f(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function h(e){if(s){if(i&&o.documentMode<9&&!e.button)return _();var n=e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches[0],a=n&&n.pageX||e.pageX,p=n&&n.pageY||e.pageY,h=Math.max(0,Math.min(a-l.left,u)),g=Math.max(0,Math.min(p-l.top,c));d&&f(e),r.apply(t,[h,g,e])}}function _(){s&&(e(o).off(p),e(o.body).removeClass("sp-dragging"),setTimeout((function(){a.apply(t,arguments)}),0)),s=!1}p.selectstart=f,p.dragstart=f,p["touchmove mousemove"]=h,p["touchend mouseup"]=_,e(t).on("touchstart mousedown",(function(r){(r.which?3==r.which:2==r.button)||s||!1!==n.apply(t,arguments)&&(s=!0,c=e(t).height(),u=e(t).width(),l=e(t).offset(),e(o).on(p),e(o.body).addClass("sp-dragging"),h(r),f(r))}))}function f(){return e.fn.mtspectrum.inputTypeColorSupport()}var h="spectrum.id";e.fn.mtspectrum=function(t,r){if("string"==typeof t){var i=this,a=Array.prototype.slice.call(arguments,1);return this.each((function(){var r=n[e(this).data(h)];if(r){var o=r[t];if(!o)throw new Error("Spectrum: no such method: '"+t+"'");"get"==t?i=r.get():"container"==t?i=r.container:"option"==t?i=r.option.apply(r,a):"destroy"==t?(r.destroy(),e(this).removeData(h)):o.apply(r,a)}})),i}return this.mtspectrum("destroy").each((function(){var r=c(this,e.extend({},t,e(this).data()));e(this).data(h,r.id)}))},e.fn.mtspectrum.load=!0,e.fn.mtspectrum.loadOpts={},e.fn.mtspectrum.draggable=p,e.fn.mtspectrum.defaults=r,e.fn.mtspectrum.inputTypeColorSupport=function t(){if(void 0===t._cachedResult){var r=e("<input type='color' value='!' />")[0];t._cachedResult="color"===r.type&&"!"!==r.value}return t._cachedResult},e.spectrum={},e.spectrum.localization={},e.spectrum.palettes={},e.fn.mtspectrum.processNativeColorInputs=function(){var t=e("input[type=color]");t.length&&!f()&&t.mtspectrum({preferredFormat:"hex6"})},function(){var e=/^[\s,#]+/,t=/\s+$/,r=0,n=Math,i=n.round,a=n.min,o=n.max,s=n.random,l=function(s,c){if(c=c||{},(s=s||"")instanceof l)return s;if(!(this instanceof l))return new l(s,c);var u=function(r){var i={r:0,g:0,b:0},s=1,l=!1,c=!1;"string"==typeof r&&(r=function(r){r=r.replace(e,"").replace(t,"").toLowerCase();var n,i=!1;if(C[r])r=C[r],i=!0;else if("transparent"==r)return{r:0,g:0,b:0,a:0,format:"name"};if(n=F.rgb.exec(r))return{r:n[1],g:n[2],b:n[3]};if(n=F.rgba.exec(r))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=F.hsl.exec(r))return{h:n[1],s:n[2],l:n[3]};if(n=F.hsla.exec(r))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=F.hsv.exec(r))return{h:n[1],s:n[2],v:n[3]};if(n=F.hsva.exec(r))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=F.hex8.exec(r))return{a:I(n[1]),r:P(n[2]),g:P(n[3]),b:P(n[4]),format:i?"name":"hex8"};if(n=F.hex6.exec(r))return{r:P(n[1]),g:P(n[2]),b:P(n[3]),format:i?"name":"hex"};if(n=F.hex3.exec(r))return{r:P(n[1]+""+n[1]),g:P(n[2]+""+n[2]),b:P(n[3]+""+n[3]),format:i?"name":"hex"};return!1}(r));"object"==typeof r&&(r.hasOwnProperty("r")&&r.hasOwnProperty("g")&&r.hasOwnProperty("b")?(u=r.r,d=r.g,p=r.b,i={r:255*O(u,255),g:255*O(d,255),b:255*O(p,255)},l=!0,c="%"===String(r.r).substr(-1)?"prgb":"rgb"):r.hasOwnProperty("h")&&r.hasOwnProperty("s")&&r.hasOwnProperty("v")?(r.s=j(r.s),r.v=j(r.v),i=function(e,t,r){e=6*O(e,360),t=O(t,100),r=O(r,100);var i=n.floor(e),a=e-i,o=r*(1-t),s=r*(1-a*t),l=r*(1-(1-a)*t),c=i%6,u=[r,s,o,o,l,r][c],d=[l,r,r,s,o,o][c],p=[o,o,l,r,r,s][c];return{r:255*u,g:255*d,b:255*p}}(r.h,r.s,r.v),l=!0,c="hsv"):r.hasOwnProperty("h")&&r.hasOwnProperty("s")&&r.hasOwnProperty("l")&&(r.s=j(r.s),r.l=j(r.l),i=function(e,t,r){var n,i,a;function o(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(e=O(e,360),t=O(t,100),r=O(r,100),0===t)n=i=a=r;else{var s=r<.5?r*(1+t):r+t-r*t,l=2*r-s;n=o(l,s,e+1/3),i=o(l,s,e),a=o(l,s,e-1/3)}return{r:255*n,g:255*i,b:255*a}}(r.h,r.s,r.l),l=!0,c="hsl"),r.hasOwnProperty("a")&&(s=r.a));var u,d,p;return s=A(s),{ok:l,format:r.format||c,r:a(255,o(i.r,0)),g:a(255,o(i.g,0)),b:a(255,o(i.b,0)),a:s}}(s);this._originalInput=s,this._r=u.r,this._g=u.g,this._b=u.b,this._a=u.a,this._roundA=i(100*this._a)/100,this._format=c.format||u.format,this._gradientType=c.gradientType,this._r<1&&(this._r=i(this._r)),this._g<1&&(this._g=i(this._g)),this._b<1&&(this._b=i(this._b)),this._ok=u.ok,this._tc_id=r++};function c(e,t,r){e=O(e,255),t=O(t,255),r=O(r,255);var n,i,s=o(e,t,r),l=a(e,t,r),c=(s+l)/2;if(s==l)n=i=0;else{var u=s-l;switch(i=c>.5?u/(2-s-l):u/(s+l),s){case e:n=(t-r)/u+(t<r?6:0);break;case t:n=(r-e)/u+2;break;case r:n=(e-t)/u+4}n/=6}return{h:n,s:i,l:c}}function u(e,t,r){e=O(e,255),t=O(t,255),r=O(r,255);var n,i,s=o(e,t,r),l=a(e,t,r),c=s,u=s-l;if(i=0===s?0:u/s,s==l)n=0;else{switch(s){case e:n=(t-r)/u+(t<r?6:0);break;case t:n=(r-e)/u+2;break;case r:n=(e-t)/u+4}n/=6}return{h:n,s:i,v:c}}function d(e,t,r,n){var a=[D(i(e).toString(16)),D(i(t).toString(16)),D(i(r).toString(16))];return n&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function p(e,t,r,n){var a;return[D((a=n,Math.round(255*parseFloat(a)).toString(16))),D(i(e).toString(16)),D(i(t).toString(16)),D(i(r).toString(16))].join("")}function f(e,t){t=0===t?0:t||10;var r=l(e).toHsl();return r.s-=t/100,r.s=E(r.s),l(r)}function h(e,t){t=0===t?0:t||10;var r=l(e).toHsl();return r.s+=t/100,r.s=E(r.s),l(r)}function _(e){return l(e).desaturate(100)}function g(e,t){t=0===t?0:t||10;var r=l(e).toHsl();return r.l+=t/100,r.l=E(r.l),l(r)}function m(e,t){t=0===t?0:t||10;var r=l(e).toRgb();return r.r=o(0,a(255,r.r-i(-t/100*255))),r.g=o(0,a(255,r.g-i(-t/100*255))),r.b=o(0,a(255,r.b-i(-t/100*255))),l(r)}function v(e,t){t=0===t?0:t||10;var r=l(e).toHsl();return r.l-=t/100,r.l=E(r.l),l(r)}function y(e,t){var r=l(e).toHsl(),n=(i(r.h)+t)%360;return r.h=n<0?360+n:n,l(r)}function b(e){var t=l(e).toHsl();return t.h=(t.h+180)%360,l(t)}function w(e){var t=l(e).toHsl(),r=t.h;return[l(e),l({h:(r+120)%360,s:t.s,l:t.l}),l({h:(r+240)%360,s:t.s,l:t.l})]}function T(e){var t=l(e).toHsl(),r=t.h;return[l(e),l({h:(r+90)%360,s:t.s,l:t.l}),l({h:(r+180)%360,s:t.s,l:t.l}),l({h:(r+270)%360,s:t.s,l:t.l})]}function x(e){var t=l(e).toHsl(),r=t.h;return[l(e),l({h:(r+72)%360,s:t.s,l:t.l}),l({h:(r+216)%360,s:t.s,l:t.l})]}function k(e,t,r){t=t||6,r=r||30;var n=l(e).toHsl(),i=360/r,a=[l(e)];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,a.push(l(n));return a}function S(e,t){t=t||6;for(var r=l(e).toHsv(),n=r.h,i=r.s,a=r.v,o=[],s=1/t;t--;)o.push(l({h:n,s:i,v:a})),a=(a+s)%1;return o}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},setAlpha:function(e){return this._a=A(e),this._roundA=i(100*this._a)/100,this},toHsv:function(){var e=u(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=u(this._r,this._g,this._b),t=i(360*e.h),r=i(100*e.s),n=i(100*e.v);return 1==this._a?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=c(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=c(this._r,this._g,this._b),t=i(360*e.h),r=i(100*e.s),n=i(100*e.l);return 1==this._a?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return d(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return p(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:i(this._r),g:i(this._g),b:i(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+i(this._r)+", "+i(this._g)+", "+i(this._b)+")":"rgba("+i(this._r)+", "+i(this._g)+", "+i(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:i(100*O(this._r,255))+"%",g:i(100*O(this._g,255))+"%",b:i(100*O(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+i(100*O(this._r,255))+"%, "+i(100*O(this._g,255))+"%, "+i(100*O(this._b,255))+"%)":"rgba("+i(100*O(this._r,255))+"%, "+i(100*O(this._g,255))+"%, "+i(100*O(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(M[d(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+p(this._r,this._g,this._b,this._a),r=t,n=this._gradientType?"GradientType = 1, ":"";e&&(r=l(e).toHex8String());return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"name"!==e?("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(v,arguments)},desaturate:function(){return this._applyModification(f,arguments)},saturate:function(){return this._applyModification(h,arguments)},greyscale:function(){return this._applyModification(_,arguments)},spin:function(){return this._applyModification(y,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(b,arguments)},monochromatic:function(){return this._applyCombination(S,arguments)},splitcomplement:function(){return this._applyCombination(x,arguments)},triad:function(){return this._applyCombination(w,arguments)},tetrad:function(){return this._applyCombination(T,arguments)}},l.fromRatio=function(e,t){if("object"==typeof e){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]="a"===n?e[n]:j(e[n]));e=r}return l(e,t)},l.equals=function(e,t){return!(!e||!t)&&l(e).toRgbString()==l(t).toRgbString()},l.random=function(){return l.fromRatio({r:s(),g:s(),b:s()})},l.mix=function(e,t,r){r=0===r?0:r||50;var n,i=l(e).toRgb(),a=l(t).toRgb(),o=r/100,s=2*o-1,c=a.a-i.a,u=1-(n=((n=s*c==-1?s:(s+c)/(1+s*c))+1)/2),d={r:a.r*n+i.r*u,g:a.g*n+i.g*u,b:a.b*n+i.b*u,a:a.a*o+i.a*(1-o)};return l(d)},l.readability=function(e,t){var r=l(e),n=l(t),i=r.toRgb(),a=n.toRgb(),o=r.getBrightness(),s=n.getBrightness(),c=Math.max(i.r,a.r)-Math.min(i.r,a.r)+Math.max(i.g,a.g)-Math.min(i.g,a.g)+Math.max(i.b,a.b)-Math.min(i.b,a.b);return{brightness:Math.abs(o-s),color:c}},l.isReadable=function(e,t){var r=l.readability(e,t);return r.brightness>125&&r.color>500},l.mostReadable=function(e,t){for(var r=null,n=0,i=!1,a=0;a<t.length;a++){var o=l.readability(e,t[a]),s=o.brightness>125&&o.color>500,c=o.brightness/125*3+o.color/500;(s&&!i||s&&i&&c>n||!s&&!i&&c>n)&&(i=s,n=c,r=l(t[a]))}return r};var C=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},M=l.hexNames=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}(C);function A(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function O(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var r=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=a(t,o(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),n.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function E(e){return a(1,o(0,e))}function P(e){return parseInt(e,16)}function D(e){return 1==e.length?"0"+e:""+e}function j(e){return e<=1&&(e=100*e+"%"),e}function I(e){return P(e)/255}var L,R,N,F=(R="[\\s|\\(]+("+(L="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+L+")[,|\\s]+("+L+")\\s*\\)?",N="[\\s|\\(]+("+L+")[,|\\s]+("+L+")[,|\\s]+("+L+")[,|\\s]+("+L+")\\s*\\)?",{rgb:new RegExp("rgb"+R),rgba:new RegExp("rgba"+N),hsl:new RegExp("hsl"+R),hsla:new RegExp("hsla"+N),hsv:new RegExp("hsv"+R),hsva:new RegExp("hsva"+N),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=l}(),e((function(){e.fn.mtspectrum.load&&e.fn.mtspectrum.processNativeColorInputs()}))})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).window=e.window||{})}(this,(function(e){"use strict";function t(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n(e){return"string"==typeof e}function i(e){return"function"==typeof e}function a(e){return"number"==typeof e}function o(e){return void 0===e}function s(e){return"object"==typeof e}function l(e){return!1!==e}function c(){return"undefined"!=typeof window}function u(e){return i(e)||n(e)}function d(e){return(me=ct(e,et))&&sr}function p(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")}function f(e,t){return!t&&console.warn(e)}function h(e,t){return e&&(et[e]=t)&&me&&(me[e]=t)||et}function _(){return 0}function g(e){var t,r,n=e[0];if(s(n)||i(n)||(e=[e]),!(t=(n._gsap||{}).harness)){for(r=st.length;r--&&!st[r].targetTest(n););t=st[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new Pt(e[r],t)))||e.splice(r,1);return e}function m(e){return e._gsap||g(ht(e))[0]._gsap}function v(e,t){var r=e[t];return i(r)?e[t]():o(r)&&e.getAttribute(t)||r}function y(e,t){return(e=e.split(",")).forEach(t)||e}function b(e){return Math.round(1e5*e)/1e5||0}function w(e,t){for(var r=t.length,n=0;e.indexOf(t[n])<0&&++n<r;);return n<r}function T(e,t,r){var n,i=a(e[1]),o=(i?2:1)+(t<2?0:1),s=e[o];if(i&&(s.duration=e[1]),s.parent=r,t){for(n=s;r&&!("immediateRender"in n);)n=r.vars.defaults||{},r=l(r.vars.inherit)&&r.parent;s.immediateRender=l(n.immediateRender),t<2?s.runBackwards=1:s.startAt=e[o-1]}return s}function x(){var e,t,r=rt.length,n=rt.slice(0);for(nt={},e=rt.length=0;e<r;e++)(t=n[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)}function k(e,t,r,n){rt.length&&x(),e.render(t,r,n),rt.length&&x()}function S(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(Ze).length<2?t:e}function C(e){return e}function M(e,t){for(var r in t)r in e||(e[r]=t[r]);return e}function A(e,t){for(var r in t)r in e||"duration"===r||"ease"===r||(e[r]=t[r])}function O(e,t){for(var r in t)e[r]=s(t[r])?O(e[r]||(e[r]={}),t[r]):t[r];return e}function E(e,t){var r,n={};for(r in e)r in t||(n[r]=e[r]);return n}function P(e){var t=e.parent||fe,r=e.keyframes?A:M;if(l(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e}function D(e,t,r,n){void 0===r&&(r="_first"),void 0===n&&(n="_last");var i=t._prev,a=t._next;i?i._next=a:e[r]===t&&(e[r]=a),a?a._prev=i:e[n]===t&&(e[n]=i),t._next=t._prev=t.parent=null}function j(e,t){!e.parent||t&&!e.parent.autoRemoveChildren||e.parent.remove(e),e._act=0}function I(e){for(var t=e;t;)t._dirty=1,t=t.parent;return e}function L(e){return e._repeat?ut(e._tTime,e=e.duration()+e._rDelay)*e:0}function R(e,t){return(e-t._start)*t._ts+(0<=t._ts?0:t._dirty?t.totalDuration():t._tDur)}function N(e){return e._end=b(e._start+(e._tDur/Math.abs(e._ts||e._rts||qe)||0))}function F(e,t){var r;if((t._time||t._initted&&!t._dur)&&(r=R(e.rawTime(),t),(!t._dur||pt(0,t.totalDuration(),r)-t._tTime>qe)&&t.render(r,!0)),I(e)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)0<=r.rawTime()&&r.totalTime(r._tTime),r=r._dp;e._zTime=-qe}}function q(e,t,r,n){return t.parent&&j(t),t._start=b(r+t._delay),t._end=b(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),function(e,t,r,n,i){void 0===r&&(r="_first"),void 0===n&&(n="_last");var a,o=e[n];if(i)for(a=t[i];o&&o[i]>a;)o=o._prev;o?(t._next=o._next,o._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[n]=t,t._prev=o,t.parent=t._dp=e}(e,t,"_first","_last",e._sort?"_start":0),e._recent=t,n||F(e,t),e}function U(e,t){return(et.ScrollTrigger||p("scrollTrigger",t))&&et.ScrollTrigger.create(t,e)}function z(e,t,r,n){return Ft(e,t),e._initted?!r&&e._pt&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&ye!==wt.frame?(rt.push(e),e._lazy=[t,n],1):void 0:1}function B(e,t,r){var n=e._repeat,i=b(t)||0;return e._dur=i,e._tDur=n?n<0?1e10:b(i*(n+1)+e._rDelay*n):i,e._time>i&&(e._time=i,e._tTime=Math.min(e._tTime,e._tDur)),r||I(e.parent),e.parent&&N(e),e}function $(e){return e instanceof It?I(e):B(e,e._dur)}function H(e,t){var r,i,a=e.labels,o=e._recent||dt,s=e.duration()>=Fe?o.endTime(!1):e._dur;return n(t)&&(isNaN(t)||t in a)?"<"===(r=t.charAt(0))||">"===r?("<"===r?o._start:o.endTime(0<=o._repeat))+(parseFloat(t.substr(1))||0):(r=t.indexOf("="))<0?(t in a||(a[t]=s),a[t]):(i=+(t.charAt(r-1)+t.substr(r+1)),1<r?H(e,t.substr(0,r-1))+i:s+i):null==t?s:+t}function V(e,t){return e||0===e?t(e):t}function W(e){return(e+"").substr((parseFloat(e)+"").length)}function G(e,t){return e&&s(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&s(e[0]))&&!e.nodeType&&e!==he}function K(e){return e.sort((function(){return.5-Math.random()}))}function Q(e){if(i(e))return e;var t=s(e)?e:{each:e},r=Mt(t.ease),a=t.from||0,o=parseFloat(t.base)||0,l={},c=0<a&&a<1,u=isNaN(a)||c,d=t.axis,p=a,f=a;return n(a)?p=f={center:.5,edges:.5,end:1}[a]||0:!c&&u&&(p=a[0],f=a[1]),function(e,n,i){var s,c,h,_,g,m,v,y,w,T=(i||t).length,x=l[T];if(!x){if(!(w="auto"===t.grid?0:(t.grid||[1,Fe])[1])){for(v=-Fe;v<(v=i[w++].getBoundingClientRect().left)&&w<T;);w--}for(x=l[T]=[],s=u?Math.min(w,T)*p-.5:a%w,c=u?T*f/w-.5:a/w|0,y=Fe,m=v=0;m<T;m++)h=m%w-s,_=c-(m/w|0),x[m]=g=d?Math.abs("y"===d?_:h):$e(h*h+_*_),v<g&&(v=g),g<y&&(y=g);"random"===a&&K(x),x.max=v-y,x.min=y,x.v=T=(parseFloat(t.amount)||parseFloat(t.each)*(T<w?T-1:d?"y"===d?T/w:w:Math.max(w,T/w))||0)*("edges"===a?-1:1),x.b=T<0?o-T:o,x.u=W(t.amount||t.each)||0,r=r&&T<0?Ct(r):r}return T=(x[e]-x.min)/x.max||0,b(x.b+(r?r(T):T)*x.v)+x.u}}function X(e){var t=e<1?Math.pow(10,(e+"").length-2):1;return function(r){return Math.floor(Math.round(parseFloat(r)/e)*e*t)/t+(a(r)?0:W(r))}}function Y(e,t){var r,n,o=We(e);return!o&&s(e)&&(r=o=e.radius||Fe,e.values?(e=ht(e.values),(n=!a(e[0]))&&(r*=r)):e=X(e.increment)),V(t,o?i(e)?function(t){return n=e(t),Math.abs(n-t)<=r?n:t}:function(t){for(var i,o,s=parseFloat(n?t.x:t),l=parseFloat(n?t.y:0),c=Fe,u=0,d=e.length;d--;)(i=n?(i=e[d].x-s)*i+(o=e[d].y-l)*o:Math.abs(e[d]-s))<c&&(c=i,u=d);return u=!r||c<=r?e[u]:t,n||u===t||a(t)?u:u+W(t)}:X(e))}function J(e,t,r,n){return V(We(e)?!t:!0===r?!!(r=0):!n,(function(){return We(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(n=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e+Math.random()*(t-e))/r)*r*n)/n}))}function Z(e,t,r){return V(r,(function(r){return e[~~t(r)]}))}function ee(e){for(var t,r,n,i,a=0,o="";~(t=e.indexOf("random(",a));)n=e.indexOf(")",t),i="["===e.charAt(t+7),r=e.substr(t+7,n-t-7).match(i?Ze:Ge),o+=e.substr(a,t-a)+J(i?r:+r[0],+r[1],+r[2]||1e-5),a=n+1;return o+e.substr(a,e.length-a)}function te(e,t,r){var n,i,a,o=e.labels,s=Fe;for(n in o)(i=o[n]-t)<0==!!r&&i&&s>(i=Math.abs(i))&&(a=n,s=i);return a}function re(e){return j(e),e.progress()<1&&gt(e,"onInterrupt"),e}function ne(e,t,r){return(6*(e=e<0?e+1:1<e?e-1:e)<1?t+(r-t)*e*6:e<.5?r:3*e<2?t+(r-t)*(2/3-e)*6:t)*mt+.5|0}function ie(e,t,r){var n,i,o,s,l,c,u,d,p,f,h=e?a(e)?[e>>16,e>>8&mt,e&mt]:0:vt.black;if(!h){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),vt[e])h=vt[e];else if("#"===e.charAt(0))4===e.length&&(e="#"+(n=e.charAt(1))+n+(i=e.charAt(2))+i+(o=e.charAt(3))+o),h=[(e=parseInt(e.substr(1),16))>>16,e>>8&mt,e&mt];else if("hsl"===e.substr(0,3))if(h=f=e.match(Ge),t){if(~e.indexOf("="))return h=e.match(Ke),r&&h.length<4&&(h[3]=1),h}else s=+h[0]%360/360,l=h[1]/100,n=2*(c=h[2]/100)-(i=c<=.5?c*(l+1):c+l-c*l),3<h.length&&(h[3]*=1),h[0]=ne(s+1/3,n,i),h[1]=ne(s,n,i),h[2]=ne(s-1/3,n,i);else h=e.match(Ge)||vt.transparent;h=h.map(Number)}return t&&!f&&(n=h[0]/mt,i=h[1]/mt,o=h[2]/mt,c=((u=Math.max(n,i,o))+(d=Math.min(n,i,o)))/2,u===d?s=l=0:(p=u-d,l=.5<c?p/(2-u-d):p/(u+d),s=u===n?(i-o)/p+(i<o?6:0):u===i?(o-n)/p+2:(n-i)/p+4,s*=60),h[0]=~~(s+.5),h[1]=~~(100*l+.5),h[2]=~~(100*c+.5)),r&&h.length<4&&(h[3]=1),h}function ae(e){var t=[],r=[],n=-1;return e.split(yt).forEach((function(e){var i=e.match(Qe)||[];t.push.apply(t,i),r.push(n+=i.length+1)})),t.c=r,t}function oe(e,t,r){var n,i,a,o,s="",l=(e+s).match(yt),c=t?"hsla(":"rgba(",u=0;if(!l)return e;if(l=l.map((function(e){return(e=ie(e,t,1))&&c+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),r&&(a=ae(e),(n=r.c).join(s)!==a.c.join(s)))for(o=(i=e.replace(yt,"1").split(Qe)).length-1;u<o;u++)s+=i[u]+(~n.indexOf(u)?l.shift()||c+"0,0,0,0)":(a.length?a:l.length?l:r).shift());if(!i)for(o=(i=e.split(yt)).length-1;u<o;u++)s+=i[u]+l[u];return s+i[o]}function se(e){var t,r=e.join(" ");if(yt.lastIndex=0,yt.test(r))return t=bt.test(r),e[1]=oe(e[1],t),e[0]=oe(e[0],t,ae(e[1])),!0}function le(e,t){for(var r,n=e._first;n;)n instanceof It?le(n,t):!n.vars.yoyoEase||n._yoyo&&n._repeat||n._yoyo===t||(n.timeline?le(n.timeline,t):(r=n._ease,n._ease=n._yEase,n._yEase=r,n._yoyo=t)),n=n._next}function ce(e,t,r,n){void 0===r&&(r=function(e){return 1-t(1-e)}),void 0===n&&(n=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,a={easeIn:t,easeOut:r,easeInOut:n};return y(e,(function(e){for(var t in xt[e]=et[e]=a,xt[i=e.toLowerCase()]=r,a)xt[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=xt[e+"."+t]=a[t]})),a}function ue(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}}function de(e,t,r){function n(e){return 1===e?1:i*Math.pow(2,-10*e)*Ve((e-o)*a)+1}var i=1<=t?t:1,a=(r||(e?.3:.45))/(t<1?t:1),o=a/Ue*(Math.asin(1/i)||0),s="out"===e?n:"in"===e?function(e){return 1-n(1-e)}:ue(n);return a=Ue/a,s.config=function(t,r){return de(e,t,r)},s}function pe(e,t){function r(e){return e?--e*e*((t+1)*e+t)+1:0}void 0===t&&(t=1.70158);var n="out"===e?r:"in"===e?function(e){return 1-r(1-e)}:ue(r);return n.config=function(t){return pe(e,t)},n}var fe,he,_e,ge,me,ve,ye,be,we,Te,xe,ke,Se,Ce,Me,Ae,Oe,Ee,Pe,De,je,Ie,Le,Re={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Ne={duration:.5,overwrite:!1,delay:0},Fe=1e8,qe=1/Fe,Ue=2*Math.PI,ze=Ue/4,Be=0,$e=Math.sqrt,He=Math.cos,Ve=Math.sin,We=Array.isArray,Ge=/(?:-?\.?\d|\.)+/gi,Ke=/[-+=.]*\d+[.e\-+]*\d*[e\-\+]*\d*/g,Qe=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Xe=/[-+=.]*\d+(?:\.|e-|e)*\d*/gi,Ye=/\(([^()]+)\)/i,Je=/[+-]=-?[\.\d]+/,Ze=/[#\-+.]*\b[a-z\d-=+%.]+/gi,et={},tt={},rt=[],nt={},it={},at={},ot=30,st=[],lt="",ct=function(e,t){for(var r in t)e[r]=t[r];return e},ut=function(e,t){return(e/=t)&&~~e===e?~~e-1:~~e},dt={_start:0,endTime:_},pt=function(e,t,r){return r<e?e:t<r?t:r},ft=[].slice,ht=function(e,t){return!n(e)||t||!_e&&Tt()?We(e)?function(e,t,r){return void 0===r&&(r=[]),e.forEach((function(e){return n(e)&&!t||G(e,1)?r.push.apply(r,ht(e)):r.push(e)}))||r}(e,t):G(e)?ft.call(e,0):e?[e]:[]:ft.call(ge.querySelectorAll(e),0)},_t=function(e,t,r,n,i){var a=t-e,o=n-r;return V(i,(function(t){return r+((t-e)/a*o||0)}))},gt=function(e,t,r){var n,i,a=e.vars,o=a[t];if(o)return n=a[t+"Params"],i=a.callbackScope||e,r&&rt.length&&x(),n?o.apply(i,n):o.call(i)},mt=255,vt={aqua:[0,mt,mt],lime:[0,mt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,mt],navy:[0,0,128],white:[mt,mt,mt],olive:[128,128,0],yellow:[mt,mt,0],orange:[mt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[mt,0,0],pink:[mt,192,203],cyan:[0,mt,mt],transparent:[mt,mt,mt,0]},yt=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(e in vt)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),bt=/hsl[a]?\(/,wt=(Ce=Date.now,Me=500,Ae=33,Oe=Ce(),Ee=Oe,De=Pe=1/240,Se={time:0,frame:0,tick:function(){At(!0)},wake:function(){ve&&(!_e&&c()&&(he=_e=window,ge=he.document||{},et.gsap=sr,(he.gsapVersions||(he.gsapVersions=[])).push(sr.version),d(me||he.GreenSockGlobals||!he.gsap&&he||{}),ke=he.requestAnimationFrame),Te&&Se.sleep(),xe=ke||function(e){return setTimeout(e,1e3*(De-Se.time)+1|0)},we=1,At(2))},sleep:function(){(ke?he.cancelAnimationFrame:clearTimeout)(Te),we=0,xe=_},lagSmoothing:function(e,t){Me=e||1e8,Ae=Math.min(t,Me,0)},fps:function(e){Pe=1/(e||240),De=Se.time+Pe},add:function(e){je.indexOf(e)<0&&je.push(e),Tt()},remove:function(e){var t;~(t=je.indexOf(e))&&je.splice(t,1)},_listeners:je=[]}),Tt=function(){return!we&&wt.wake()},xt={},kt=/^[\d.\-M][\d.\-,\s]/,St=/["']/g,Ct=function(e){return function(t){return 1-e(1-t)}},Mt=function(e,t){return e&&(i(e)?e:xt[e]||function(e){var t=(e+"").split("("),r=xt[t[0]];return r&&1<t.length&&r.config?r.config.apply(null,~e.indexOf("{")?[function(e){for(var t,r,n,i={},a=e.substr(1,e.length-3).split(":"),o=a[0],s=1,l=a.length;s<l;s++)r=a[s],t=s!==l-1?r.lastIndexOf(","):r.length,n=r.substr(0,t),i[o]=isNaN(n)?n.replace(St,"").trim():+n,o=r.substr(t+1).trim();return i}(t[1])]:Ye.exec(e)[1].split(",").map(S)):xt._CE&&kt.test(e)?xt._CE("",e):r}(e))||t};function At(e){var t,r,n=Ce()-Ee,i=!0===e;Me<n&&(Oe+=n-Ae),Ee+=n,Se.time=(Ee-Oe)/1e3,(0<(t=Se.time-De)||i)&&(Se.frame++,De+=t+(Pe<=t?.004:Pe-t),r=1),i||(Te=xe(At)),r&&je.forEach((function(t){return t(Se.time,n,Se.frame,e)}))}function Ot(e){return e<Le?Ie*e*e:e<.7272727272727273?Ie*Math.pow(e-1.5/2.75,2)+.75:e<.9090909090909092?Ie*(e-=2.25/2.75)*e+.9375:Ie*Math.pow(e-2.625/2.75,2)+.984375}y("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var r=t<5?t+1:t;ce(e+",Power"+(r-1),t?function(e){return Math.pow(e,r)}:function(e){return e},(function(e){return 1-Math.pow(1-e,r)}),(function(e){return e<.5?Math.pow(2*e,r)/2:1-Math.pow(2*(1-e),r)/2}))})),xt.Linear.easeNone=xt.none=xt.Linear.easeIn,ce("Elastic",de("in"),de("out"),de()),Ie=7.5625,Le=1/2.75,ce("Bounce",(function(e){return 1-Ot(1-e)}),Ot),ce("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),ce("Circ",(function(e){return-($e(1-e*e)-1)})),ce("Sine",(function(e){return 1===e?1:1-He(e*ze)})),ce("Back",pe("in"),pe("out"),pe()),xt.SteppedEase=xt.steps=et.SteppedEase={config:function(e,t){void 0===e&&(e=1);var r=1/e,n=e+(t?0:1),i=t?1:0;return function(e){return((n*pt(0,.99999999,e)|0)+i)*r}}},Ne.ease=xt["quad.out"],y("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return lt+=e+","+e+"Params,"}));var Et,Pt=function(e,t){this.id=Be++,(e._gsap=this).target=e,this.harness=t,this.get=t?t.get:v,this.set=t?t.getSetter:Kt},Dt=((Et=jt.prototype).delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},Et.duration=function(e){return arguments.length?this.totalDuration(0<this._repeat?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},Et.totalDuration=function(e){return arguments.length?(this._dirty=0,B(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},Et.totalTime=function(e,t){if(Tt(),!arguments.length)return this._tTime;var r=this.parent||this._dp;if(r&&r.smoothChildTiming&&this._ts){for(this._start=b(r._time-(0<this._ts?e/this._ts:((this._dirty?this.totalDuration():this._tDur)-e)/-this._ts)),N(this),r._dirty||I(r);r.parent;)r.parent._time!==r._start+(0<=r._ts?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(0<this._ts&&e<this._tDur||this._ts<0&&0<e||!this._tDur&&!e)&&q(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===qe||!e&&!this._initted)&&(this._ts||(this._pTime=e),k(this,e,t)),this},Et.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+L(this))%this._dur||(e?this._dur:0),t):this._time},Et.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},Et.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+L(this),t):this.duration()?Math.min(1,this._time/this._dur):this.ratio},Et.iteration=function(e,t){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*r,t):this._repeat?ut(this._tTime,r)+1:1},Et.timeScale=function(e){if(!arguments.length)return this._rts===-qe?0:this._rts;if(this._rts===e)return this;var t=this.parent&&this._ts?R(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||e===-qe?0:this._rts,function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this.totalTime(pt(0,this._tDur,t),!0))},Et.paused=function(e){return arguments.length?(this._ps!==e&&((this._ps=e)?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Tt(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=qe)&&Math.abs(this._zTime)!==qe))),this):this._ps},Et.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return!t||!t._sort&&this.parent||q(t,this,e-this._delay),this}return this._start},Et.endTime=function(e){return this._start+(l(e)?this.totalDuration():this.duration())/Math.abs(this._ts)},Et.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?R(t.rawTime(e),this):this._tTime:this._tTime},Et.repeat=function(e){return arguments.length?(this._repeat=e,$(this)):this._repeat},Et.repeatDelay=function(e){return arguments.length?(this._rDelay=e,$(this)):this._rDelay},Et.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},Et.seek=function(e,t){return this.totalTime(H(this,e),l(t))},Et.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,l(t))},Et.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},Et.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},Et.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},Et.resume=function(){return this.paused(!1)},Et.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-qe:0)),this):this._rts<0},Et.invalidate=function(){return this._initted=0,this._zTime=-qe,this},Et.isActive=function(e){var t,r=this.parent||this._dp,n=this._start;return!(r&&!(this._ts&&(this._initted||!e)&&r.isActive(e)&&(t=r.rawTime(!0))>=n&&t<this.endTime(!0)-qe))},Et.eventCallback=function(e,t,r){var n=this.vars;return 1<arguments.length?(t?(n[e]=t,r&&(n[e+"Params"]=r),"onUpdate"===e&&(this._onUpdate=t)):delete n[e],this):n[e]},Et.then=function(e){var t=this;return new Promise((function(r){function n(){var e=t.then;t.then=null,i(a)&&(a=a(t))&&(a.then||a===t)&&(t.then=e),r(a),t.then=e}var a=i(e)?e:C;t._initted&&1===t.totalProgress()&&0<=t._ts||!t._tTime&&t._ts<0?n():t._prom=n}))},Et.kill=function(){re(this)},jt);function jt(e,t){var r=e.parent||fe;this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,B(this,+e.duration,1),this.data=e.data,we||wt.wake(),r&&q(r,this,t||0===t?t:r._time,1),e.reversed&&this.reverse(),e.paused&&this.paused(!0)}M(Dt.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-qe,_prom:0,_ps:!1,_rts:1});var It=function(e){function o(t,n){var i;return void 0===t&&(t={}),(i=e.call(this,t,n)||this).labels={},i.smoothChildTiming=!!t.smoothChildTiming,i.autoRemoveChildren=!!t.autoRemoveChildren,i._sort=l(t.sortChildren),i.parent&&F(i.parent,r(i)),t.scrollTrigger&&U(r(i),t.scrollTrigger),i}t(o,e);var s=o.prototype;return s.to=function(e,t,r,n){return new Bt(e,T(arguments,0,this),H(this,a(t)?n:r)),this},s.from=function(e,t,r,n){return new Bt(e,T(arguments,1,this),H(this,a(t)?n:r)),this},s.fromTo=function(e,t,r,n,i){return new Bt(e,T(arguments,2,this),H(this,a(t)?i:n)),this},s.set=function(e,t,r){return t.duration=0,t.parent=this,P(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new Bt(e,t,H(this,r),1),this},s.call=function(e,t,r){return q(this,Bt.delayedCall(0,e,t),H(this,r))},s.staggerTo=function(e,t,r,n,i,a,o){return r.duration=t,r.stagger=r.stagger||n,r.onComplete=a,r.onCompleteParams=o,r.parent=this,new Bt(e,r,H(this,i)),this},s.staggerFrom=function(e,t,r,n,i,a,o){return r.runBackwards=1,P(r).immediateRender=l(r.immediateRender),this.staggerTo(e,t,r,n,i,a,o)},s.staggerFromTo=function(e,t,r,n,i,a,o,s){return n.startAt=r,P(n).immediateRender=l(n.immediateRender),this.staggerTo(e,t,n,i,a,o,s)},s.render=function(e,t,r){var n,i,a,o,s,l,c,u,d,p,f,h,_=this._time,g=this._dirty?this.totalDuration():this._tDur,m=this._dur,v=this!==fe&&g-qe<e&&0<=e?g:e<qe?0:e,y=this._zTime<0!=e<0&&(this._initted||!m);if(v!==this._tTime||r||y){if(_!==this._time&&m&&(v+=this._time-_,e+=this._time-_),n=v,d=this._start,l=!(u=this._ts),y&&(m||(_=this._zTime),!e&&t||(this._zTime=e)),this._repeat&&(f=this._yoyo,(m<(n=b(v%(s=m+this._rDelay)))||g===v)&&(n=m),(o=~~(v/s))&&o===v/s&&(n=m,o--),p=ut(this._tTime,s),!_&&this._tTime&&p!==o&&(p=o),f&&1&o&&(n=m-n,h=1),o!==p&&!this._lock)){var w=f&&1&p,T=w===(f&&1&o);if(o<p&&(w=!w),_=w?0:m,this._lock=1,this.render(_||(h?0:b(o*s)),t,!m)._lock=0,!t&&this.parent&&gt(this,"onRepeat"),this.vars.repeatRefresh&&!h&&(this.invalidate()._lock=1),_!==this._time||l!=!this._ts)return this;if(T&&(this._lock=2,_=w?m+1e-4:-1e-4,this.render(_,!0),this.vars.repeatRefresh&&!h&&this.invalidate()),this._lock=0,!this._ts&&!l)return this;le(this,h)}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=function(e,t,r){var n;if(t<r)for(n=e._first;n&&n._start<=r;){if(!n._dur&&"isPause"===n.data&&n._start>t)return n;n=n._next}else for(n=e._last;n&&n._start>=r;){if(!n._dur&&"isPause"===n.data&&n._start<t)return n;n=n._prev}}(this,b(_),b(n)))&&(v-=n-(n=c._start)),this._tTime=v,this._time=n,this._act=!u,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e),_||!n||t||gt(this,"onStart"),_<=n&&0<=e)for(i=this._first;i;){if(a=i._next,(i._act||n>=i._start)&&i._ts&&c!==i){if(i.parent!==this)return this.render(e,t,r);if(i.render(0<i._ts?(n-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(n-i._start)*i._ts,t,r),n!==this._time||!this._ts&&!l){c=0,a&&(v+=this._zTime=-qe);break}}i=a}else{i=this._last;for(var x=e<0?e:n;i;){if(a=i._prev,(i._act||x<=i._end)&&i._ts&&c!==i){if(i.parent!==this)return this.render(e,t,r);if(i.render(0<i._ts?(x-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(x-i._start)*i._ts,t,r),n!==this._time||!this._ts&&!l){c=0,a&&(v+=this._zTime=x?-qe:qe);break}}i=a}}if(c&&!t&&(this.pause(),c.render(_<=n?0:-qe)._zTime=_<=n?1:-1,this._ts))return this._start=d,N(this),this.render(e,t,r);this._onUpdate&&!t&&gt(this,"onUpdate",!0),(v===g&&g>=this.totalDuration()||!v&&_)&&(d!==this._start&&Math.abs(u)===Math.abs(this._ts)||this._lock||(!e&&m||!(v===g&&0<this._ts||!v&&this._ts<0)||j(this,1),t||e<0&&!_||!v&&!_||(gt(this,v===g?"onComplete":"onReverseComplete",!0),!this._prom||v<g&&0<this.timeScale()||this._prom())))}return this},s.add=function(e,t){var r=this;if(a(t)||(t=H(this,t)),!(e instanceof Dt)){if(We(e))return e.forEach((function(e){return r.add(e,t)})),I(this);if(n(e))return this.addLabel(e,t);if(!i(e))return this;e=Bt.delayedCall(0,e)}return this!==e?q(this,e,t):this},s.getChildren=function(e,t,r,n){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===r&&(r=!0),void 0===n&&(n=-Fe);for(var i=[],a=this._first;a;)a._start>=n&&(a instanceof Bt?t&&i.push(a):(r&&i.push(a),e&&i.push.apply(i,a.getChildren(!0,t,r)))),a=a._next;return i},s.getById=function(e){for(var t=this.getChildren(1,1,1),r=t.length;r--;)if(t[r].vars.id===e)return t[r]},s.remove=function(e){return n(e)?this.removeLabel(e):i(e)?this.killTweensOf(e):(D(this,e),e===this._recent&&(this._recent=this._last),I(this))},s.totalTime=function(t,r){return arguments.length?(this._forcing=1,this.parent||this._dp||!this._ts||(this._start=b(wt.time-(0<this._ts?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,r),this._forcing=0,this):this._tTime},s.addLabel=function(e,t){return this.labels[e]=H(this,t),this},s.removeLabel=function(e){return delete this.labels[e],this},s.addPause=function(e,t,r){var n=Bt.delayedCall(0,t||_,r);return n.data="isPause",this._hasPause=1,q(this,n,H(this,e))},s.removePause=function(e){var t=this._first;for(e=H(this,e);t;)t._start===e&&"isPause"===t.data&&j(t),t=t._next},s.killTweensOf=function(e,t,r){for(var n=this.getTweensOf(e,r),i=n.length;i--;)Rt!==n[i]&&n[i].kill(e,t);return this},s.getTweensOf=function(e,t){for(var r,n=[],i=ht(e),a=this._first;a;)a instanceof Bt?!w(a._targets,i)||t&&!a.isActive("started"===t)||n.push(a):(r=a.getTweensOf(i,t)).length&&n.push.apply(n,r),a=a._next;return n},s.tweenTo=function(e,t){t=t||{};var r=this,n=H(r,e),i=t.startAt,a=t.onStart,o=t.onStartParams,s=Bt.to(r,M(t,{ease:"none",lazy:!1,time:n,duration:t.duration||Math.abs((n-(i&&"time"in i?i.time:r._time))/r.timeScale())||qe,onStart:function(){r.pause();var e=t.duration||Math.abs((n-r._time)/r.timeScale());s._dur!==e&&B(s,e).render(s._time,!0,!0),a&&a.apply(s,o||[])}}));return s},s.tweenFromTo=function(e,t,r){return this.tweenTo(t,M({startAt:{time:H(this,e)}},r))},s.recent=function(){return this._recent},s.nextLabel=function(e){return void 0===e&&(e=this._time),te(this,H(this,e))},s.previousLabel=function(e){return void 0===e&&(e=this._time),te(this,H(this,e),1)},s.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+qe)},s.shiftChildren=function(e,t,r){void 0===r&&(r=0);for(var n,i=this._first,a=this.labels;i;)i._start>=r&&(i._start+=e),i=i._next;if(t)for(n in a)a[n]>=r&&(a[n]+=e);return I(this)},s.invalidate=function(){var t=this._first;for(this._lock=0;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},s.clear=function(e){void 0===e&&(e=!0);for(var t,r=this._first;r;)t=r._next,this.remove(r),r=t;return this._time=this._tTime=this._pTime=0,e&&(this.labels={}),I(this)},s.totalDuration=function(e){var t,r,n,i,a=0,o=this,s=o._last,l=Fe;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-e:e));if(o._dirty){for(i=o.parent;s;)t=s._prev,s._dirty&&s.totalDuration(),l<(n=s._start)&&o._sort&&s._ts&&!o._lock?(o._lock=1,q(o,s,n-s._delay,1)._lock=0):l=n,n<0&&s._ts&&(a-=n,(!i&&!o._dp||i&&i.smoothChildTiming)&&(o._start+=n/o._ts,o._time-=n,o._tTime-=n),o.shiftChildren(-n,!1,-1/0),l=0),a<(r=N(s))&&s._ts&&(a=r),s=t;B(o,o===fe&&o._time>a?o._time:a,1),o._dirty=0}return o._tDur},o.updateRoot=function(e){if(fe._ts&&(k(fe,R(e,fe)),ye=wt.frame),wt.frame>=ot){ot+=Re.autoSleep||120;var t=fe._first;if((!t||!t._ts)&&Re.autoSleep&&wt._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||wt.sleep()}}},o}(Dt);function Lt(e,t,r,a,o,l){var c,u,d,p;if(it[e]&&!1!==(c=new it[e]).init(o,c.rawVars?t[e]:function(e,t,r,a,o){if(i(e)&&(e=qt(e,o,t,r,a)),!s(e)||e.style&&e.nodeType||We(e))return n(e)?qt(e,o,t,r,a):e;var l,c={};for(l in e)c[l]=qt(e[l],o,t,r,a);return c}(t[e],a,o,l,r),r,a,l)&&(r._pt=u=new rr(r._pt,o,e,0,1,c.render,c,0,c.priority),r!==be))for(d=r._ptLookup[r._targets.indexOf(o)],p=c._props.length;p--;)d[c._props[p]]=u;return c}M(It.prototype,{_lock:0,_hasPause:0,_forcing:0});var Rt,Nt=function(e,t,r,a,o,s,l,c,u){i(a)&&(a=a(o||0,e,s));var d,f=e[t],h="get"!==r?r:i(f)?u?e[t.indexOf("set")||!i(e["get"+t.substr(3)])?t:"get"+t.substr(3)](u):e[t]():f,_=i(f)?u?Gt:Wt:Vt;if(n(a)&&(~a.indexOf("random(")&&(a=ee(a)),"="===a.charAt(1)&&(a=parseFloat(h)+parseFloat(a.substr(2))*("-"===a.charAt(0)?-1:1)+(W(h)||0))),h!==a)return isNaN(h+a)?(f||t in e||p(t,a),function(e,t,r,n,i,a,o){var s,l,c,u,d,p,f,h,_=new rr(this._pt,e,t,0,1,Yt,null,i),g=0,m=0;for(_.b=r,_.e=n,r+="",(f=~(n+="").indexOf("random("))&&(n=ee(n)),a&&(a(h=[r,n],e,t),r=h[0],n=h[1]),l=r.match(Xe)||[];s=Xe.exec(n);)u=s[0],d=n.substring(g,s.index),c?c=(c+1)%5:"rgba("===d.substr(-5)&&(c=1),u!==l[m++]&&(p=parseFloat(l[m-1])||0,_._pt={_next:_._pt,p:d||1===m?d:",",s:p,c:"="===u.charAt(1)?parseFloat(u.substr(2))*("-"===u.charAt(0)?-1:1):parseFloat(u)-p,m:c&&c<4?Math.round:0},g=Xe.lastIndex);return _.c=g<n.length?n.substring(g,n.length):"",_.fp=o,(Je.test(n)||f)&&(_.e=0),this._pt=_}.call(this,e,t,h,a,_,c||Re.stringFilter,u)):(d=new rr(this._pt,e,t,+h||0,a-(h||0),"boolean"==typeof f?Xt:Qt,0,_),u&&(d.fp=u),l&&d.modifier(l,this,e),this._pt=d)},Ft=function e(t,r){var n,i,a,o,s,c,u,d,p,f,h,_,v=t.vars,y=v.ease,b=v.startAt,w=v.immediateRender,T=v.lazy,k=v.onUpdate,S=v.onUpdateParams,C=v.callbackScope,A=v.runBackwards,O=v.yoyoEase,P=v.keyframes,D=v.autoRevert,I=t._dur,L=t._startAt,R=t._targets,N=t.parent,F=N&&"nested"===N.data?N.parent._targets:R,q="auto"===t._overwrite,U=t.timeline;if(!U||P&&y||(y="none"),t._ease=Mt(y,Ne.ease),t._yEase=O?Ct(Mt(!0===O?y:O,Ne.ease)):0,O&&t._yoyo&&!t._repeat&&(O=t._yEase,t._yEase=t._ease,t._ease=O),!U){if(_=(d=R[0]?m(R[0]).harness:0)&&v[d.prop],n=E(v,tt),L&&L.render(-1,!0).kill(),b){if(j(t._startAt=Bt.set(R,M({data:"isStart",overwrite:!1,parent:N,immediateRender:!0,lazy:l(T),startAt:null,delay:0,onUpdate:k,onUpdateParams:S,callbackScope:C,stagger:0},b))),w)if(0<r)D||(t._startAt=0);else if(I)return}else if(A&&I)if(L)D||(t._startAt=0);else if(r&&(w=!1),a=ct(n,{overwrite:!1,data:"isFromStart",lazy:w&&l(T),immediateRender:w,stagger:0,parent:N}),_&&(a[d.prop]=_),j(t._startAt=Bt.set(R,a)),w){if(!r)return}else e(t._startAt,qe);for(t._pt=0,T=I&&l(T)||T&&!I,i=0;i<R.length;i++){if(u=(s=R[i])._gsap||g(R)[i]._gsap,t._ptLookup[i]=f={},nt[u.id]&&x(),h=F===R?i:F.indexOf(s),d&&!1!==(p=new d).init(s,_||n,t,h,F)&&(t._pt=o=new rr(t._pt,s,p.name,0,1,p.render,p,0,p.priority),p._props.forEach((function(e){f[e]=o})),p.priority&&(c=1)),!d||_)for(a in n)it[a]&&(p=Lt(a,n,t,h,s,F))?p.priority&&(c=1):f[a]=o=Nt.call(t,s,a,"get",n[a],h,F,0,v.stringFilter);t._op&&t._op[i]&&t.kill(s,t._op[i]),q&&t._pt&&(Rt=t,fe.killTweensOf(s,f,"started"),Rt=0),t._pt&&T&&(nt[u.id]=1)}c&&tr(t),t._onInit&&t._onInit(t)}t._from=!U&&!!v.runBackwards,t._onUpdate=k,t._initted=!!t.parent},qt=function(e,t,r,a,o){return i(e)?e.call(t,r,a,o):n(e)&&~e.indexOf("random(")?ee(e):e},Ut=lt+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",zt=(Ut+",id,stagger,delay,duration,paused,scrollTrigger").split(","),Bt=function(e){function i(t,n,i,o){var c;"number"==typeof n&&(i.duration=n,n=i,i=null);var d,p,h,m,v,y,w,T,x=(c=e.call(this,o?n:P(n),i)||this).vars,k=x.duration,S=x.delay,C=x.immediateRender,A=x.stagger,O=x.overwrite,E=x.keyframes,D=x.defaults,j=x.scrollTrigger,I=x.yoyoEase,L=c.parent,R=(We(t)?a(t[0]):"length"in n)?[t]:ht(t);if(c._targets=R.length?g(R):f("GSAP target "+t+" not found. https://greensock.com",!Re.nullTargetWarn)||[],c._ptLookup=[],c._overwrite=O,E||A||u(k)||u(S)){if(n=c.vars,(d=c.timeline=new It({data:"nested",defaults:D||{}})).kill(),d.parent=r(c),E)M(d.vars.defaults,{ease:"none"}),E.forEach((function(e){return d.to(R,e,">")}));else{if(m=R.length,w=A?Q(A):_,s(A))for(v in A)~Ut.indexOf(v)&&((T=T||{})[v]=A[v]);for(p=0;p<m;p++){for(v in h={},n)zt.indexOf(v)<0&&(h[v]=n[v]);h.stagger=0,I&&(h.yoyoEase=I),T&&ct(h,T),y=R[p],h.duration=+qt(k,r(c),p,y,R),h.delay=(+qt(S,r(c),p,y,R)||0)-c._delay,!A&&1===m&&h.delay&&(c._delay=S=h.delay,c._start+=S,h.delay=0),d.to(y,h,w(p,y,R))}d.duration()?k=S=0:c.timeline=0}k||c.duration(k=d.duration())}else c.timeline=0;return!0===O&&(Rt=r(c),fe.killTweensOf(R),Rt=0),L&&F(L,r(c)),(C||!k&&!E&&c._start===b(L._time)&&l(C)&&function e(t){return!t||t._ts&&e(t.parent)}(r(c))&&"nested"!==L.data)&&(c._tTime=-qe,c.render(Math.max(0,-S))),j&&U(r(c),j),c}t(i,e);var o=i.prototype;return o.render=function(e,t,r){var n,i,a,o,s,l,c,u,d,p=this._time,f=this._tDur,h=this._dur,_=f-qe<e&&0<=e?f:e<qe?0:e;if(h){if(_!==this._tTime||!e||r||this._startAt&&this._zTime<0!=e<0){if(n=_,u=this.timeline,this._repeat){if((h<(n=b(_%(o=h+this._rDelay)))||f===_)&&(n=h),(a=~~(_/o))&&a===_/o&&(n=h,a--),(l=this._yoyo&&1&a)&&(d=this._yEase,n=h-n),s=ut(this._tTime,o),n===p&&!r&&this._initted)return this;a!==s&&(u&&this._yEase&&le(u,l),!this.vars.repeatRefresh||l||this._lock||(this._lock=r=1,this.render(b(o*a),!0).invalidate()._lock=0))}if(!this._initted){if(z(this,n,r,t))return this._tTime=0,this;if(h!==this._dur)return this.render(e,t,r)}for(this._tTime=_,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(d||this._ease)(n/h),this._from&&(this.ratio=c=1-c),!n||p||t||gt(this,"onStart"),i=this._pt;i;)i.r(c,i.d),i=i._next;u&&u.render(e<0?e:!n&&l?-qe:u._dur*c,t,r)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(e<0&&this._startAt&&this._startAt.render(e,!0,r),gt(this,"onUpdate")),this._repeat&&a!==s&&this.vars.onRepeat&&!t&&this.parent&&gt(this,"onRepeat"),_!==this._tDur&&_||this._tTime!==_||(e<0&&this._startAt&&!this._onUpdate&&this._startAt.render(e,!0,!0),!e&&h||!(_===this._tDur&&0<this._ts||!_&&this._ts<0)||j(this,1),t||e<0&&!p||!_&&!p||(gt(this,_===f?"onComplete":"onReverseComplete",!0),!this._prom||_<f&&0<this.timeScale()||this._prom()))}}else!function(e,t,r,n){var i,a,o=e.ratio,s=t<0||!t&&o&&!e._start&&e._zTime>qe&&!e._dp._lock||e._ts<0||e._dp._ts<0?0:1,l=e._rDelay,c=0;if(l&&e._repeat&&(c=pt(0,e._tDur,t),ut(c,l)!==(a=ut(e._tTime,l))&&(o=1-s,e.vars.repeatRefresh&&e._initted&&e.invalidate())),e._initted||!z(e,t,n,r))if(s!==o||n||e._zTime===qe||!t&&e._zTime){for(a=e._zTime,e._zTime=t||(r?qe:0),r=r||t&&!a,e.ratio=s,e._from&&(s=1-s),e._time=0,e._tTime=c,r||gt(e,"onStart"),i=e._pt;i;)i.r(s,i.d),i=i._next;e._startAt&&t<0&&e._startAt.render(t,!0,!0),e._onUpdate&&!r&&gt(e,"onUpdate"),c&&e._repeat&&!r&&e.parent&&gt(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===s&&(s&&j(e,1),r||(gt(e,s?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,r);return this},o.targets=function(){return this._targets},o.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._act=this._lazy=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),e.prototype.invalidate.call(this)},o.kill=function(e,t){if(void 0===t&&(t="all"),!(e||t&&"all"!==t)&&(this._lazy=0,this.parent))return re(this);if(this.timeline){var r=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,Rt&&!0!==Rt.vars.overwrite)._first||re(this),this.parent&&r!==this.timeline.totalDuration()&&B(this,this._dur*this.timeline._tDur/r),this}var i,a,o,s,l,c,u,d=this._targets,p=e?ht(e):d,f=this._ptLookup,h=this._pt;if((!t||"all"===t)&&function(e,t){for(var r=e.length,n=r===t.length;n&&r--&&e[r]===t[r];);return r<0}(d,p))return re(this);for(i=this._op=this._op||[],"all"!==t&&(n(t)&&(l={},y(t,(function(e){return l[e]=1})),t=l),t=function(e,t){var r,n,i,a,o=e[0]?m(e[0]).harness:0,s=o&&o.aliases;if(!s)return t;for(n in r=ct({},t),s)if(n in r)for(i=(a=s[n].split(",")).length;i--;)r[a[i]]=r[n];return r}(d,t)),u=d.length;u--;)if(~p.indexOf(d[u]))for(l in a=f[u],"all"===t?(i[u]=t,s=a,o={}):(o=i[u]=i[u]||{},s=t),s)(c=a&&a[l])&&("kill"in c.d&&!0!==c.d.kill(l)||D(this,c,"_pt"),delete a[l]),"all"!==o&&(o[l]=1);return this._initted&&!this._pt&&h&&re(this),this},i.to=function(e,t,r){return new i(e,t,r)},i.from=function(e,t){return new i(e,T(arguments,1))},i.delayedCall=function(e,t,r,n){return new i(t,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:t,onReverseComplete:t,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:n})},i.fromTo=function(e,t,r){return new i(e,T(arguments,2))},i.set=function(e,t){return t.duration=0,t.repeatDelay||(t.repeat=0),new i(e,t)},i.killTweensOf=function(e,t,r){return fe.killTweensOf(e,t,r)},i}(Dt);function $t(e,t,r){return e.setAttribute(t,r)}function Ht(e,t,r,n){n.mSet(e,t,n.m.call(n.tween,r,n.mt),n)}M(Bt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),y("staggerTo,staggerFrom,staggerFromTo",(function(e){Bt[e]=function(){var t=new It,r=ft.call(arguments,0);return r.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,r)}}));var Vt=function(e,t,r){return e[t]=r},Wt=function(e,t,r){return e[t](r)},Gt=function(e,t,r,n){return e[t](n.fp,r)},Kt=function(e,t){return i(e[t])?Wt:o(e[t])&&e.setAttribute?$t:Vt},Qt=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4,t)},Xt=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},Yt=function(e,t){var r=t._pt,n="";if(!e&&t.b)n=t.b;else if(1===e&&t.e)n=t.e;else{for(;r;)n=r.p+(r.m?r.m(r.s+r.c*e):Math.round(1e4*(r.s+r.c*e))/1e4)+n,r=r._next;n+=t.c}t.set(t.t,t.p,n,t)},Jt=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},Zt=function(e,t,r,n){for(var i,a=this._pt;a;)i=a._next,a.p===n&&a.modifier(e,t,r),a=i},er=function(e){for(var t,r,n=this._pt;n;)r=n._next,n.p===e&&!n.op||n.op===e?D(this,n,"_pt"):n.dep||(t=1),n=r;return!t},tr=function(e){for(var t,r,n,i,a=e._pt;a;){for(t=a._next,r=n;r&&r.pr>a.pr;)r=r._next;(a._prev=r?r._prev:i)?a._prev._next=a:n=a,(a._next=r)?r._prev=a:i=a,a=t}e._pt=n},rr=(nr.prototype.modifier=function(e,t,r){this.mSet=this.mSet||this.set,this.set=Ht,this.m=e,this.mt=r,this.tween=t},nr);function nr(e,t,r,n,i,a,o,s,l){this.t=t,this.s=n,this.c=i,this.p=r,this.r=a||Qt,this.d=o||this,this.set=s||Vt,this.pr=l||0,(this._next=e)&&(e._prev=this)}y(lt+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return tt[e]=1})),et.TweenMax=et.TweenLite=Bt,et.TimelineLite=et.TimelineMax=It,fe=new It({sortChildren:!1,defaults:Ne,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),Re.stringFilter=se;var ir={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach((function(e){return function(e){var t=(e=!e.name&&e.default||e).name,r=i(e),n=t&&!r&&e.init?function(){this._props=[]}:e,a={init:_,render:Jt,add:Nt,kill:er,modifier:Zt,rawVars:0},o={targetTest:0,get:0,getSetter:Kt,aliases:{},register:0};if(Tt(),e!==n){if(it[t])return;M(n,M(E(e,a),o)),ct(n.prototype,ct(a,E(e,o))),it[n.prop=t]=n,e.targetTest&&(st.push(n),tt[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}h(t,n),e.register&&e.register(sr,n,rr)}(e)}))},timeline:function(e){return new It(e)},getTweensOf:function(e,t){return fe.getTweensOf(e,t)},getProperty:function(e,t,r,i){n(e)&&(e=ht(e)[0]);var a=m(e||{}).get,o=r?C:S;return"native"===r&&(r=""),e?t?o((it[t]&&it[t].get||a)(e,t,r,i)):function(t,r,n){return o((it[t]&&it[t].get||a)(e,t,r,n))}:e},quickSetter:function(e,t,r){if(1<(e=ht(e)).length){var n=e.map((function(e){return sr.quickSetter(e,t,r)})),i=n.length;return function(e){for(var t=i;t--;)n[t](e)}}e=e[0]||{};var a=it[t],o=m(e),s=o.harness&&(o.harness.aliases||{})[t]||t,l=a?function(t){var n=new a;be._pt=0,n.init(e,r?t+r:t,be,0,[e]),n.render(1,n),be._pt&&Jt(1,be)}:o.set(e,s);return a?l:function(t){return l(e,s,r?t+r:t,o,1)}},isTweening:function(e){return 0<fe.getTweensOf(e,!0).length},defaults:function(e){return e&&e.ease&&(e.ease=Mt(e.ease,Ne.ease)),O(Ne,e||{})},config:function(e){return O(Re,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,n=e.plugins,i=e.defaults,a=e.extendTimeline;(n||"").split(",").forEach((function(e){return e&&!it[e]&&!et[e]&&f(t+" effect requires "+e+" plugin.")})),at[t]=function(e,t,n){return r(ht(e),M(t||{},i),n)},a&&(It.prototype[t]=function(e,r,n){return this.add(at[t](e,s(r)?r:(n=r)&&{},this),n)})},registerEase:function(e,t){xt[e]=Mt(t)},parseEase:function(e,t){return arguments.length?Mt(e,t):xt},getById:function(e){return fe.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var r,n,i=new It(e);for(i.smoothChildTiming=l(e.smoothChildTiming),fe.remove(i),i._dp=0,i._time=i._tTime=fe._time,r=fe._first;r;)n=r._next,!t&&!r._dur&&r instanceof Bt&&r.vars.onComplete===r._targets[0]||q(i,r,r._start-r._delay),r=n;return q(fe,i,0),i},utils:{wrap:function e(t,r,n){var i=r-t;return We(t)?Z(t,e(0,t.length),r):V(n,(function(e){return(i+(e-t)%i)%i+t}))},wrapYoyo:function e(t,r,n){var i=r-t,a=2*i;return We(t)?Z(t,e(0,t.length-1),r):V(n,(function(e){return t+(i<(e=(a+(e-t)%a)%a||0)?a-e:e)}))},distribute:Q,random:J,snap:Y,normalize:function(e,t,r){return _t(e,t,0,1,r)},getUnit:W,clamp:function(e,t,r){return V(r,(function(r){return pt(e,t,r)}))},splitColor:ie,toArray:ht,mapRange:_t,pipe:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},unitize:function(e,t){return function(r){return e(parseFloat(r))+(t||W(r))}},interpolate:function e(t,r,i,a){var o=isNaN(t+r)?0:function(e){return(1-e)*t+e*r};if(!o){var s,l,c,u,d,p=n(t),f={};if(!0===i&&(a=1)&&(i=null),p)t={p:t},r={p:r};else if(We(t)&&!We(r)){for(c=[],u=t.length,d=u-2,l=1;l<u;l++)c.push(e(t[l-1],t[l]));u--,o=function(e){e*=u;var t=Math.min(d,~~e);return c[t](e-t)},i=r}else a||(t=ct(We(t)?[]:{},t));if(!c){for(s in r)Nt.call(f,t,s,"get",r[s]);o=function(e){return Jt(e,f)||(p?t.p:t)}}}return V(i,o)},shuffle:K},install:d,effects:at,ticker:wt,updateRoot:It.updateRoot,plugins:it,globalTimeline:fe,core:{PropTween:rr,globals:h,Tween:Bt,Timeline:It,Animation:Dt,getCache:m,_removeLinkedListItem:D}};function ar(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r}function or(e,t){return{name:e,rawVars:1,init:function(e,r,i){i._onInit=function(e){var i,a;if(n(r)&&(i={},y(r,(function(e){return i[e]=1})),r=i),t){for(a in i={},r)i[a]=t(r[a]);r=i}!function(e,t){var r,n,i,a=e._targets;for(r in t)for(n=a.length;n--;)(i=(i=e._ptLookup[n][r])&&i.d)&&(i._pt&&(i=ar(i,r)),i&&i.modifier&&i.modifier(t[r],e,a[n],r))}(e,r)}}}}y("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return ir[e]=Bt[e]})),wt.add(It.updateRoot),be=ir.to({},{duration:0});var sr=ir.registerPlugin({name:"attr",init:function(e,t,r,n,i){var a,o;for(a in t)(o=this.add(e,"setAttribute",(e.getAttribute(a)||0)+"",t[a],n,i,0,0,a))&&(o.op=a),this._props.push(a)}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r])}},or("roundProps",X),or("modifiers"),or("snap",Y))||ir;function lr(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)}function cr(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)}function ur(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)}function dr(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)}function pr(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)}function fr(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)}function hr(e,t,r){return e.style[t]=r}function _r(e,t,r){return e.style.setProperty(t,r)}function gr(e,t,r){return e._gsap[t]=r}function mr(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r}function vr(e,t,r,n,i){var a=e._gsap;a.scaleX=a.scaleY=r,a.renderTransform(i,a)}function yr(e,t,r,n,i){var a=e._gsap;a[t]=r,a.renderTransform(i,a)}function br(e,t){var r=Br.createElementNS?Br.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Br.createElement(e);return r.style?r:Br.createElement(e)}function wr(e,t,r){var n=getComputedStyle(e);return n[t]||n.getPropertyValue(t.replace(vn,"-$1").toLowerCase())||n.getPropertyValue(t)||!r&&wr(e,Sn(t)||t,1)||""}function Tr(){"undefined"!=typeof window&&window.document&&(zr=window,Br=zr.document,$r=Br.documentElement,Vr=br("div")||{style:{}},Wr=br("div"),Tn=Sn(Tn),xn=Sn(xn),Vr.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Kr=!!Sn("perspective"),Hr=1)}function xr(e){var t,r=br("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,i=this.nextSibling,a=this.style.cssText;if($r.appendChild(r),r.appendChild(this),this.style.display="block",e)try{t=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=xr}catch(e){}else this._gsapBBox&&(t=this._gsapBBox());return n&&(i?n.insertBefore(this,i):n.appendChild(this)),$r.removeChild(r),this.style.cssText=a,t}function kr(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])}function Sr(e){var t;try{t=e.getBBox()}catch(r){t=xr.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===xr||(t=xr.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+kr(e,["x","cx","x1"])||0,y:+kr(e,["y","cy","y1"])||0,width:0,height:0}}function Cr(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!Sr(e))}function Mr(e,t){if(t){var r=e.style;t in hn&&(t=Tn),r.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),r.removeProperty(t.replace(vn,"-$1").toLowerCase())):r.removeAttribute(t)}}function Ar(e,t,r,n,i,a){var o=new rr(e._pt,t,r,0,1,a?fr:pr);return(e._pt=o).b=n,o.e=i,e._props.push(r),o}function Or(e,t,r,n){var i,a,o,s,l=parseFloat(r)||0,c=(r+"").trim().substr((l+"").length)||"px",u=Vr.style,d=yn.test(t),p="svg"===e.tagName.toLowerCase(),f=(p?"client":"offset")+(d?"Width":"Height"),h="px"===n,_="%"===n;return n===c||!l||Cn[n]||Cn[c]?l:("px"===c||h||(l=Or(e,t,r,"px")),s=e.getCTM&&Cr(e),_&&(hn[t]||~t.indexOf("adius"))?b(l/(s?e.getBBox()[d?"width":"height"]:e[f])*100):(u[d?"width":"height"]=100+(h?c:n),a=~t.indexOf("adius")||"em"===n&&e.appendChild&&!p?e:e.parentNode,s&&(a=(e.ownerSVGElement||{}).parentNode),a&&a!==Br&&a.appendChild||(a=Br.body),(o=a._gsap)&&_&&o.width&&d&&o.time===wt.time?b(l/o.width*100):(!_&&"%"!==c||(u.position=wr(e,"position")),a===e&&(u.position="static"),a.appendChild(Vr),i=Vr[f],a.removeChild(Vr),u.position="absolute",d&&_&&((o=m(a)).time=wt.time,o.width=a[f]),b(h?i*l/100:i&&l?100/i*l:0))))}function Er(e,t,r,n){var i;return Hr||Tr(),t in wn&&"transform"!==t&&~(t=wn[t]).indexOf(",")&&(t=t.split(",")[0]),hn[t]&&"transform"!==t?(i=Pn(e,n),i="transformOrigin"!==t?i[t]:Dn(wr(e,xn))+" "+i.zOrigin+"px"):(i=e.style[t])&&"auto"!==i&&!n&&!~(i+"").indexOf("calc(")||(i=An[t]&&An[t](e,t,r)||wr(e,t)||v(e,t)||("opacity"===t?1:0)),r&&!~(i+"").indexOf(" ")?Or(e,t,i,r)+r:i}function Pr(e,t,r,n){if(!r||"none"===r){var i=Sn(t,e,1),a=i&&wr(e,i,1);a&&a!==r&&(t=i,r=a)}var o,s,l,c,u,d,p,f,h,_,g,m,v=new rr(this._pt,e.style,t,0,1,Yt),y=0,b=0;if(v.b=r,v.e=n,r+="","auto"==(n+="")&&(e.style[t]=n,n=wr(e,t)||n,e.style[t]=r),se(o=[r,n]),n=o[1],l=(r=o[0]).match(Qe)||[],(n.match(Qe)||[]).length){for(;s=Qe.exec(n);)p=s[0],h=n.substring(y,s.index),u?u=(u+1)%5:"rgba("!==h.substr(-5)&&"hsla("!==h.substr(-5)||(u=1),p!==(d=l[b++]||"")&&(c=parseFloat(d)||0,g=d.substr((c+"").length),(m="="===p.charAt(1)?+(p.charAt(0)+"1"):0)&&(p=p.substr(2)),f=parseFloat(p),_=p.substr((f+"").length),y=Qe.lastIndex-_.length,_||(_=_||Re.units[t]||g,y===n.length&&(n+=_,v.e+=_)),g!==_&&(c=Or(e,t,d,_)||0),v._pt={_next:v._pt,p:h||1===b?h:",",s:c,c:m?m*f:f-c,m:u&&u<4?Math.round:0});v.c=y<n.length?n.substring(y,n.length):""}else v.r="display"===t&&"none"===n?fr:pr;return Je.test(n)&&(v.e=0),this._pt=v}function Dr(e){var t=e.split(" "),r=t[0],n=t[1]||"50%";return"top"!==r&&"bottom"!==r&&"left"!==n&&"right"!==n||(e=r,r=n,n=e),t[0]=Mn[r]||r,t[1]=Mn[n]||n,t.join(" ")}function jr(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r,n,i,a=t.t,o=a.style,s=t.u,l=a._gsap;if("all"===s||!0===s)o.cssText="",n=1;else for(i=(s=s.split(",")).length;-1<--i;)r=s[i],hn[r]&&(n=1,r="transformOrigin"===r?xn:Tn),Mr(a,r);n&&(Mr(a,Tn),l&&(l.svg&&a.removeAttribute("transform"),Pn(a,1),l.uncache=1))}}function Ir(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e}function Lr(e){var t=wr(e,Tn);return Ir(t)?On:t.substr(7).match(Ke).map(b)}function Rr(e,t){var r,n,i,a,o=e._gsap||m(e),s=e.style,l=Lr(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?On:l:(l!==On||e.offsetParent||e===$r||o.svg||(i=s.display,s.display="block",(r=e.parentNode)&&e.offsetParent||(a=1,n=e.nextSibling,$r.appendChild(e)),l=Lr(e),i?s.display=i:Mr(e,"display"),a&&(n?r.insertBefore(e,n):r?r.appendChild(e):$r.removeChild(e))),t&&6<l.length?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)}function Nr(e,t,r,n,i,a){var o,s,l,c=e._gsap,u=i||Rr(e,!0),d=c.xOrigin||0,p=c.yOrigin||0,f=c.xOffset||0,h=c.yOffset||0,_=u[0],g=u[1],m=u[2],v=u[3],y=u[4],b=u[5],w=t.split(" "),T=parseFloat(w[0])||0,x=parseFloat(w[1])||0;r?u!==On&&(s=_*v-g*m)&&(l=T*(-g/s)+x*(_/s)-(_*b-g*y)/s,T=T*(v/s)+x*(-m/s)+(m*b-v*y)/s,x=l):(T=(o=Sr(e)).x+(~w[0].indexOf("%")?T/100*o.width:T),x=o.y+(~(w[1]||w[0]).indexOf("%")?x/100*o.height:x)),n||!1!==n&&c.smooth?(y=T-d,b=x-p,c.xOffset=f+(y*_+b*m)-y,c.yOffset=h+(y*g+b*v)-b):c.xOffset=c.yOffset=0,c.xOrigin=T,c.yOrigin=x,c.smooth=!!n,c.origin=t,c.originIsAbsolute=!!r,e.style[xn]="0px 0px",a&&(Ar(a,c,"xOrigin",d,T),Ar(a,c,"yOrigin",p,x),Ar(a,c,"xOffset",f,c.xOffset),Ar(a,c,"yOffset",h,c.yOffset)),e.setAttribute("data-svg-origin",T+" "+x)}function Fr(e,t,r){var n=W(t);return b(parseFloat(t)+parseFloat(Or(e,"x",r+"px",n)))+n}function qr(e,t,r,i,a,o){var s,l,c=360,u=n(a),d=parseFloat(a)*(u&&~a.indexOf("rad")?_n:1),p=o?d*o:d-i,f=i+p+"deg";return u&&("short"===(s=a.split("_")[1])&&(p%=c)!=p%180&&(p+=p<0?c:-c),"cw"===s&&p<0?p=(p+36e9)%c-~~(p/c)*c:"ccw"===s&&0<p&&(p=(p-36e9)%c-~~(p/c)*c)),e._pt=l=new rr(e._pt,t,r,i,p,cr),l.e=f,l.u="deg",e._props.push(r),l}function Ur(e,t,r){var n,i,a,o,s,l,c,u=Wr.style,d=r._gsap;for(i in u.cssText=getComputedStyle(r).cssText+";position:absolute;display:block;",u[Tn]=t,Br.body.appendChild(Wr),n=Pn(Wr,1),hn)(a=d[i])!==(o=n[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(s=W(a)!==(c=W(o))?Or(r,i,a,c):parseFloat(a),l=parseFloat(o),e._pt=new rr(e._pt,d,i,s,l-s,lr),e._pt.u=c||0,e._props.push(i));Br.body.removeChild(Wr)}Bt.version=It.version=sr.version="3.3.3",ve=1,c()&&Tt();var zr,Br,$r,Hr,Vr,Wr,Gr,Kr,Qr=xt.Power0,Xr=xt.Power1,Yr=xt.Power2,Jr=xt.Power3,Zr=xt.Power4,en=xt.Linear,tn=xt.Quad,rn=xt.Cubic,nn=xt.Quart,an=xt.Quint,on=xt.Strong,sn=xt.Elastic,ln=xt.Back,cn=xt.SteppedEase,un=xt.Bounce,dn=xt.Sine,pn=xt.Expo,fn=xt.Circ,hn={},_n=180/Math.PI,gn=Math.PI/180,mn=Math.atan2,vn=/([A-Z])/g,yn=/(?:left|right|width|margin|padding|x)/i,bn=/[\s,\(]\S/,wn={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Tn="transform",xn=Tn+"Origin",kn="O,Moz,ms,Ms,Webkit".split(","),Sn=function(e,t,r){var n=(t||Vr).style,i=5;if(e in n&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(kn[i]+e in n););return i<0?null:(3===i?"ms":0<=i?kn[i]:"")+e},Cn={deg:1,rad:1,turn:1},Mn={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},An={clearProps:function(e,t,r,n,i){if("isFromStart"!==i.data){var a=e._pt=new rr(e._pt,t,r,0,0,jr);return a.u=n,a.pr=-10,a.tween=i,e._props.push(r),1}}},On=[1,0,0,1,0,0],En={},Pn=function(e,t){var r=e._gsap||new Pt(e);if("x"in r&&!t&&!r.uncache)return r;var n,i,a,o,s,l,c,u,d,p,f,h,_,g,m,v,y,w,T,x,k,S,C,M,A,O,E,P,D,j,I,L,R=e.style,N=r.scaleX<0,F="deg",q=wr(e,xn)||"0";return n=i=a=l=c=u=d=p=f=0,o=s=1,r.svg=!(!e.getCTM||!Cr(e)),g=Rr(e,r.svg),r.svg&&(M=!r.uncache&&e.getAttribute("data-svg-origin"),Nr(e,M||q,!!M||r.originIsAbsolute,!1!==r.smooth,g)),h=r.xOrigin||0,_=r.yOrigin||0,g!==On&&(w=g[0],T=g[1],x=g[2],k=g[3],n=S=g[4],i=C=g[5],6===g.length?(o=Math.sqrt(w*w+T*T),s=Math.sqrt(k*k+x*x),l=w||T?mn(T,w)*_n:0,(d=x||k?mn(x,k)*_n+l:0)&&(s*=Math.cos(d*gn)),r.svg&&(n-=h-(h*w+_*x),i-=_-(h*T+_*k))):(L=g[6],j=g[7],E=g[8],P=g[9],D=g[10],I=g[11],n=g[12],i=g[13],a=g[14],c=(m=mn(L,D))*_n,m&&(M=S*(v=Math.cos(-m))+E*(y=Math.sin(-m)),A=C*v+P*y,O=L*v+D*y,E=S*-y+E*v,P=C*-y+P*v,D=L*-y+D*v,I=j*-y+I*v,S=M,C=A,L=O),u=(m=mn(-x,D))*_n,m&&(v=Math.cos(-m),I=k*(y=Math.sin(-m))+I*v,w=M=w*v-E*y,T=A=T*v-P*y,x=O=x*v-D*y),l=(m=mn(T,w))*_n,m&&(M=w*(v=Math.cos(m))+T*(y=Math.sin(m)),A=S*v+C*y,T=T*v-w*y,C=C*v-S*y,w=M,S=A),c&&359.9<Math.abs(c)+Math.abs(l)&&(c=l=0,u=180-u),o=b(Math.sqrt(w*w+T*T+x*x)),s=b(Math.sqrt(C*C+L*L)),m=mn(S,C),d=2e-4<Math.abs(m)?m*_n:0,f=I?1/(I<0?-I:I):0),r.svg&&(M=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!Ir(wr(e,Tn)),M&&e.setAttribute("transform",M))),90<Math.abs(d)&&Math.abs(d)<270&&(N?(o*=-1,d+=l<=0?180:-180,l+=l<=0?180:-180):(s*=-1,d+=d<=0?180:-180)),r.x=((r.xPercent=n&&Math.round(e.offsetWidth/2)===Math.round(-n)?-50:0)?0:n)+"px",r.y=((r.yPercent=i&&Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)?0:i)+"px",r.z=a+"px",r.scaleX=b(o),r.scaleY=b(s),r.rotation=b(l)+F,r.rotationX=b(c)+F,r.rotationY=b(u)+F,r.skewX=d+F,r.skewY=p+F,r.transformPerspective=f+"px",(r.zOrigin=parseFloat(q.split(" ")[2])||0)&&(R[xn]=Dn(q)),r.xOffset=r.yOffset=0,r.force3D=Re.force3D,r.renderTransform=r.svg?Fn:Kr?Nn:jn,r.uncache=0,r},Dn=function(e){return(e=e.split(" "))[0]+" "+e[1]},jn=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Nn(e,t)},In="0deg",Ln="0px",Rn=") ",Nn=function(e,t){var r=t||this,n=r.xPercent,i=r.yPercent,a=r.x,o=r.y,s=r.z,l=r.rotation,c=r.rotationY,u=r.rotationX,d=r.skewX,p=r.skewY,f=r.scaleX,h=r.scaleY,_=r.transformPerspective,g=r.force3D,m=r.target,v=r.zOrigin,y="",b="auto"===g&&e&&1!==e||!0===g;if(v&&(u!==In||c!==In)){var w,T=parseFloat(c)*gn,x=Math.sin(T),k=Math.cos(T);T=parseFloat(u)*gn,a=Fr(m,a,x*(w=Math.cos(T))*-v),o=Fr(m,o,-Math.sin(T)*-v),s=Fr(m,s,k*w*-v+v)}_!==Ln&&(y+="perspective("+_+Rn),(n||i)&&(y+="translate("+n+"%, "+i+"%) "),!b&&a===Ln&&o===Ln&&s===Ln||(y+=s!==Ln||b?"translate3d("+a+", "+o+", "+s+") ":"translate("+a+", "+o+Rn),l!==In&&(y+="rotate("+l+Rn),c!==In&&(y+="rotateY("+c+Rn),u!==In&&(y+="rotateX("+u+Rn),d===In&&p===In||(y+="skew("+d+", "+p+Rn),1===f&&1===h||(y+="scale("+f+", "+h+Rn),m.style[Tn]=y||"translate(0, 0)"},Fn=function(e,t){var r,n,i,a,o,s=t||this,l=s.xPercent,c=s.yPercent,u=s.x,d=s.y,p=s.rotation,f=s.skewX,h=s.skewY,_=s.scaleX,g=s.scaleY,m=s.target,v=s.xOrigin,y=s.yOrigin,w=s.xOffset,T=s.yOffset,x=s.forceCSS,k=parseFloat(u),S=parseFloat(d);p=parseFloat(p),f=parseFloat(f),(h=parseFloat(h))&&(f+=h=parseFloat(h),p+=h),p||f?(p*=gn,f*=gn,r=Math.cos(p)*_,n=Math.sin(p)*_,i=Math.sin(p-f)*-g,a=Math.cos(p-f)*g,f&&(h*=gn,o=Math.tan(f-h),i*=o=Math.sqrt(1+o*o),a*=o,h&&(o=Math.tan(h),r*=o=Math.sqrt(1+o*o),n*=o)),r=b(r),n=b(n),i=b(i),a=b(a)):(r=_,a=g,n=i=0),(k&&!~(u+"").indexOf("px")||S&&!~(d+"").indexOf("px"))&&(k=Or(m,"x",u,"px"),S=Or(m,"y",d,"px")),(v||y||w||T)&&(k=b(k+v-(v*r+y*i)+w),S=b(S+y-(v*n+y*a)+T)),(l||c)&&(k=b(k+l/100*(o=m.getBBox()).width),S=b(S+c/100*o.height)),o="matrix("+r+","+n+","+i+","+a+","+k+","+S+")",m.setAttribute("transform",o),x&&(m.style[Tn]=o)};y("padding,margin,Width,Radius",(function(e,t){var r="Right",n="Bottom",i="Left",a=(t<3?["Top",r,n,i]:["Top"+i,"Top"+r,n+r,n+i]).map((function(r){return t<2?e+r:"border"+r+e}));An[1<t?"border"+e:e]=function(e,t,r,n,i){var o,s;if(arguments.length<4)return o=a.map((function(t){return Er(e,t,r)})),5===(s=o.join(" ")).split(o[0]).length?o[0]:s;o=(n+"").split(" "),s={},a.forEach((function(e,t){return s[e]=o[t]=o[t]||o[(t-1)/2|0]})),e.init(t,s,i)}}));var qn,Un,zn={name:"css",register:Tr,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,n,i){var a,o,s,l,c,u,d,f,h,_,g,m,v,y,b,w=this._props,T=e.style;for(d in Hr||Tr(),t)if("autoRound"!==d&&(o=t[d],!it[d]||!Lt(d,t,r,n,e,i)))if(c=typeof o,u=An[d],"function"===c&&(c=typeof(o=o.call(r,n,e,i))),"string"===c&&~o.indexOf("random(")&&(o=ee(o)),u)u(this,e,d,o,r)&&(b=1);else if("--"===d.substr(0,2))this.add(T,"setProperty",getComputedStyle(e).getPropertyValue(d)+"",o+"",n,i,0,0,d);else{if(a=Er(e,d),l=parseFloat(a),(_="string"===c&&"="===o.charAt(1)?+(o.charAt(0)+"1"):0)&&(o=o.substr(2)),s=parseFloat(o),d in wn&&("autoAlpha"===d&&(1===l&&"hidden"===Er(e,"visibility")&&s&&(l=0),Ar(this,T,"visibility",l?"inherit":"hidden",s?"inherit":"hidden",!s)),"scale"!==d&&"transform"!==d&&~(d=wn[d]).indexOf(",")&&(d=d.split(",")[0])),g=d in hn)if(m||((v=e._gsap).renderTransform||Pn(e),y=!1!==t.smoothOrigin&&v.smooth,(m=this._pt=new rr(this._pt,T,Tn,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===d)this._pt=new rr(this._pt,v,"scaleY",v.scaleY,_?_*s:s-v.scaleY),w.push("scaleY",d),d+="X";else{if("transformOrigin"===d){o=Dr(o),v.svg?Nr(e,o,0,y,0,this):((h=parseFloat(o.split(" ")[2])||0)!==v.zOrigin&&Ar(this,v,"zOrigin",v.zOrigin,h),Ar(this,T,d,Dn(a),Dn(o)));continue}if("svgOrigin"===d){Nr(e,o,1,y,0,this);continue}if(d in En){qr(this,v,d,l,o,_);continue}if("smoothOrigin"===d){Ar(this,v,"smooth",v.smooth,o);continue}if("force3D"===d){v[d]=o;continue}if("transform"===d){Ur(this,o,e);continue}}else d in T||(d=Sn(d)||d);if(g||(s||0===s)&&(l||0===l)&&!bn.test(o)&&d in T)(f=(a+"").substr((l+"").length))!==(h=(o+"").substr(((s=s||0)+"").length)||(d in Re.units?Re.units[d]:f))&&(l=Or(e,d,a,h)),this._pt=new rr(this._pt,g?v:T,d,l,_?_*s:s-l,"px"!==h||!1===t.autoRound||g?lr:dr),this._pt.u=h||0,f!==h&&(this._pt.b=a,this._pt.r=ur);else if(d in T)Pr.call(this,e,d,a,o);else{if(!(d in e)){p(d,o);continue}this.add(e,d,e[d],o,n,i)}w.push(d)}b&&tr(this)},get:Er,aliases:wn,parseTransform:Pn,getSetter:function(e,t,r){var n=wn[t];return n&&n.indexOf(",")<0&&(t=n),t in hn&&t!==xn&&(e._gsap.x||Er(e,"x"))?r&&Gr===r?"scale"===t?mr:gr:(Gr=r||{})&&("scale"===t?vr:yr):e.style&&!o(e.style[t])?hr:~t.indexOf("-")?_r:Kt(e,t)},core:{_removeProperty:Mr,_getMatrix:Rr}};sr.utils.checkPrefix=Sn,Un=y("x,y,z,scale,scaleX,scaleY,xPercent,yPercent"+","+(qn="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(e){hn[e]=1})),y(qn,(function(e){Re.units[e]="deg",En[e]=1})),wn[Un[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+qn,y("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(e){var t=e.split(":");wn[t[1]]=Un[t[0]]})),y("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){Re.units[e]="px"})),sr.registerPlugin(zn);var Bn=sr.registerPlugin(zn)||sr,$n=Bn.core.Tween;e.Back=ln,e.Bounce=un,e.CSSPlugin=zn,e.Circ=fn,e.Cubic=rn,e.Elastic=sn,e.Expo=pn,e.Linear=en,e.Power0=Qr,e.Power1=Xr,e.Power2=Yr,e.Power3=Jr,e.Power4=Zr,e.Quad=tn,e.Quart=nn,e.Quint=an,e.Sine=dn,e.SteppedEase=cn,e.Strong=on,e.TimelineLite=It,e.TimelineMax=It,e.TweenLite=Bt,e.TweenMax=$n,e.default=Bn,e.gsap=Bn,"undefined"==typeof window||window!==e?Object.defineProperty(e,"__esModule",{value:!0}):delete e.default})),function(){function e(e){return e.replace(/\s+$/g,"")}function t(t,i,a,o){var s,l,c,u,d,p,f,h,_,g,m,v,y,b,w,T,x,k,S,C,M;for(i=function(e,t){var r,n={};for(r in e)r!==t&&(n[r]=e[r]);if(t in e)for(r in e[t])n[r]=e[t][r];return n}(i=i||{},"html"),void 0!==i.wrap_line_length&&0!==parseInt(i.wrap_line_length,10)||void 0===i.max_char||0===parseInt(i.max_char,10)||(i.wrap_line_length=i.max_char),l=void 0!==i.indent_inner_html&&i.indent_inner_html,c=void 0===i.indent_body_inner_html||i.indent_body_inner_html,u=void 0===i.indent_head_inner_html||i.indent_head_inner_html,d=void 0===i.indent_size?4:parseInt(i.indent_size,10),p=void 0===i.indent_char?" ":i.indent_char,h=void 0===i.brace_style?"collapse":i.brace_style,f=0===parseInt(i.wrap_line_length,10)?32786:parseInt(i.wrap_line_length||250,10),_=i.unformatted||["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","address","big","dt","ins","strike","tt"],g=i.content_unformatted||["pre"],m=void 0===i.preserve_newlines||i.preserve_newlines,v=m?isNaN(parseInt(i.max_preserve_newlines,10))?32786:parseInt(i.max_preserve_newlines,10):0,y=void 0!==i.indent_handlebars&&i.indent_handlebars,b=void 0===i.wrap_attributes?"auto":i.wrap_attributes,w=isNaN(parseInt(i.wrap_attributes_indent_size,10))?d:parseInt(i.wrap_attributes_indent_size,10),T="force"===b.substr(0,5),x="force-expand-multiline"===b,k="force-aligned"===b,S=void 0!==i.end_with_newline&&i.end_with_newline,C="object"==typeof i.extra_liners&&i.extra_liners?i.extra_liners.concat():"string"==typeof i.extra_liners?i.extra_liners.split(","):"head,body,/html".split(","),M=i.eol?i.eol:"auto",i.indent_with_tabs&&(p="\t",d=1),"auto"===M&&(M="\n",t&&r.test(t||"")&&(M=t.match(r)[0])),M=M.replace(/\\r/,"\r").replace(/\\n/,"\n"),t=t.replace(n,"\n"),s=new function(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.newlines=0,this.indent_content=l,this.indent_body_inner_html=c,this.indent_head_inner_html=u,this.Utils={whitespace:"\n\r\t ".split(""),single_token:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","?php","basefont","isindex"],extra_liners:C,in_array:function(e,t){for(var r=0;r<t.length;r++)if(e===t[r])return!0;return!1}},this.is_whitespace=function(e){for(var t=0;t<e.length;t++)if(!this.Utils.in_array(e.charAt(t),this.Utils.whitespace))return!1;return!0},this.traverse_whitespace=function(){var e="";if(e=this.input.charAt(this.pos),this.Utils.in_array(e,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(e,this.Utils.whitespace);)m&&"\n"===e&&this.newlines<=v&&(this.newlines+=1),this.pos++,e=this.input.charAt(this.pos);return!0}return!1},this.space_or_wrap=function(e){return this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,e),this.print_indentation(e),!0):(this.line_char_count++,e.push(" "),!1)},this.get_content=function(){for(var e="",t=[],r=0;"<"!==this.input.charAt(this.pos)||2===r;){if(this.pos>=this.input.length)return t.length?t.join(""):["","TK_EOF"];if(r<2&&this.traverse_whitespace())this.space_or_wrap(t);else{if(e=this.input.charAt(this.pos),y){if("{"===e?r+=1:r<2&&(r=0),"}"===e&&r>0&&0==r--)break;var n=this.input.substr(this.pos,3);if("{{#"===n||"{{/"===n)break;if("{{!"===n)return[this.get_tag(),"TK_TAG_HANDLEBARS_COMMENT"];if("{{"===this.input.substr(this.pos,2)&&"{{else}}"===this.get_tag(!0))break}this.pos++,this.line_char_count++,t.push(e)}}return t.length?t.join(""):""},this.get_contents_to=function(e){if(this.pos===this.input.length)return["","TK_EOF"];var t="",r=new RegExp("</"+e+"\\s*>","igm");r.lastIndex=this.pos;var n=r.exec(this.input),i=n?n.index:this.input.length;return this.pos<i&&(t=this.input.substring(this.pos,i),this.pos=i),t},this.record_tag=function(e){this.tags[e+"count"]?(this.tags[e+"count"]++,this.tags[e+this.tags[e+"count"]]=this.indent_level):(this.tags[e+"count"]=1,this.tags[e+this.tags[e+"count"]]=this.indent_level),this.tags[e+this.tags[e+"count"]+"parent"]=this.tags.parent,this.tags.parent=e+this.tags[e+"count"]},this.retrieve_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]],this.tags.parent=this.tags[t+"parent"]),delete this.tags[e+this.tags[e+"count"]+"parent"],delete this.tags[e+this.tags[e+"count"]],1===this.tags[e+"count"]?delete this.tags[e+"count"]:this.tags[e+"count"]--}},this.indent_to_tag=function(e){if(this.tags[e+"count"]){for(var t=this.tags.parent;t&&e+this.tags[e+"count"]!==t;)t=this.tags[t+"parent"];t&&(this.indent_level=this.tags[e+this.tags[e+"count"]])}},this.get_tag=function(e){var t,r,n,i="",a=[],o="",s=!1,l=!0,c=!1,u=this.pos,d=this.line_char_count,p=!1;e=void 0!==e&&e;do{if(this.pos>=this.input.length)return e&&(this.pos=u,this.line_char_count=d),a.length?a.join(""):["","TK_EOF"];if(i=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(i,this.Utils.whitespace))s=!0;else{if("'"!==i&&'"'!==i||(i+=this.get_unformatted(i),s=!0),"="===i&&(s=!1),n=this.input.substr(this.pos-1),!x||!c||p||">"!==i&&"/"!==i||n.match(/^\/?\s*>/)&&(s=!1,p=!0,this.print_newline(!1,a),this.print_indentation(a)),a.length&&"="!==a[a.length-1]&&">"!==i&&s){var f=this.space_or_wrap(a)&&"/"!==i&&!T;if(s=!1,T&&"/"!==i){var h=!1;x&&l&&(h=!(null!==n.match(/^\S*(="([^"]|\\")*")?\s*\/?\s*>/))),l&&!h||(this.print_newline(!1,a),this.print_indentation(a),f=!0)}if(f){c=!0;var m=w;k&&(m=a.indexOf(" ")+1);for(var v=0;v<m;v++)a.push(" ")}if(l)for(var b=0;b<a.length;b++)if(" "===a[b]){l=!1;break}}if(y&&"<"===r&&i+this.input.charAt(this.pos)==="{{"&&(i+=this.get_unformatted("}}"),a.length&&" "!==a[a.length-1]&&"<"!==a[a.length-1]&&(i=" "+i),s=!0),"<"!==i||r||(t=this.pos-1,r="<"),y&&!r&&a.length>=2&&"{"===a[a.length-1]&&"{"===a[a.length-2]&&(t="#"===i||"/"===i||"!"===i?this.pos-3:this.pos-2,r="{"),this.line_char_count++,a.push(i),a[1]&&("!"===a[1]||"?"===a[1]||"%"===a[1])){a=[this.get_comment(t)];break}if(y&&a[1]&&"{"===a[1]&&a[2]&&"!"===a[2]){a=[this.get_comment(t)];break}if(y&&"{"===r&&a.length>2&&"}"===a[a.length-2]&&"}"===a[a.length-1])break}}while(">"!==i);var S,C,M=a.join("");S=-1!==M.indexOf(" ")?M.indexOf(" "):-1!==M.indexOf("\n")?M.indexOf("\n"):"{"===M.charAt(0)?M.indexOf("}"):M.indexOf(">"),C="<"!==M.charAt(0)&&y?"#"===M.charAt(2)?3:2:1;var A=M.substring(C,S).toLowerCase();return"/"===M.charAt(M.length-2)||this.Utils.in_array(A,this.Utils.single_token)?e||(this.tag_type="SINGLE"):y&&"{"===M.charAt(0)&&"else"===A?e||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(A,_)||this.is_unformatted(A,g)?(o=this.get_unformatted("</"+A+">",M),a.push(o),this.pos,this.tag_type="SINGLE"):"script"===A&&(-1===M.search("type")||M.search("type")>-1&&M.search(/\b(text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect)/)>-1)?e||(this.record_tag(A),this.tag_type="SCRIPT"):"style"===A&&(-1===M.search("type")||M.search("type")>-1&&M.search("text/css")>-1)?e||(this.record_tag(A),this.tag_type="STYLE"):"!"===A.charAt(0)?e||(this.tag_type="SINGLE",this.traverse_whitespace()):e||("/"===A.charAt(0)?(this.retrieve_tag(A.substring(1)),this.tag_type="END"):(this.record_tag(A),"html"!==A.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(a),this.Utils.in_array(A,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!==this.output[this.output.length-2]&&this.print_newline(!0,this.output))),e&&(this.pos=u,this.line_char_count=d),a.join("")},this.get_comment=function(e){var t="",r=">",n=!1;this.pos=e;var i=this.input.charAt(this.pos);for(this.pos++;this.pos<=this.input.length&&((t+=i).charAt(t.length-1)!==r.charAt(r.length-1)||-1===t.indexOf(r));)!n&&t.length<10&&(0===t.indexOf("<![if")?(r="<![endif]>",n=!0):0===t.indexOf("<![cdata[")?(r="]]>",n=!0):0===t.indexOf("<![")?(r="]>",n=!0):0===t.indexOf("\x3c!--")?(r="--\x3e",n=!0):0===t.indexOf("{{!--")?(r="--}}",n=!0):0===t.indexOf("{{!")?5===t.length&&-1===t.indexOf("{{!--")&&(r="}}",n=!0):0===t.indexOf("<?")?(r="?>",n=!0):0===t.indexOf("<%")&&(r="%>",n=!0)),i=this.input.charAt(this.pos),this.pos++;return t},this.get_unformatted=function(e,t){if(t&&-1!==t.toLowerCase().indexOf(e))return"";var r="",n="",i=!0,a=function(e){var t="";return{add:function(r){var n=t+r.toLowerCase();t=n.length<=e.length?n:n.substr(n.length-e.length,e.length)},doesNotMatch:function(){return-1===t.indexOf(e)}}}(e);do{if(this.pos>=this.input.length)return n;if(r=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(r,this.Utils.whitespace)){if(!i){this.line_char_count--;continue}if("\n"===r||"\r"===r){n+="\n",this.line_char_count=0;continue}}n+=r,a.add(r),this.line_char_count++,i=!0,y&&"{"===r&&n.length&&"{"===n.charAt(n.length-2)&&(n+=this.get_unformatted("}}"))}while(a.doesNotMatch());return n},this.get_token=function(){var e;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var t=this.last_token.substr(7);return"string"!=typeof(e=this.get_contents_to(t))?e:[e,"TK_"+t]}return"CONTENT"===this.current_mode?"string"!=typeof(e=this.get_content())?e:[e,"TK_CONTENT"]:"TAG"===this.current_mode?"string"!=typeof(e=this.get_tag())?e:[e,"TK_TAG_"+this.tag_type]:void 0},this.get_full_indent=function(e){return(e=this.indent_level+e||0)<1?"":Array(e+1).join(this.indent_string)},this.is_unformatted=function(e,t){if(!this.Utils.in_array(e,t))return!1;if("a"!==e.toLowerCase()||!this.Utils.in_array("a",t))return!0;var r=(this.get_tag(!0)||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!(r&&!this.Utils.in_array(r,t))},this.printer=function(t,r,n,i,a){this.input=t||"",this.input=this.input.replace(/\r\n|[\r\u2028\u2029]/g,"\n"),this.output=[],this.indent_character=r,this.indent_string="",this.indent_size=n,this.brace_style=a,this.indent_level=0,this.wrap_line_length=i,this.line_char_count=0;for(var o=0;o<this.indent_size;o++)this.indent_string+=this.indent_character;this.print_newline=function(t,r){this.line_char_count=0,r&&r.length&&(t||"\n"!==r[r.length-1])&&("\n"!==r[r.length-1]&&(r[r.length-1]=e(r[r.length-1])),r.push("\n"))},this.print_indentation=function(e){for(var t=0;t<this.indent_level;t++)e.push(this.indent_string),this.line_char_count+=this.indent_string.length},this.print_token=function(e){this.is_whitespace(e)&&!this.output.length||((e||""!==e)&&this.output.length&&"\n"===this.output[this.output.length-1]&&(this.print_indentation(this.output),e=function(e){return e.replace(/^\s+/g,"")}(e)),this.print_token_raw(e))},this.print_token_raw=function(t){this.newlines>0&&(t=e(t)),t&&""!==t&&(t.length>1&&"\n"===t.charAt(t.length-1)?(this.output.push(t.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(t));for(var r=0;r<this.newlines;r++)this.print_newline(r>0,this.output);this.newlines=0},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this},s.printer(t,p,d,f,h);;){var A=s.get_token();if(s.token_text=A[0],s.token_type=A[1],"TK_EOF"===s.token_type)break;switch(s.token_type){case"TK_TAG_START":s.print_newline(!1,s.output),s.print_token(s.token_text),s.indent_content&&(!s.indent_body_inner_html&&s.token_text.match(/<body(?:.*)>/)||!s.indent_head_inner_html&&s.token_text.match(/<head(?:.*)>/)||s.indent(),s.indent_content=!1),s.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":s.print_newline(!1,s.output),s.print_token(s.token_text),s.current_mode="CONTENT";break;case"TK_TAG_END":if("TK_CONTENT"===s.last_token&&""===s.last_text){var O=(s.token_text.match(/\w+/)||[])[0],E=null;s.output.length&&(E=s.output[s.output.length-1].match(/(?:<|{{#)\s*(\w+)/)),(null===E||E[1]!==O&&!s.Utils.in_array(E[1],_))&&s.print_newline(!1,s.output)}s.print_token(s.token_text),s.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var P=s.token_text.match(/^\s*<([a-z-]+)/i);P&&s.Utils.in_array(P[1],_)||s.print_newline(!1,s.output),s.print_token(s.token_text),s.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_ELSE":for(var D=!1,j=s.output.length-1;j>=0&&"\n"!==s.output[j];j--)if(s.output[j].match(/{{#if/)){D=!0;break}D||s.print_newline(!1,s.output),s.print_token(s.token_text),s.indent_content&&(s.indent(),s.indent_content=!1),s.current_mode="CONTENT";break;case"TK_TAG_HANDLEBARS_COMMENT":case"TK_CONTENT":s.print_token(s.token_text),s.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(""!==s.token_text){s.print_newline(!1,s.output);var I,L=s.token_text,R=1;"TK_SCRIPT"===s.token_type?I="function"==typeof a&&a:"TK_STYLE"===s.token_type&&(I="function"==typeof o&&o),"keep"===i.indent_scripts?R=0:"separate"===i.indent_scripts&&(R=-s.indent_level);var N=s.get_full_indent(R);if(I){var F=function(){this.eol="\n"};F.prototype=i;var q=new F;L=I(L.replace(/^\s*/,N),q)}else{var U=L.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(s.indent_string).length-1,z=s.get_full_indent(R-U);L=L.replace(/^\s*/,N).replace(/\r\n|\r|\n/g,"\n"+z).replace(/\s+$/,"")}L&&(s.print_token_raw(L),s.print_newline(!0,s.output))}s.current_mode="TAG";break;default:""!==s.token_text&&s.print_token(s.token_text)}s.last_token=s.token_type,s.last_text=s.token_text}var B=s.output.join("").replace(/[\r\n\t ]+$/,"");return S&&(B+="\n"),"\n"!==M&&(B=B.replace(/[\n]/g,M)),B}var r=/\r\n|[\n\r\u2028\u2029]/,n=new RegExp(r.source,"g");if("function"==typeof define&&define.amd)define(["require","./beautify","./beautify-css"],(function(e){var r=e("./beautify"),n=e("./beautify-css");return{html_beautify:function(e,i){return t(e,i,r.js_beautify,n.css_beautify)}}}));else if("undefined"!=typeof exports){var i=require("./beautify.js"),a=require("./beautify-css.js");exports.html_beautify=function(e,r){return t(e,r,i.js_beautify,a.css_beautify)}}else"undefined"!=typeof window?window.html_beautify=function(e,r){return t(e,r,window.js_beautify,window.css_beautify)}:"undefined"!=typeof global&&(global.html_beautify=function(e,r){return t(e,r,global.js_beautify,global.css_beautify)});"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&(self.html_beautify=function(e,r){return t(e,r)})}(),function(){var e;!function(){"use strict";var t=[,,function(e){function t(e){this.__parent=e,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}function r(e,t){this.__cache=[""],this.__indent_size=e.indent_size,this.__indent_string=e.indent_char,e.indent_with_tabs||(this.__indent_string=new Array(e.indent_size+1).join(e.indent_char)),t=t||"",e.indent_level>0&&(t=new Array(e.indent_level+1).join(this.__indent_string)),this.__base_string=t,this.__base_string_length=t.length}function n(e,n){this.__indent_cache=new r(e,n),this.raw=!1,this._end_with_newline=e.end_with_newline,this.indent_size=e.indent_size,this.wrap_line_length=e.wrap_line_length,this.indent_empty_lines=e.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new t(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}t.prototype.clone_empty=function(){var e=new t(this.__parent);return e.set_indent(this.__indent_count,this.__alignment_count),e},t.prototype.item=function(e){return e<0?this.__items[this.__items.length+e]:this.__items[e]},t.prototype.has_match=function(e){for(var t=this.__items.length-1;t>=0;t--)if(this.__items[t].match(e))return!0;return!1},t.prototype.set_indent=function(e,t){this.is_empty()&&(this.__indent_count=e||0,this.__alignment_count=t||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},t.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},t.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},t.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var e=this.__parent.current_line;return e.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),e.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),e.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count," "===e.__items[0]&&(e.__items.splice(0,1),e.__character_count-=1),!0}return!1},t.prototype.is_empty=function(){return 0===this.__items.length},t.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},t.prototype.push=function(e){this.__items.push(e);var t=e.lastIndexOf("\n");-1!==t?this.__character_count=e.length-t:this.__character_count+=e.length},t.prototype.pop=function(){var e=null;return this.is_empty()||(e=this.__items.pop(),this.__character_count-=e.length),e},t.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},t.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},t.prototype.trim=function(){for(;" "===this.last();)this.__items.pop(),this.__character_count-=1},t.prototype.toString=function(){var e="";return this.is_empty()?this.__parent.indent_empty_lines&&(e=this.__parent.get_indent_string(this.__indent_count)):(e=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),e+=this.__items.join("")),e},r.prototype.get_indent_size=function(e,t){var r=this.__base_string_length;return t=t||0,e<0&&(r=0),r+=e*this.__indent_size,r+=t},r.prototype.get_indent_string=function(e,t){var r=this.__base_string;return t=t||0,e<0&&(e=0,r=""),t+=e*this.__indent_size,this.__ensure_cache(t),r+=this.__cache[t]},r.prototype.__ensure_cache=function(e){for(;e>=this.__cache.length;)this.__add_column()},r.prototype.__add_column=function(){var e=this.__cache.length,t=0,r="";this.__indent_size&&e>=this.__indent_size&&(e-=(t=Math.floor(e/this.__indent_size))*this.__indent_size,r=new Array(t+1).join(this.__indent_string)),e&&(r+=new Array(e+1).join(" ")),this.__cache.push(r)},n.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},n.prototype.get_line_number=function(){return this.__lines.length},n.prototype.get_indent_string=function(e,t){return this.__indent_cache.get_indent_string(e,t)},n.prototype.get_indent_size=function(e,t){return this.__indent_cache.get_indent_size(e,t)},n.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},n.prototype.add_new_line=function(e){return!(this.is_empty()||!e&&this.just_added_newline())&&(this.raw||this.__add_outputline(),!0)},n.prototype.get_code=function(e){this.trim(!0);var t=this.current_line.pop();t&&("\n"===t[t.length-1]&&(t=t.replace(/\n+$/g,"")),this.current_line.push(t)),this._end_with_newline&&this.__add_outputline();var r=this.__lines.join("\n");return"\n"!==e&&(r=r.replace(/[\n]/g,e)),r},n.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},n.prototype.set_indent=function(e,t){return e=e||0,t=t||0,this.next_line.set_indent(e,t),this.__lines.length>1?(this.current_line.set_indent(e,t),!0):(this.current_line.set_indent(),!1)},n.prototype.add_raw_token=function(e){for(var t=0;t<e.newlines;t++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(e.whitespace_before),this.current_line.push(e.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},n.prototype.add_token=function(e){this.__add_space_before_token(),this.current_line.push(e),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},n.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},n.prototype.remove_indent=function(e){for(var t=this.__lines.length;e<t;)this.__lines[e]._remove_indent(),e++;this.current_line._remove_wrap_indent()},n.prototype.trim=function(e){for(e=void 0!==e&&e,this.current_line.trim();e&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},n.prototype.just_added_newline=function(){return this.current_line.is_empty()},n.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},n.prototype.ensure_empty_line_above=function(e,r){for(var n=this.__lines.length-2;n>=0;){var i=this.__lines[n];if(i.is_empty())break;if(0!==i.item(0).indexOf(e)&&i.item(-1)!==r){this.__lines.splice(n+1,0,new t(this)),this.previous_line=this.__lines[this.__lines.length-2];break}n--}},e.exports.Output=n},,,,function(e){function t(e,t){this.raw_options=r(e,t),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs","\t"===this.indent_char),this.indent_with_tabs&&(this.indent_char="\t",1===this.indent_size&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","django","erb","handlebars","php","smarty"],["auto"])}function r(e,t){var r,i={};for(r in e=n(e))r!==t&&(i[r]=e[r]);if(t&&e[t])for(r in e[t])i[r]=e[t][r];return i}function n(e){var t,r={};for(t in e){r[t.replace(/-/g,"_")]=e[t]}return r}t.prototype._get_array=function(e,t){var r=this.raw_options[e],n=t||[];return"object"==typeof r?null!==r&&"function"==typeof r.concat&&(n=r.concat()):"string"==typeof r&&(n=r.split(/[^a-zA-Z0-9_\/\-]+/)),n},t.prototype._get_boolean=function(e,t){var r=this.raw_options[e];return void 0===r?!!t:!!r},t.prototype._get_characters=function(e,t){var r=this.raw_options[e],n=t||"";return"string"==typeof r&&(n=r.replace(/\\r/,"\r").replace(/\\n/,"\n").replace(/\\t/,"\t")),n},t.prototype._get_number=function(e,t){var r=this.raw_options[e];t=parseInt(t,10),isNaN(t)&&(t=0);var n=parseInt(r,10);return isNaN(n)&&(n=t),n},t.prototype._get_selection=function(e,t,r){var n=this._get_selection_list(e,t,r);if(1!==n.length)throw new Error("Invalid Option Value: The option '"+e+"' can only be one of the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return n[0]},t.prototype._get_selection_list=function(e,t,r){if(!t||0===t.length)throw new Error("Selection list cannot be empty.");if(r=r||[t[0]],!this._is_valid_selection(r,t))throw new Error("Invalid Default Value!");var n=this._get_array(e,r);if(!this._is_valid_selection(n,t))throw new Error("Invalid Option Value: The option '"+e+"' can contain only the following values:\n"+t+"\nYou passed in: '"+this.raw_options[e]+"'");return n},t.prototype._is_valid_selection=function(e,t){return e.length&&t.length&&!e.some((function(e){return-1===t.indexOf(e)}))},e.exports.Options=t,e.exports.normalizeOpts=n,e.exports.mergeOpts=r},,function(e){var t=RegExp.prototype.hasOwnProperty("sticky");function r(e){this.__input=e||"",this.__input_length=this.__input.length,this.__position=0}r.prototype.restart=function(){this.__position=0},r.prototype.back=function(){this.__position>0&&(this.__position-=1)},r.prototype.hasNext=function(){return this.__position<this.__input_length},r.prototype.next=function(){var e=null;return this.hasNext()&&(e=this.__input.charAt(this.__position),this.__position+=1),e},r.prototype.peek=function(e){var t=null;return e=e||0,(e+=this.__position)>=0&&e<this.__input_length&&(t=this.__input.charAt(e)),t},r.prototype.__match=function(e,r){e.lastIndex=r;var n=e.exec(this.__input);return!n||t&&e.sticky||n.index!==r&&(n=null),n},r.prototype.test=function(e,t){return t=t||0,(t+=this.__position)>=0&&t<this.__input_length&&!!this.__match(e,t)},r.prototype.testChar=function(e,t){var r=this.peek(t);return e.lastIndex=0,null!==r&&e.test(r)},r.prototype.match=function(e){var t=this.__match(e,this.__position);return t?this.__position+=t[0].length:t=null,t},r.prototype.read=function(e,t,r){var n,i="";return e&&(n=this.match(e))&&(i+=n[0]),!t||!n&&e||(i+=this.readUntil(t,r)),i},r.prototype.readUntil=function(e,t){var r,n=this.__position;e.lastIndex=this.__position;var i=e.exec(this.__input);return i?(n=i.index,t&&(n+=i[0].length)):n=this.__input_length,r=this.__input.substring(this.__position,n),this.__position=n,r},r.prototype.readUntilAfter=function(e){return this.readUntil(e,!0)},r.prototype.get_regexp=function(e,r){var n=null,i="g";return r&&t&&(i="y"),"string"==typeof e&&""!==e?n=new RegExp(e,i):e&&(n=new RegExp(e.source,i)),n},r.prototype.get_literal_regexp=function(e){return RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},r.prototype.peekUntilAfter=function(e){var t=this.__position,r=this.readUntilAfter(e);return this.__position=t,r},r.prototype.lookBack=function(e){var t=this.__position-1;return t>=e.length&&this.__input.substring(t-e.length,t).toLowerCase()===e},e.exports.InputScanner=r},,,,,function(e){function t(e,t){e="string"==typeof e?e:e.source,t="string"==typeof t?t:t.source,this.__directives_block_pattern=new RegExp(e+/ beautify( \w+[:]\w+)+ /.source+t,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(e+/\sbeautify\signore:end\s/.source+t,"g")}t.prototype.get_directives=function(e){if(!e.match(this.__directives_block_pattern))return null;var t={};this.__directive_pattern.lastIndex=0;for(var r=this.__directive_pattern.exec(e);r;)t[r[1]]=r[2],r=this.__directive_pattern.exec(e);return t},t.prototype.readIgnored=function(e){return e.readUntilAfter(this.__directives_end_ignore_pattern)},e.exports.Directives=t},,function(e,t,r){var n=r(16).Beautifier,i=r(17).Options;e.exports=function(e,t){return new n(e,t).beautify()},e.exports.defaultOptions=function(){return new i}},function(e,t,r){var n=r(17).Options,i=r(2).Output,a=r(8).InputScanner,o=new(0,r(13).Directives)(/\/\*/,/\*\//),s=/\r\n|[\r\n]/,l=/\r\n|[\r\n]/g,c=/\s/,u=/(?:\s|\n)+/g,d=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,p=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function f(e,t){this._source_text=e||"",this._options=new n(t),this._ch=null,this._input=null,this.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0},this.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0}}f.prototype.eatString=function(e){var t="";for(this._ch=this._input.next();this._ch;){if(t+=this._ch,"\\"===this._ch)t+=this._input.next();else if(-1!==e.indexOf(this._ch)||"\n"===this._ch)break;this._ch=this._input.next()}return t},f.prototype.eatWhitespace=function(e){for(var t=c.test(this._input.peek()),r=0;c.test(this._input.peek());)this._ch=this._input.next(),e&&"\n"===this._ch&&(0===r||r<this._options.max_preserve_newlines)&&(r++,this._output.add_new_line(!0));return t},f.prototype.foundNestedPseudoClass=function(){for(var e=0,t=1,r=this._input.peek(t);r;){if("{"===r)return!0;if("("===r)e+=1;else if(")"===r){if(0===e)return!1;e-=1}else if(";"===r||"}"===r)return!1;t++,r=this._input.peek(t)}return!1},f.prototype.print_string=function(e){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(e)},f.prototype.preserveSingleSpace=function(e){e&&(this._output.space_before_token=!0)},f.prototype.indent=function(){this._indentLevel++},f.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},f.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var e=this._source_text,t=this._options.eol;"auto"===t&&(t="\n",e&&s.test(e||"")&&(t=e.match(s)[0]));var r=(e=e.replace(l,"\n")).match(/^[\t ]*/)[0];this._output=new i(this._options,r),this._input=new a(e),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var n,f,h=0,_=!1,g=!1,m=!1,v=!1,y=!1,b=this._ch;n=""!==this._input.read(u),f=b,this._ch=this._input.next(),"\\"===this._ch&&this._input.hasNext()&&(this._ch+=this._input.next()),b=this._ch,this._ch;)if("/"===this._ch&&"*"===this._input.peek()){this._output.add_new_line(),this._input.back();var w=this._input.read(d),T=o.get_directives(w);T&&"start"===T.ignore&&(w+=o.readIgnored(this._input)),this.print_string(w),this.eatWhitespace(!0),this._output.add_new_line()}else if("/"===this._ch&&"/"===this._input.peek())this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(p)),this.eatWhitespace(!0);else if("@"===this._ch)if(this.preserveSingleSpace(n),"{"===this._input.peek())this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var x=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);x.match(/[ :]$/)&&(x=this.eatString(": ").replace(/\s$/,""),this.print_string(x),this._output.space_before_token=!0),"extend"===(x=x.replace(/\s$/,""))?v=!0:"import"===x&&(y=!0),x in this.NESTED_AT_RULE?(this._nestedLevel+=1,x in this.CONDITIONAL_GROUP_RULE&&(m=!0)):_||0!==h||-1===x.indexOf(":")||(g=!0,this.indent())}else"#"===this._ch&&"{"===this._input.peek()?(this.preserveSingleSpace(n),this.print_string(this._ch+this.eatString("}"))):"{"===this._ch?(g&&(g=!1,this.outdent()),m?(m=!1,_=this._indentLevel>=this._nestedLevel):_=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&_&&this._output.previous_line&&"{"!==this._output.previous_line.item(-1)&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,"expand"===this._options.brace_style?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line()):"}"===this._ch?(this.outdent(),this._output.add_new_line(),"{"===f&&this._output.trim(!0),y=!1,v=!1,g&&(this.outdent(),g=!1),this.print_string(this._ch),_=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&"}"!==this._input.peek()&&this._output.add_new_line(!0)):":"===this._ch?!_&&!m||this._input.lookBack("&")||this.foundNestedPseudoClass()||this._input.lookBack("(")||v||0!==h?(this._input.lookBack(" ")&&(this._output.space_before_token=!0),":"===this._input.peek()?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":")):(this.print_string(":"),g||(g=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):'"'===this._ch||"'"===this._ch?(this.preserveSingleSpace(n),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)):";"===this._ch?0===h?(g&&(this.outdent(),g=!1),v=!1,y=!1,this.print_string(this._ch),this.eatWhitespace(!0),"/"!==this._input.peek()&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0):"("===this._ch?this._input.lookBack("url")?(this.print_string(this._ch),this.eatWhitespace(),h++,this.indent(),this._ch=this._input.next(),")"===this._ch||'"'===this._ch||"'"===this._ch?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),h&&(h--,this.outdent()))):(this.preserveSingleSpace(n),this.print_string(this._ch),this.eatWhitespace(),h++,this.indent()):")"===this._ch?(h&&(h--,this.outdent()),this.print_string(this._ch)):","===this._ch?(this.print_string(this._ch),this.eatWhitespace(!0),!this._options.selector_separator_newline||g||0!==h||y?this._output.space_before_token=!0:this._output.add_new_line()):">"!==this._ch&&"+"!==this._ch&&"~"!==this._ch||g||0!==h?"]"===this._ch?this.print_string(this._ch):"["===this._ch?(this.preserveSingleSpace(n),this.print_string(this._ch)):"="===this._ch?(this.eatWhitespace(),this.print_string("="),c.test(this._ch)&&(this._ch="")):"!"!==this._ch||this._input.lookBack("\\")?(this.preserveSingleSpace(n),this.print_string(this._ch)):(this.print_string(" "),this.print_string(this._ch)):this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&c.test(this._ch)&&(this._ch=""));return this._output.get_code(t)},e.exports.Beautifier=f},function(e,t,r){var n=r(6).Options;function i(e){n.call(this,e,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var t=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||t;var r=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var i=0;i<r.length;i++)"expand"!==r[i]?this.brace_style="collapse":this.brace_style=r[i]}i.prototype=new n,e.exports.Options=i}],r={};var n=function e(n){var i=r[n];if(void 0!==i)return i.exports;var a=r[n]={exports:{}};return t[n](a,a.exports,e),a.exports}(15);e=n}();var t=e;"function"==typeof define&&define.amd?define([],(function(){return{css_beautify:t}})):"undefined"!=typeof exports?exports.css_beautify=t:"undefined"!=typeof window?window.css_beautify=t:"undefined"!=typeof global&&(global.css_beautify=t)}(),function(e){"use strict";function t(){var e=arguments[0],r=t.cache;return r[e]&&r.hasOwnProperty(e)||(r[e]=t.parse(e)),t.format.call(null,r[e],arguments)}function r(e){return"number"==typeof e?"number":"string"==typeof e?"string":Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function n(e,t){return t>=0&&t<=7&&o[e]?o[e][t]:Array(t+1).join(e)}var i={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};t.format=function(e,a){var o,s,l,c,u,d,p,f=1,h=e.length,_="",g=[],m=!0,v="";for(s=0;s<h;s++)if("string"===(_=r(e[s])))g[g.length]=e[s];else if("array"===_){if((c=e[s])[2])for(o=a[f],l=0;l<c[2].length;l++){if(!o.hasOwnProperty(c[2][l]))throw new Error(t('[tvrsprintf] property "%s" does not exist',c[2][l]));o=o[c[2][l]]}else o=c[1]?a[c[1]]:a[f++];if(i.not_type.test(c[8])&&i.not_primitive.test(c[8])&&"function"==r(o)&&(o=o()),i.numeric_arg.test(c[8])&&"number"!=r(o)&&isNaN(o))throw new TypeError(t("[tvrsprintf] expecting number but found %s",r(o)));switch(i.number.test(c[8])&&(m=o>=0),c[8]){case"b":o=parseInt(o,10).toString(2);break;case"c":o=String.fromCharCode(parseInt(o,10));break;case"d":case"i":o=parseInt(o,10);break;case"j":o=JSON.stringify(o,null,c[6]?parseInt(c[6]):0);break;case"e":o=c[7]?parseFloat(o).toExponential(c[7]):parseFloat(o).toExponential();break;case"f":o=c[7]?parseFloat(o).toFixed(c[7]):parseFloat(o);break;case"g":o=c[7]?parseFloat(o).toPrecision(c[7]):parseFloat(o);break;case"o":o=o.toString(8);break;case"s":o=String(o),o=c[7]?o.substring(0,c[7]):o;break;case"t":o=String(!!o),o=c[7]?o.substring(0,c[7]):o;break;case"T":o=r(o),o=c[7]?o.substring(0,c[7]):o;break;case"u":o=parseInt(o,10)>>>0;break;case"v":o=o.valueOf(),o=c[7]?o.substring(0,c[7]):o;break;case"x":o=parseInt(o,10).toString(16);break;case"X":o=parseInt(o,10).toString(16).toUpperCase()}i.json.test(c[8])?g[g.length]=o:(!i.number.test(c[8])||m&&!c[3]?v="":(v=m?"+":"-",o=o.toString().replace(i.sign,"")),d=c[4]?"0"===c[4]?"0":c[4].charAt(1):" ",p=c[6]-(v+o).length,u=c[6]&&p>0?n(d,p):"",g[g.length]=c[5]?v+o+u:"0"===d?v+u+o:u+v+o)}return g.join("")},t.cache={},t.parse=function(e){for(var t=e,r=[],n=[],a=0;t;){if(null!==(r=i.text.exec(t)))n[n.length]=r[0];else if(null!==(r=i.modulo.exec(t)))n[n.length]="%";else{if(null===(r=i.placeholder.exec(t)))throw new SyntaxError("[tvrsprintf] unexpected placeholder");if(r[2]){a|=1;var o=[],s=r[2],l=[];if(null===(l=i.key.exec(s)))throw new SyntaxError("[tvrsprintf] failed to parse named argument key");for(o[o.length]=l[1];""!==(s=s.substring(l[0].length));)if(null!==(l=i.key_access.exec(s)))o[o.length]=l[1];else{if(null===(l=i.index_access.exec(s)))throw new SyntaxError("[tvrsprintf] failed to parse named argument key");o[o.length]=l[1]}r[2]=o}else a|=2;if(3===a)throw new Error("[tvrsprintf] mixing positional and named placeholders is not (yet) supported");n[n.length]=r}t=t.substring(r[0].length)}return n};var a=function(e,r,n){return(n=(r||[]).slice(0)).splice(0,0,e),t.apply(null,n)},o={0:["","0","00","000","0000","00000","000000","0000000"]," ":[""," ","  ","   ","    ","     ","      ","       "],_:["","_","__","___","____","_____","______","_______"]};"undefined"!=typeof exports&&(exports.tvrsprintf=t,exports.vtvrsprintf=a),void 0!==e&&(e.tvrsprintf=t,e.vtvrsprintf=a,"function"==typeof define&&define.amd&&define((function(){return{tvrsprintf:t,vtvrsprintf:a}})))}("undefined"==typeof window?this:window),
/**!
 * Sortable 1.13.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).Sortable=t()}(this,(function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r.apply(this,arguments)}function n(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(r){t(e,r,n[r])}))}return e}function i(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var s=o(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),l=o(/Edge/i),c=o(/firefox/i),u=o(/safari/i)&&!o(/chrome/i)&&!o(/android/i),d=o(/iP(ad|od|hone)/i),p=o(/chrome/i)&&o(/android/i),f={capture:!1,passive:!1};function h(e,t,r){e.addEventListener(t,r,!s&&f)}function _(e,t,r){e.removeEventListener(t,r,!s&&f)}function g(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function m(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function v(e,t,r,n){if(e){r=r||document;do{if(null!=t&&(">"===t[0]?e.parentNode===r&&g(e,t):g(e,t))||n&&e===r)return e;if(e===r)break}while(e=m(e))}return null}var y,b=/\s+/g;function w(e,t,r){if(e&&t)if(e.classList)e.classList[r?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(b," ").replace(" "+t+" "," ");e.className=(n+(r?" "+t:"")).replace(b," ")}}function T(e,t,r){var n=e&&e.style;if(n){if(void 0===r)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(r=e.currentStyle),void 0===t?r:r[t];t in n||-1!==t.indexOf("webkit")||(t="-webkit-"+t),n[t]=r+("string"==typeof r?"":"px")}}function x(e,t){var r="";if("string"==typeof e)r=e;else do{var n=T(e,"transform");n&&"none"!==n&&(r=n+" "+r)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(r)}function k(e,t,r){if(e){var n=e.getElementsByTagName(t),i=0,a=n.length;if(r)for(;i<a;i++)r(n[i],i);return n}return[]}function S(){var e=document.scrollingElement;return e||document.documentElement}function C(e,t,r,n,i){if(e.getBoundingClientRect||e===window){var a,o,l,c,u,d,p;if(e!==window&&e.parentNode&&e!==S()?(o=(a=e.getBoundingClientRect()).top,l=a.left,c=a.bottom,u=a.right,d=a.height,p=a.width):(o=0,l=0,c=window.innerHeight,u=window.innerWidth,d=window.innerHeight,p=window.innerWidth),(t||r)&&e!==window&&(i=i||e.parentNode,!s))do{if(i&&i.getBoundingClientRect&&("none"!==T(i,"transform")||r&&"static"!==T(i,"position"))){var f=i.getBoundingClientRect();o-=f.top+parseInt(T(i,"border-top-width")),l-=f.left+parseInt(T(i,"border-left-width")),c=o+a.height,u=l+a.width;break}}while(i=i.parentNode);if(n&&e!==window){var h=x(i||e),_=h&&h.a,g=h&&h.d;h&&(c=(o/=g)+(d/=g),u=(l/=_)+(p/=_))}return{top:o,left:l,bottom:c,right:u,width:p,height:d}}}function M(e,t,r){for(var n=D(e,!0),i=C(e)[t];n;){var a=C(n)[r];if(!("top"===r||"left"===r?i>=a:i<=a))return n;if(n===S())break;n=D(n,!1)}return!1}function A(e,t,r){for(var n=0,i=0,a=e.children;i<a.length;){if("none"!==a[i].style.display&&a[i]!==Ne.ghost&&a[i]!==Ne.dragged&&v(a[i],r.draggable,e,!1)){if(n===t)return a[i];n++}i++}return null}function O(e,t){for(var r=e.lastElementChild;r&&(r===Ne.ghost||"none"===T(r,"display")||t&&!g(r,t));)r=r.previousElementSibling;return r||null}function E(e,t){var r=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===Ne.clone||t&&!g(e,t)||r++;return r}function P(e){var t=0,r=0,n=S();if(e)do{var i=x(e),a=i.a,o=i.d;t+=e.scrollLeft*a,r+=e.scrollTop*o}while(e!==n&&(e=e.parentNode));return[t,r]}function D(e,t){if(!e||!e.getBoundingClientRect)return S();var r=e,n=!1;do{if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var i=T(r);if(r.clientWidth<r.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||r.clientHeight<r.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!r.getBoundingClientRect||r===document.body)return S();if(n||t)return r;n=!0}}}while(r=r.parentNode);return S()}function j(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function I(e,t){return function(){if(!y){var r=arguments;1===r.length?e.call(this,r[0]):e.apply(this,r),y=setTimeout((function(){y=void 0}),t)}}}function L(e,t,r){e.scrollLeft+=t,e.scrollTop+=r}function R(e){var t=window.Polymer,r=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):r?r(e).clone(!0)[0]:e.cloneNode(!0)}function N(e,t){T(e,"position","absolute"),T(e,"top",t.top),T(e,"left",t.left),T(e,"width",t.width),T(e,"height",t.height)}function F(e){T(e,"position",""),T(e,"top",""),T(e,"left",""),T(e,"width",""),T(e,"height","")}var q="Sortable"+(new Date).getTime();function U(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==T(e,"display")&&e!==Ne.ghost){t.push({target:e,rect:C(e)});var r=n({},t[t.length-1].rect);if(e.thisAnimationDuration){var i=x(e,!0);i&&(r.top-=i.f,r.left-=i.e)}e.fromRect=r}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var r in e)if(e.hasOwnProperty(r))for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[r][n])return Number(r);return-1}(t,{target:e}),1)},animateAll:function(r){var n=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof r&&r());var i=!1,a=0;t.forEach((function(e){var t=0,r=e.target,o=r.fromRect,s=C(r),l=r.prevFromRect,c=r.prevToRect,u=e.rect,d=x(r,!0);d&&(s.top-=d.f,s.left-=d.e),r.toRect=s,r.thisAnimationDuration&&j(l,s)&&!j(o,s)&&(u.top-s.top)/(u.left-s.left)==(o.top-s.top)/(o.left-s.left)&&(t=function(e,t,r,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-r.top,2)+Math.pow(t.left-r.left,2))*n.animation}(u,l,c,n.options)),j(s,o)||(r.prevFromRect=o,r.prevToRect=s,t||(t=n.options.animation),n.animate(r,u,s,t)),t&&(i=!0,a=Math.max(a,t),clearTimeout(r.animationResetTimer),r.animationResetTimer=setTimeout((function(){r.animationTime=0,r.prevFromRect=null,r.fromRect=null,r.prevToRect=null,r.thisAnimationDuration=null}),t),r.thisAnimationDuration=t)})),clearTimeout(e),i?e=setTimeout((function(){"function"==typeof r&&r()}),a):"function"==typeof r&&r(),t=[]},animate:function(e,t,r,n){if(n){T(e,"transition",""),T(e,"transform","");var i=x(this.el),a=i&&i.a,o=i&&i.d,s=(t.left-r.left)/(a||1),l=(t.top-r.top)/(o||1);e.animatingX=!!s,e.animatingY=!!l,T(e,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),T(e,"transition","transform "+n+"ms"+(this.options.easing?" "+this.options.easing:"")),T(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){T(e,"transition",""),T(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),n)}}}}var z=[],B={initializeByDefault:!0},$={mount:function(e){for(var t in B)B.hasOwnProperty(t)&&!(t in e)&&(e[t]=B[t]);z.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),z.push(e)},pluginEvent:function(e,t,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var a=e+"Global";z.forEach((function(i){t[i.pluginName]&&(t[i.pluginName][a]&&t[i.pluginName][a](n({sortable:t},r)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](n({sortable:t},r)))}))},initializePlugins:function(e,t,n,i){for(var a in z.forEach((function(i){var a=i.pluginName;if(e.options[a]||i.initializeByDefault){var o=new i(e,t,e.options);o.sortable=e,o.options=e.options,e[a]=o,r(n,o.defaults)}})),e.options)if(e.options.hasOwnProperty(a)){var o=this.modifyOption(e,a,e.options[a]);void 0!==o&&(e.options[a]=o)}},getEventProperties:function(e,t){var n={};return z.forEach((function(i){"function"==typeof i.eventProperties&&r(n,i.eventProperties.call(t[i.pluginName],e))})),n},modifyOption:function(e,t,r){var n;return z.forEach((function(i){e[i.pluginName]&&i.optionListeners&&"function"==typeof i.optionListeners[t]&&(n=i.optionListeners[t].call(e[i.pluginName],r))})),n}};function H(e){var t=e.sortable,r=e.rootEl,i=e.name,a=e.targetEl,o=e.cloneEl,c=e.toEl,u=e.fromEl,d=e.oldIndex,p=e.newIndex,f=e.oldDraggableIndex,h=e.newDraggableIndex,_=e.originalEvent,g=e.putSortable,m=e.extraEventProperties;if(t=t||r&&r[q]){var v,y=t.options,b="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||s||l?(v=document.createEvent("Event")).initEvent(i,!0,!0):v=new CustomEvent(i,{bubbles:!0,cancelable:!0}),v.to=c||r,v.from=u||r,v.item=a||r,v.clone=o,v.oldIndex=d,v.newIndex=p,v.oldDraggableIndex=f,v.newDraggableIndex=h,v.originalEvent=_,v.pullMode=g?g.lastPutMode:void 0;var w=n({},m,$.getEventProperties(i,t));for(var T in w)v[T]=w[T];r&&r.dispatchEvent(v),y[b]&&y[b].call(t,v)}}var V=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.evt,o=i(r,["evt"]);$.pluginEvent.bind(Ne)(e,t,n({dragEl:G,parentEl:K,ghostEl:Q,rootEl:X,nextEl:Y,lastDownEl:J,cloneEl:Z,cloneHidden:ee,dragStarted:fe,putSortable:oe,activeSortable:Ne.active,originalEvent:a,oldIndex:te,oldDraggableIndex:ne,newIndex:re,newDraggableIndex:ie,hideGhostForTarget:je,unhideGhostForTarget:Ie,cloneNowHidden:function(){ee=!0},cloneNowShown:function(){ee=!1},dispatchSortableEvent:function(e){W({sortable:t,name:e,originalEvent:a})}},o))};function W(e){H(n({putSortable:oe,cloneEl:Z,targetEl:G,rootEl:X,oldIndex:te,oldDraggableIndex:ne,newIndex:re,newDraggableIndex:ie},e))}var G,K,Q,X,Y,J,Z,ee,te,re,ne,ie,ae,oe,se,le,ce,ue,de,pe,fe,he,_e,ge,me,ve=!1,ye=!1,be=[],we=!1,Te=!1,xe=[],ke=!1,Se=[],Ce="undefined"!=typeof document,Me=d,Ae=l||s?"cssFloat":"float",Oe=Ce&&!p&&!d&&"draggable"in document.createElement("div"),Ee=function(){if(Ce){if(s)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Pe=function(e,t){var r=T(e),n=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),i=A(e,0,t),a=A(e,1,t),o=i&&T(i),s=a&&T(a),l=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+C(i).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+C(a).width;if("flex"===r.display)return"column"===r.flexDirection||"column-reverse"===r.flexDirection?"vertical":"horizontal";if("grid"===r.display)return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&o.float&&"none"!==o.float){var u="left"===o.float?"left":"right";return!a||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return i&&("block"===o.display||"flex"===o.display||"table"===o.display||"grid"===o.display||l>=n&&"none"===r[Ae]||a&&"none"===r[Ae]&&l+c>n)?"vertical":"horizontal"},De=function(t){function r(e,t){return function(n,i,a,o){var s=n.options.group.name&&i.options.group.name&&n.options.group.name===i.options.group.name;if(null==e&&(t||s))return!0;if(null==e||!1===e)return!1;if(t&&"clone"===e)return e;if("function"==typeof e)return r(e(n,i,a,o),t)(n,i,a,o);var l=(t?n:i).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},i=t.group;i&&"object"==e(i)||(i={name:i}),n.name=i.name,n.checkPull=r(i.pull,!0),n.checkPut=r(i.put),n.revertClone=i.revertClone,t.group=n},je=function(){!Ee&&Q&&T(Q,"display","none")},Ie=function(){!Ee&&Q&&T(Q,"display","")};Ce&&document.addEventListener("click",(function(e){if(ye)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),ye=!1,!1}),!0);var Le=function(e){if(G){e=e.touches?e.touches[0]:e;var t=(i=e.clientX,a=e.clientY,be.some((function(e){if(!O(e)){var t=C(e),r=e[q].options.emptyInsertThreshold,n=i>=t.left-r&&i<=t.right+r,s=a>=t.top-r&&a<=t.bottom+r;return r&&n&&s?o=e:void 0}})),o);if(t){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);r.target=r.rootEl=t,r.preventDefault=void 0,r.stopPropagation=void 0,t[q]._onDragOver(r)}}var i,a,o},Re=function(e){G&&G.parentNode[q]._isOutsideThisEl(e.target)};function Ne(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=r({},t),e[q]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Pe(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Ne.supportPointer&&"PointerEvent"in window&&!u,emptyInsertThreshold:5};for(var i in $.initializePlugins(this,e,n),n)!(i in t)&&(t[i]=n[i]);for(var a in De(t),this)"_"===a.charAt(0)&&"function"==typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!t.forceFallback&&Oe,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?h(e,"pointerdown",this._onTapStart):(h(e,"mousedown",this._onTapStart),h(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(h(e,"dragover",this),h(e,"dragenter",this)),be.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),r(this,U())}function Fe(e,t,r,n,i,a,o,c){var u,d,p=e[q],f=p.options.onMove;return!window.CustomEvent||s||l?(u=document.createEvent("Event")).initEvent("move",!0,!0):u=new CustomEvent("move",{bubbles:!0,cancelable:!0}),u.to=t,u.from=e,u.dragged=r,u.draggedRect=n,u.related=i||t,u.relatedRect=a||C(t),u.willInsertAfter=c,u.originalEvent=o,e.dispatchEvent(u),f&&(d=f.call(p,u,o)),d}function qe(e){e.draggable=!1}function Ue(){ke=!1}function ze(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,r=t.length,n=0;r--;)n+=t.charCodeAt(r);return n.toString(36)}function Be(e){return setTimeout(e,0)}function $e(e){return clearTimeout(e)}Ne.prototype={constructor:Ne,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(he=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,G):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,r=this.el,n=this.options,i=n.preventOnFilter,a=e.type,o=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(o||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=n.filter;if(function(e){Se.length=0;var t=e.getElementsByTagName("input"),r=t.length;for(;r--;){var n=t[r];n.checked&&Se.push(n)}}(r),!G&&!(/mousedown|pointerdown/.test(a)&&0!==e.button||n.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!u||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=v(s,n.draggable,r,!1))&&s.animated||J===s)){if(te=E(s),ne=E(s,n.draggable),"function"==typeof c){if(c.call(this,e,s,this))return W({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:r,fromEl:r}),V("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(n){if(n=v(l,n.trim(),r,!1))return W({sortable:t,rootEl:n,name:"filter",targetEl:s,fromEl:r,toEl:r}),V("filter",t,{evt:e}),!0}))))return void(i&&e.cancelable&&e.preventDefault());n.handle&&!v(l,n.handle,r,!1)||this._prepareDragStart(e,o,s)}}},_prepareDragStart:function(e,t,r){var n,i=this,a=i.el,o=i.options,u=a.ownerDocument;if(r&&!G&&r.parentNode===a){var d=C(r);if(X=a,K=(G=r).parentNode,Y=G.nextSibling,J=r,ae=o.group,Ne.dragged=G,se={target:G,clientX:(t||e).clientX,clientY:(t||e).clientY},de=se.clientX-d.left,pe=se.clientY-d.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,G.style["will-change"]="all",n=function(){V("delayEnded",i,{evt:e}),Ne.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!c&&i.nativeDraggable&&(G.draggable=!0),i._triggerDragStart(e,t),W({sortable:i,name:"choose",originalEvent:e}),w(G,o.chosenClass,!0))},o.ignore.split(",").forEach((function(e){k(G,e.trim(),qe)})),h(u,"dragover",Le),h(u,"mousemove",Le),h(u,"touchmove",Le),h(u,"mouseup",i._onDrop),h(u,"touchend",i._onDrop),h(u,"touchcancel",i._onDrop),c&&this.nativeDraggable&&(this.options.touchStartThreshold=4,G.draggable=!0),V("delayStart",this,{evt:e}),!o.delay||o.delayOnTouchOnly&&!t||this.nativeDraggable&&(l||s))n();else{if(Ne.eventCanceled)return void this._onDrop();h(u,"mouseup",i._disableDelayedDrag),h(u,"touchend",i._disableDelayedDrag),h(u,"touchcancel",i._disableDelayedDrag),h(u,"mousemove",i._delayedDragTouchMoveHandler),h(u,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&h(u,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(n,o.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){G&&qe(G),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;_(e,"mouseup",this._disableDelayedDrag),_(e,"touchend",this._disableDelayedDrag),_(e,"touchcancel",this._disableDelayedDrag),_(e,"mousemove",this._delayedDragTouchMoveHandler),_(e,"touchmove",this._delayedDragTouchMoveHandler),_(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?h(document,"pointermove",this._onTouchMove):h(document,t?"touchmove":"mousemove",this._onTouchMove):(h(G,"dragend",this),h(X,"dragstart",this._onDragStart));try{document.selection?Be((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(ve=!1,X&&G){V("dragStarted",this,{evt:t}),this.nativeDraggable&&h(document,"dragover",Re);var r=this.options;!e&&w(G,r.dragClass,!1),w(G,r.ghostClass,!0),Ne.active=this,e&&this._appendGhost(),W({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(le){this._lastX=le.clientX,this._lastY=le.clientY,je();for(var e=document.elementFromPoint(le.clientX,le.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(le.clientX,le.clientY))!==t;)t=e;if(G.parentNode[q]._isOutsideThisEl(e),t)do{if(t[q]){if(t[q]._onDragOver({clientX:le.clientX,clientY:le.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Ie()}},_onTouchMove:function(e){if(se){var t=this.options,r=t.fallbackTolerance,n=t.fallbackOffset,i=e.touches?e.touches[0]:e,a=Q&&x(Q,!0),o=Q&&a&&a.a,s=Q&&a&&a.d,l=Me&&me&&P(me),c=(i.clientX-se.clientX+n.x)/(o||1)+(l?l[0]-xe[0]:0)/(o||1),u=(i.clientY-se.clientY+n.y)/(s||1)+(l?l[1]-xe[1]:0)/(s||1);if(!Ne.active&&!ve){if(r&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(Q){a?(a.e+=c-(ce||0),a.f+=u-(ue||0)):a={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");T(Q,"webkitTransform",d),T(Q,"mozTransform",d),T(Q,"msTransform",d),T(Q,"transform",d),ce=c,ue=u,le=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Q){var e=this.options.fallbackOnBody?document.body:X,t=C(G,!0,Me,!0,e),r=this.options;if(Me){for(me=e;"static"===T(me,"position")&&"none"===T(me,"transform")&&me!==document;)me=me.parentNode;me!==document.body&&me!==document.documentElement?(me===document&&(me=S()),t.top+=me.scrollTop,t.left+=me.scrollLeft):me=S(),xe=P(me)}w(Q=G.cloneNode(!0),r.ghostClass,!1),w(Q,r.fallbackClass,!0),w(Q,r.dragClass,!0),T(Q,"transition",""),T(Q,"transform",""),T(Q,"box-sizing","border-box"),T(Q,"margin",0),T(Q,"top",t.top),T(Q,"left",t.left),T(Q,"width",t.width),T(Q,"height",t.height),T(Q,"opacity","0.8"),T(Q,"position",Me?"absolute":"fixed"),T(Q,"zIndex","100000"),T(Q,"pointerEvents","none"),Ne.ghost=Q,e.appendChild(Q),T(Q,"transform-origin",de/parseInt(Q.style.width)*100+"% "+pe/parseInt(Q.style.height)*100+"%")}},_onDragStart:function(e,t){var r=this,n=e.dataTransfer,i=r.options;V("dragStart",this,{evt:e}),Ne.eventCanceled?this._onDrop():(V("setupClone",this),Ne.eventCanceled||((Z=R(G)).draggable=!1,Z.style["will-change"]="",this._hideClone(),w(Z,this.options.chosenClass,!1),Ne.clone=Z),r.cloneId=Be((function(){V("clone",r),Ne.eventCanceled||(r.options.removeCloneOnHide||X.insertBefore(Z,G),r._hideClone(),W({sortable:r,name:"clone"}))})),!t&&w(G,i.dragClass,!0),t?(ye=!0,r._loopId=setInterval(r._emulateDragOver,50)):(_(document,"mouseup",r._onDrop),_(document,"touchend",r._onDrop),_(document,"touchcancel",r._onDrop),n&&(n.effectAllowed="move",i.setData&&i.setData.call(r,n,G)),h(document,"drop",r),T(G,"transform","translateZ(0)")),ve=!0,r._dragStartId=Be(r._dragStarted.bind(r,t,e)),h(document,"selectstart",r),fe=!0,u&&T(document.body,"user-select","none"))},_onDragOver:function(e){var t,r,i,a,o=this.el,s=e.target,l=this.options,c=l.group,u=Ne.active,d=ae===c,p=l.sort,f=oe||u,h=this,_=!1;if(!ke){if(TvrMT.TvrCom.open_folder_if_dragging_over(e),void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=v(s,l.draggable,o,!0),N("dragOver"),Ne.eventCanceled)return _;if(G.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||h._ignoreWhileAnimating===s)return U(!1);if(ye=!1,u&&!l.disabled&&(d?p||(i=!X.contains(G)):oe===this||(this.lastPutMode=ae.checkPull(this,u,G,e))&&c.checkPut(this,u,G,e))){if(a="vertical"===this._getDirection(e,s),t=C(G),N("dragOverValid"),Ne.eventCanceled)return _;if(i)return K=X,F(),this._hideClone(),N("revert"),Ne.eventCanceled||(Y?X.insertBefore(G,Y):X.appendChild(G)),U(!0);var g=O(o,l.draggable);if(!g||function(e,t,r){var n=C(O(r.el,r.options.draggable)),i=10;return t?e.clientX>n.right+i||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+i}(e,a,this)&&!g.animated){if(g===G)return U(!1);if(g&&o===e.target&&(s=g),s&&(r=C(s)),!1!==Fe(X,o,G,t,s,r,e,!!s))return F(),o.appendChild(G),K=o,z(),U(!0)}else if(s.parentNode===o){r=C(s);var m,y,b,x=G.parentNode!==o,k=!function(e,t,r){var n=r?e.left:e.top,i=r?e.right:e.bottom,a=r?e.width:e.height,o=r?t.left:t.top,s=r?t.right:t.bottom,l=r?t.width:t.height;return n===o||i===s||n+a/2===o+l/2}(G.animated&&G.toRect||t,s.animated&&s.toRect||r,a),S=a?"top":"left",A=M(s,"top","top")||M(G,"top","top"),P=A?A.scrollTop:void 0;if(he!==s&&(y=r[S],we=!1,Te=!k&&l.invertSwap||x),m=function(e,t,r,n,i,a,o,s){var l=n?e.clientY:e.clientX,c=n?r.height:r.width,u=n?r.top:r.left,d=n?r.bottom:r.right,p=!1;if(!o)if(s&&ge<c*i){if(!we&&(1===_e?l>u+c*a/2:l<d-c*a/2)&&(we=!0),we)p=!0;else if(1===_e?l<u+ge:l>d-ge)return-_e}else if(l>u+c*(1-i)/2&&l<d-c*(1-i)/2)return function(e){return E(G)<E(e)?1:-1}(t);if((p=p||o)&&(l<u+c*a/2||l>d-c*a/2))return l>u+c/2?1:-1;return 0}(e,s,r,a,k?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,Te,he===s),0!==m){var D=E(G);do{D-=m,b=K.children[D]}while(b&&("none"===T(b,"display")||b===Q))}if(0===m||b===s)return U(!1);he=s,_e=m;var j=s.nextElementSibling,I=!1,R=Fe(X,o,G,t,s,r,e,I=1===m);if(!1!==R)return 1!==R&&-1!==R||(I=1===R),ke=!0,setTimeout(Ue,30),F(),I&&!j?o.appendChild(G):s.parentNode.insertBefore(G,I?j:s),A&&L(A,0,P-A.scrollTop),K=G.parentNode,void 0===y||Te||(ge=Math.abs(y-C(s)[S])),z(),U(!0)}if(o.contains(G))return U(!1)}return!1}function N(l,c){V(l,h,n({evt:e,isOwner:d,axis:a?"vertical":"horizontal",revert:i,dragRect:t,targetRect:r,canSort:p,fromSortable:f,target:s,completed:U,onMove:function(r,n){return Fe(X,o,G,t,r,C(r),e,n)},changed:z},c))}function F(){N("dragOverAnimationCapture"),h.captureAnimationState(),h!==f&&f.captureAnimationState()}function U(t){return N("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(h),h!==f&&(w(G,oe?oe.options.ghostClass:u.options.ghostClass,!1),w(G,l.ghostClass,!0)),oe!==h&&h!==Ne.active?oe=h:h===Ne.active&&oe&&(oe=null),f===h&&(h._ignoreWhileAnimating=s),h.animateAll((function(){N("dragOverAnimationComplete"),h._ignoreWhileAnimating=null})),h!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(s===G&&!G.animated||s===o&&!s.animated)&&(he=null),l.dragoverBubble||e.rootEl||s===document||(G.parentNode[q]._isOutsideThisEl(e.target),!t&&Le(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),_=!0}function z(){re=E(G),ie=E(G,l.draggable),W({sortable:h,name:"change",toEl:o,newIndex:re,newDraggableIndex:ie,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){_(document,"mousemove",this._onTouchMove),_(document,"touchmove",this._onTouchMove),_(document,"pointermove",this._onTouchMove),_(document,"dragover",Le),_(document,"mousemove",Le),_(document,"touchmove",Le)},_offUpEvents:function(){var e=this.el.ownerDocument;_(e,"mouseup",this._onDrop),_(e,"touchend",this._onDrop),_(e,"pointerup",this._onDrop),_(e,"touchcancel",this._onDrop),_(document,"selectstart",this)},_onDrop:function(e){var t=this.el,r=this.options;re=E(G),ie=E(G,r.draggable),V("drop",this,{evt:e}),K=G&&G.parentNode,re=E(G),ie=E(G,r.draggable),Ne.eventCanceled||(ve=!1,Te=!1,we=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),$e(this.cloneId),$e(this._dragStartId),this.nativeDraggable&&(_(document,"drop",this),_(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),u&&T(document.body,"user-select",""),T(G,"transform",""),e&&(fe&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),Q&&Q.parentNode&&Q.parentNode.removeChild(Q),(X===K||oe&&"clone"!==oe.lastPutMode)&&Z&&Z.parentNode&&Z.parentNode.removeChild(Z),G&&(this.nativeDraggable&&_(G,"dragend",this),qe(G),G.style["will-change"]="",fe&&!ve&&w(G,oe?oe.options.ghostClass:this.options.ghostClass,!1),w(G,this.options.chosenClass,!1),W({sortable:this,name:"unchoose",toEl:K,newIndex:null,newDraggableIndex:null,originalEvent:e}),X!==K?(re>=0&&(W({rootEl:K,name:"add",toEl:K,fromEl:X,originalEvent:e}),W({sortable:this,name:"remove",toEl:K,originalEvent:e}),W({rootEl:K,name:"sort",toEl:K,fromEl:X,originalEvent:e}),W({sortable:this,name:"sort",toEl:K,originalEvent:e})),oe&&oe.save()):re!==te&&re>=0&&(W({sortable:this,name:"update",toEl:K,originalEvent:e}),W({sortable:this,name:"sort",toEl:K,originalEvent:e})),Ne.active&&(null!=re&&-1!==re||(re=te,ie=ne),W({sortable:this,name:"end",toEl:K,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){V("nulling",this),X=G=K=Q=Y=Z=J=ee=se=le=fe=re=ie=te=ne=he=_e=oe=ae=Ne.dragged=Ne.ghost=Ne.clone=Ne.active=null,Se.forEach((function(e){e.checked=!0})),Se.length=ce=ue=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":G&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],r=this.el.children,n=0,i=r.length,a=this.options;n<i;n++)v(e=r[n],a.draggable,this.el,!1)&&t.push(e.getAttribute(a.dataIdAttr)||ze(e));return t},sort:function(e,t){var r={},n=this.el;this.toArray().forEach((function(e,t){var i=n.children[t];v(i,this.options.draggable,n,!1)&&(r[e]=i)}),this),t&&this.captureAnimationState(),e.forEach((function(e){r[e]&&(n.removeChild(r[e]),n.appendChild(r[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return v(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var r=this.options;if(void 0===t)return r[e];var n=$.modifyOption(this,e,t);r[e]=void 0!==n?n:t,"group"===e&&De(r)},destroy:function(){V("destroy",this);var e=this.el;e[q]=null,_(e,"mousedown",this._onTapStart),_(e,"touchstart",this._onTapStart),_(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(_(e,"dragover",this),_(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),be.splice(be.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ee){if(V("hideClone",this),Ne.eventCanceled)return;T(Z,"display","none"),this.options.removeCloneOnHide&&Z.parentNode&&Z.parentNode.removeChild(Z),ee=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ee){if(V("showClone",this),Ne.eventCanceled)return;G.parentNode!=X||this.options.group.revertClone?Y?X.insertBefore(Z,Y):X.appendChild(Z):X.insertBefore(Z,G),this.options.group.revertClone&&this.animate(G,Z),T(Z,"display",""),ee=!1}}else this._hideClone()}},Ce&&h(document,"touchmove",(function(e){(Ne.active||ve)&&e.cancelable&&e.preventDefault()})),Ne.utils={on:h,off:_,css:T,find:k,is:function(e,t){return!!v(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},throttle:I,closest:v,toggleClass:w,clone:R,index:E,nextTick:Be,cancelNextTick:$e,detectDirection:Pe,getChild:A},Ne.get=function(e){return e[q]},Ne.mount=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Ne.utils=n({},Ne.utils,e.utils)),$.mount(e)}))},Ne.create=function(e,t){return new Ne(e,t)},Ne.version="1.13.0";var He,Ve,We,Ge,Ke,Qe,Xe=[],Ye=!1;function Je(){Xe.forEach((function(e){clearInterval(e.pid)})),Xe=[]}function Ze(){clearInterval(Qe)}var et,tt=I((function(e,t,r,n){if(t.scroll){var i,a=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=S(),u=!1;Ve!==r&&(Ve=r,Je(),He=t.scroll,i=t.scrollFn,!0===He&&(He=D(r,!0)));var d=0,p=He;do{var f=p,h=C(f),_=h.top,g=h.bottom,m=h.left,v=h.right,y=h.width,b=h.height,w=void 0,x=void 0,k=f.scrollWidth,M=f.scrollHeight,A=T(f),O=f.scrollLeft,E=f.scrollTop;f===c?(w=y<k&&("auto"===A.overflowX||"scroll"===A.overflowX||"visible"===A.overflowX),x=b<M&&("auto"===A.overflowY||"scroll"===A.overflowY||"visible"===A.overflowY)):(w=y<k&&("auto"===A.overflowX||"scroll"===A.overflowX),x=b<M&&("auto"===A.overflowY||"scroll"===A.overflowY));var P=w&&(Math.abs(v-a)<=s&&O+y<k)-(Math.abs(m-a)<=s&&!!O),j=x&&(Math.abs(g-o)<=s&&E+b<M)-(Math.abs(_-o)<=s&&!!E);if(!Xe[d])for(var I=0;I<=d;I++)Xe[I]||(Xe[I]={});Xe[d].vx==P&&Xe[d].vy==j&&Xe[d].el===f||(Xe[d].el=f,Xe[d].vx=P,Xe[d].vy=j,clearInterval(Xe[d].pid),0==P&&0==j||(u=!0,Xe[d].pid=setInterval(function(){n&&0===this.layer&&Ne.active._onTouchMove(Ke);var t=Xe[this.layer].vy?Xe[this.layer].vy*l:0,r=Xe[this.layer].vx?Xe[this.layer].vx*l:0;"function"==typeof i&&"continue"!==i.call(Ne.dragged.parentNode[q],r,t,e,Ke,Xe[this.layer].el)||L(Xe[this.layer].el,r,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&p!==c&&(p=D(p,!1)));Ye=u}}),30),rt=function(e){var t=e.originalEvent,r=e.putSortable,n=e.dragEl,i=e.activeSortable,a=e.dispatchSortableEvent,o=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=r||i;o();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(a("spill"),this.onSpill({dragEl:n,putSortable:r}))}};function nt(){}function it(){}nt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var n=A(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(t,n):this.sortable.el.appendChild(t),this.sortable.animateAll(),r&&r.animateAll()},drop:rt},r(nt,{pluginName:"revertOnSpill"}),it.prototype={onSpill:function(e){var t=e.dragEl,r=e.putSortable||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:rt},r(it,{pluginName:"removeOnSpill"});var at,ot,st,lt,ct,ut=[],dt=[],pt=!1,ft=!1,ht=!1;function _t(e,t){dt.forEach((function(r,n){var i=t.children[r.sortableIndex+(e?Number(n):0)];i?t.insertBefore(r,i):t.appendChild(r)}))}function gt(){ut.forEach((function(e){e!==st&&e.parentNode&&e.parentNode.removeChild(e)}))}return Ne.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?h(document,"dragover",this._handleAutoScroll):this.options.supportPointer?h(document,"pointermove",this._handleFallbackAutoScroll):t.touches?h(document,"touchmove",this._handleFallbackAutoScroll):h(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?_(document,"dragover",this._handleAutoScroll):(_(document,"pointermove",this._handleFallbackAutoScroll),_(document,"touchmove",this._handleFallbackAutoScroll),_(document,"mousemove",this._handleFallbackAutoScroll)),Ze(),Je(),clearTimeout(y),y=void 0},nulling:function(){Ke=Ve=He=Ye=Qe=We=Ge=null,Xe.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var r=this,n=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(n,i);if(Ke=e,t||l||s||u){tt(e,this.options,a,t);var o=D(a,!0);!Ye||Qe&&n===We&&i===Ge||(Qe&&Ze(),Qe=setInterval((function(){var a=D(document.elementFromPoint(n,i),!0);a!==o&&(o=a,Je()),tt(e,r.options,a,t)}),10),We=n,Ge=i)}else{if(!this.options.bubbleScroll||D(a,!0)===S())return void Je();tt(e,this.options,D(a,!1),!1)}}},r(e,{pluginName:"scroll",initializeByDefault:!0})}),Ne.mount(it,nt),Ne.mount(new function(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(e){var t=e.dragEl;et=t},dragOverValid:function(e){var t=e.completed,r=e.target,n=e.onMove,i=e.activeSortable,a=e.changed,o=e.cancel;if(i.options.swap){var s=this.sortable.el,l=this.options;if(r&&r!==s){var c=et;!1!==n(r)?(w(r,l.swapClass,!0),et=r):et=null,c&&c!==et&&w(c,l.swapClass,!1)}a(),t(!0),o()}},drop:function(e){var t=e.activeSortable,r=e.putSortable,n=e.dragEl,i=r||this.sortable,a=this.options;et&&w(et,a.swapClass,!1),et&&(a.swap||r&&r.options.swap)&&n!==et&&(i.captureAnimationState(),i!==t&&t.captureAnimationState(),function(e,t){var r,n,i=e.parentNode,a=t.parentNode;if(!i||!a||i.isEqualNode(t)||a.isEqualNode(e))return;r=E(e),n=E(t),i.isEqualNode(a)&&r<n&&n++;i.insertBefore(t,i.children[r]),a.insertBefore(e,a.children[n])}(n,et),i.animateAll(),i!==t&&t.animateAll())},nulling:function(){et=null}},r(e,{pluginName:"swap",eventProperties:function(){return{swapItem:et}}})}),Ne.mount(new function(){function e(e){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));e.options.supportPointer?h(document,"pointerup",this._deselectMultiDrag):(h(document,"mouseup",this._deselectMultiDrag),h(document,"touchend",this._deselectMultiDrag)),h(document,"keydown",this._checkKeyDown),h(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,r){var n="";ut.length&&ot===e?ut.forEach((function(e,t){n+=(t?", ":"")+e.textContent})):n=r.textContent,t.setData("Text",n)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(e){var t=e.dragEl;st=t},delayEnded:function(){this.isMultiDrag=~ut.indexOf(st)},setupClone:function(e){var t=e.sortable,r=e.cancel;if(this.isMultiDrag){for(var n=0;n<ut.length;n++)dt.push(R(ut[n])),dt[n].sortableIndex=ut[n].sortableIndex,dt[n].draggable=!1,dt[n].style["will-change"]="",w(dt[n],this.options.selectedClass,!1),ut[n]===st&&w(dt[n],this.options.chosenClass,!1);t._hideClone(),r()}},clone:function(e){var t=e.sortable,r=e.rootEl,n=e.dispatchSortableEvent,i=e.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||ut.length&&ot===t&&(_t(!0,r),n("clone"),i()))},showClone:function(e){var t=e.cloneNowShown,r=e.rootEl,n=e.cancel;this.isMultiDrag&&(_t(!1,r),dt.forEach((function(e){T(e,"display","")})),t(),ct=!1,n())},hideClone:function(e){var t=this,r=(e.sortable,e.cloneNowHidden),n=e.cancel;this.isMultiDrag&&(dt.forEach((function(e){T(e,"display","none"),t.options.removeCloneOnHide&&e.parentNode&&e.parentNode.removeChild(e)})),r(),ct=!0,n())},dragStartGlobal:function(e){e.sortable;!this.isMultiDrag&&ot&&ot.multiDrag._deselectMultiDrag(),ut.forEach((function(e){e.sortableIndex=E(e)})),ut=ut.sort((function(e,t){return e.sortableIndex-t.sortableIndex})),ht=!0},dragStarted:function(e){var t=this,r=e.sortable;if(this.isMultiDrag){if(this.options.sort&&(r.captureAnimationState(),this.options.animation)){ut.forEach((function(e){e!==st&&T(e,"position","absolute")}));var n=C(st,!1,!0,!0);ut.forEach((function(e){e!==st&&N(e,n)})),ft=!0,pt=!0}r.animateAll((function(){ft=!1,pt=!1,t.options.animation&&ut.forEach((function(e){F(e)})),t.options.sort&&gt()}))}},dragOver:function(e){var t=e.target,r=e.completed,n=e.cancel;ft&&~ut.indexOf(t)&&(r(!1),n())},revert:function(e){var t=e.fromSortable,r=e.rootEl,n=e.sortable,i=e.dragRect;ut.length>1&&(ut.forEach((function(e){n.addAnimationState({target:e,rect:ft?C(e):i}),F(e),e.fromRect=i,t.removeAnimationState(e)})),ft=!1,function(e,t){ut.forEach((function(r,n){var i=t.children[r.sortableIndex+(e?Number(n):0)];i?t.insertBefore(r,i):t.appendChild(r)}))}(!this.options.removeCloneOnHide,r))},dragOverCompleted:function(e){var t=e.sortable,r=e.isOwner,n=e.insertion,i=e.activeSortable,a=e.parentEl,o=e.putSortable,s=this.options;if(n){if(r&&i._hideClone(),pt=!1,s.animation&&ut.length>1&&(ft||!r&&!i.options.sort&&!o)){var l=C(st,!1,!0,!0);ut.forEach((function(e){e!==st&&(N(e,l),a.appendChild(e))})),ft=!0}if(!r)if(ft||gt(),ut.length>1){var c=ct;i._showClone(t),i.options.animation&&!ct&&c&&dt.forEach((function(e){i.addAnimationState({target:e,rect:lt}),e.fromRect=lt,e.thisAnimationDuration=null}))}else i._showClone(t)}},dragOverAnimationCapture:function(e){var t=e.dragRect,n=e.isOwner,i=e.activeSortable;if(ut.forEach((function(e){e.thisAnimationDuration=null})),i.options.animation&&!n&&i.multiDrag.isMultiDrag){lt=r({},t);var a=x(st,!0);lt.top-=a.f,lt.left-=a.e}},dragOverAnimationComplete:function(){ft&&(ft=!1,gt())},drop:function(e){var t=e.originalEvent,r=e.rootEl,n=e.parentEl,i=e.sortable,a=e.dispatchSortableEvent,o=e.oldIndex,s=e.putSortable,l=s||this.sortable;if(t){var c=this.options,u=n.children;if(!ht)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),w(st,c.selectedClass,!~ut.indexOf(st)),~ut.indexOf(st))ut.splice(ut.indexOf(st),1),at=null,H({sortable:i,rootEl:r,name:"deselect",targetEl:st,originalEvt:t});else{if(ut.push(st),H({sortable:i,rootEl:r,name:"select",targetEl:st,originalEvt:t}),t.shiftKey&&at&&i.el.contains(at)){var d,p,f=E(at),h=E(st);if(~f&&~h&&f!==h)for(h>f?(p=f,d=h):(p=h,d=f+1);p<d;p++)~ut.indexOf(u[p])||(w(u[p],c.selectedClass,!0),ut.push(u[p]),H({sortable:i,rootEl:r,name:"select",targetEl:u[p],originalEvt:t}))}else at=st;ot=l}if(ht&&this.isMultiDrag){if((n[q].options.sort||n!==r)&&ut.length>1){var _=C(st),g=E(st,":not(."+this.options.selectedClass+")");if(!pt&&c.animation&&(st.thisAnimationDuration=null),l.captureAnimationState(),!pt&&(c.animation&&(st.fromRect=_,ut.forEach((function(e){if(e.thisAnimationDuration=null,e!==st){var t=ft?C(e):_;e.fromRect=t,l.addAnimationState({target:e,rect:t})}}))),gt(),ut.forEach((function(e){u[g]?n.insertBefore(e,u[g]):n.appendChild(e),g++})),o===E(st))){var m=!1;ut.forEach((function(e){e.sortableIndex===E(e)||(m=!0)})),m&&a("update")}ut.forEach((function(e){F(e)})),l.animateAll()}ot=l}(r===n||s&&"clone"!==s.lastPutMode)&&dt.forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}},nullingGlobal:function(){this.isMultiDrag=ht=!1,dt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),_(document,"pointerup",this._deselectMultiDrag),_(document,"mouseup",this._deselectMultiDrag),_(document,"touchend",this._deselectMultiDrag),_(document,"keydown",this._checkKeyDown),_(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(e){if(!(void 0!==ht&&ht||ot!==this.sortable||e&&v(e.target,this.options.draggable,this.sortable.el,!1)||e&&0!==e.button))for(;ut.length;){var t=ut[0];w(t,this.options.selectedClass,!1),ut.shift(),H({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:t,originalEvt:e})}},_checkKeyDown:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(e){e.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},r(e,{pluginName:"multiDrag",utils:{select:function(e){var t=e.parentNode[q];t&&t.options.multiDrag&&!~ut.indexOf(e)&&(ot&&ot!==t&&(ot.multiDrag._deselectMultiDrag(),ot=t),w(e,t.options.selectedClass,!0),ut.push(e))},deselect:function(e){var t=e.parentNode[q],r=ut.indexOf(e);t&&t.options.multiDrag&&~r&&(w(e,t.options.selectedClass,!1),ut.splice(r,1))}},eventProperties:function(){var e=this,t=[],r=[];return ut.forEach((function(n){var i;t.push({multiDragElement:n,index:n.sortableIndex}),i=ft&&n!==st?-1:ft?E(n,":not(."+e.options.selectedClass+")"):E(n),r.push({multiDragElement:n,index:i})})),{items:a(ut),clones:[].concat(dt),oldIndicies:t,newIndicies:r}},optionListeners:{multiDragKey:function(e){return"ctrl"===(e=e.toLowerCase())?e="Control":e.length>1&&(e=e.charAt(0).toUpperCase()+e.substr(1)),e}}})}),Ne})),function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[o]={exports:{}};t[o][0].call(u.exports,(function(e){var r=t[o][1][e];return i(r||e)}),u,u.exports,e,t,r,n)}return r[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){(function(r,n){
/** vim: et:ts=4:sw=4:sts=4
 * @license amdefine 1.0.0 Copyright (c) 2011-2015, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/amdefine for details
 */
"use strict";t.exports=function(t,i){var a,o,s={},l={},c=!1,u=e("path");function d(e,t){var r;return e&&"."===e.charAt(0)&&t&&(function(e){var t,r;for(t=0;e[t];t+=1)if("."===(r=e[t]))e.splice(t,1),t-=1;else if(".."===r){if(1===t&&(".."===e[2]||".."===e[0]))break;t>0&&(e.splice(t-1,2),t-=2)}}(r=(r=(r=t.split("/")).slice(0,r.length-1)).concat(e.split("/"))),e=r.join("/")),e}function p(e,r,o){var s,u,d,p;if(e)u=l[e]={},s=a(i,u,d={id:e,uri:n,exports:u},e);else{if(c)throw new Error("amdefine with no module ID cannot be called more than once per file.");c=!0,u=t.exports,s=a(i,u,d=t,t.id)}r&&(r=r.map((function(e){return s(e)}))),void 0!==(p="function"==typeof o?o.apply(d.exports,r):o)&&(d.exports=p,e&&(l[e]=d.exports))}function f(e,t,r){Array.isArray(e)?(r=t,t=e,e=void 0):"string"!=typeof e&&(r=e,e=t=void 0),t&&!Array.isArray(t)&&(r=t,t=void 0),t||(t=["require","exports","module"]),e?s[e]=[e,t,r]:p(e,t,r)}return a=function(e,t,n,i){function a(a,s){if("string"==typeof a)return o(e,t,n,a,i);a=a.map((function(r){return o(e,t,n,r,i)})),s&&r.nextTick((function(){s.apply(null,a)}))}return a.toUrl=function(e){return 0===e.indexOf(".")?d(e,u.dirname(n.filename)):e},a},i=i||function(){return t.require.apply(t,arguments)},o=function(e,t,r,n,i){var c,u,f,h=n.indexOf("!"),_=n;if(-1===h){if("require"===(n=d(n,i)))return a(e,t,r,i);if("exports"===n)return t;if("module"===n)return r;if(l.hasOwnProperty(n))return l[n];if(s[n])return p.apply(null,s[n]),l[n];if(e)return e(_);throw new Error("No module with ID: "+n)}return c=n.substring(0,h),n=n.substring(h+1,n.length),n=(u=o(e,t,r,c,i)).normalize?u.normalize(n,(f=i,function(e){return d(e,f)})):d(n,i),l[n]||u.load(n,a(e,t,r,i),function(e){function t(t){l[e]=t}return t.fromText=function(e,t){throw new Error("amdefine does not implement load.fromText")},t}(n),{}),l[n]},f.require=function(e){return l[e]?l[e]:s[e]?(p.apply(null,s[e]),l[e]):void 0},f.amd={},f}}).call(this,e("_process"),"/node_modules\\amdefine\\amdefine.js")},{_process:22,path:21}],2:[function(e,t,r){},{}],3:[function(e,t,r){r.parse=e("./lib/parse"),r.stringify=e("./lib/stringify"),window.TvrParser=r},{"./lib/parse":4,"./lib/stringify":8}],4:[function(e,t,r){var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g;function i(e){return e?e.replace(/^\s+|\s+$/g,""):""}function a(e,t){var r=e&&"string"==typeof e.type,n=r?e:t;for(var i in e){var o=e[i];Array.isArray(o)?o.forEach((function(e){a(e,n)})):o&&"object"==typeof o&&a(o,n)}return r&&Object.defineProperty(e,"parent",{configurable:!0,writable:!0,enumerable:!1,value:t||null}),e}t.exports=function(e,t){t=t||{};var r=1,o=1;function s(e){var t=e.match(/\n/g);t&&(r+=t.length);var n=e.lastIndexOf("\n");o=~n?e.length-n:o+e.length}function l(){var e={line:r,column:o};return function(t){return t.position=new c(e),g(),t}}function c(e){this.start=e,this.end={line:r,column:o},this.source=t.source}c.prototype.content=e;var u=[];function d(n){var i=new Error(t.source+":"+r+":"+o+": "+n);if(i.reason=n,i.filename=t.source,i.line=r,i.column=o,i.source=e,!t.silent)throw i;u.push(i)}function p(){return _(/^{\s*/)}function f(){return _(/^}/)}function h(){var t,r=[];for(g(),m(r);e.length&&"}"!=e.charAt(0)&&(t=M()||A());)!1!==t&&(r.push(t),m(r));return r}function _(t){var r=t.exec(e);if(r){var n=r[0];return s(n),e=e.slice(n.length),r}}function g(){_(/^\s*/)}function m(e){var t;for(e=e||[];t=v();)!1!==t&&e.push(t);return e}function v(){var t=l();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var r=2;""!=e.charAt(r)&&("*"!=e.charAt(r)||"/"!=e.charAt(r+1));)++r;if(r+=2,""===e.charAt(r-1))return d("End of comment missing");var n=e.slice(2,r-2);return o+=2,s(n),e=e.slice(r),o+=2,t({type:"comment",comment:n})}}function y(){var e=_(/^([^{]+)/);if(e)return i(e[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,(function(e){return e.replace(/,/g,"‌")})).split(/\s*(?![^(]*\)),\s*/).map((function(e){return e.replace(/\u200C/g,",")}))}function b(){var e=l(),t=_(/^(\*?[-$#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(t){if(t=i(t[0]),!_(/^:\s*/))return d("property missing ':'");var r=_(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),a=e({type:"declaration",property:t.replace(n,""),value:r?i(r[0]).replace(n,""):""});return _(/^[;\s]*/),a}}function w(){var e,t=[];if(!p())return d("missing '{'");for(m(t);e=b();)!1!==e&&(t.push(e),m(t));return f()?t:d("missing '}'")}function T(){for(var e,t=[],r=l();e=_(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)t.push(e[1]),_(/^,\s*/);if(t.length)return r({type:"keyframe",values:t,declarations:w()})}var x=C("import"),k=C("charset"),S=C("namespace");function C(e){var t=new RegExp("^@"+e+"\\s*([^;]+);");return function(){var r=l(),n=_(t);if(n){var i={type:e};return i[e]=n[1].trim(),r(i)}}}function M(){if("@"==e[0])return function(){var e=l();if(t=_(/^@([-\w]+)?keyframes\s*/)){var t,r=t[1];if(!(t=_(/^([-\w]+)\s*/)))return d("@keyframes missing name");var n,i=t[1];if(!p())return d("@keyframes missing '{'");for(var a=m();n=T();)a.push(n),a=a.concat(m());return f()?e({type:"keyframes",name:i,vendor:r,keyframes:a}):d("@keyframes missing '}'")}}()||function(){var e=l(),t=_(/^@media *([^{]+)/);if(t){var r=i(t[1]);if(!p())return d("@media missing '{'");var n=m().concat(h());return f()?e({type:"media",media:r,rules:n}):d("@media missing '}'")}}()||function(){var e=l(),t=_(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(t)return e({type:"custom-media",name:i(t[1]),media:i(t[2])})}()||function(){var e=l(),t=_(/^@supports *([^{]+)/);if(t){var r=i(t[1]);if(!p())return d("@supports missing '{'");var n=m().concat(h());return f()?e({type:"supports",supports:r,rules:n}):d("@supports missing '}'")}}()||x()||k()||S()||function(){var e=l(),t=_(/^@([-\w]+)?document *([^{]+)/);if(t){var r=i(t[1]),n=i(t[2]);if(!p())return d("@document missing '{'");var a=m().concat(h());return f()?e({type:"document",document:n,vendor:r,rules:a}):d("@document missing '}'")}}()||function(){var e=l();if(_(/^@page */)){var t=y()||[];if(!p())return d("@page missing '{'");for(var r,n=m();r=b();)n.push(r),n=n.concat(m());return f()?e({type:"page",selectors:t,declarations:n}):d("@page missing '}'")}}()||function(){var e=l();if(_(/^@host\s*/)){if(!p())return d("@host missing '{'");var t=m().concat(h());return f()?e({type:"host",rules:t}):d("@host missing '}'")}}()||function(){var e=l();if(_(/^@font-face\s*/)){if(!p())return d("@font-face missing '{'");for(var t,r=m();t=b();)r.push(t),r=r.concat(m());return f()?e({type:"font-face",declarations:r}):d("@font-face missing '}'")}}()}function A(){var e=l(),t=y();return t?(m(),e({type:"rule",selectors:t,declarations:w()})):d("selector missing")}return a({type:"stylesheet",stylesheet:{rules:h(),parsingErrors:u}})}},{}],5:[function(e,t,r){function n(e){this.options=e||{}}t.exports=n,n.prototype.emit=function(e){return e},n.prototype.visit=function(e){return this[e.type](e)},n.prototype.mapVisit=function(e,t){var r="";t=t||"";for(var n=0,i=e.length;n<i;n++)r+=this.visit(e[n]),t&&n<i-1&&(r+=this.emit(t));return r}},{}],6:[function(e,t,r){var n=e("./compiler"),i=e("inherits");function a(e){n.call(this,e)}t.exports=a,i(a,n),a.prototype.compile=function(e){return e.stylesheet.rules.map(this.visit,this).join("")},a.prototype.comment=function(e){return this.emit("",e.position)},a.prototype.import=function(e){return this.emit("@import "+e.import+";",e.position)},a.prototype.media=function(e){return this.emit("@media "+e.media,e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}")},a.prototype.document=function(e){var t="@"+(e.vendor||"")+"document "+e.document;return this.emit(t,e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}")},a.prototype.charset=function(e){return this.emit("@charset "+e.charset+";",e.position)},a.prototype.namespace=function(e){return this.emit("@namespace "+e.namespace+";",e.position)},a.prototype.supports=function(e){return this.emit("@supports "+e.supports,e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}")},a.prototype.keyframes=function(e){return this.emit("@"+(e.vendor||"")+"keyframes "+e.name,e.position)+this.emit("{")+this.mapVisit(e.keyframes)+this.emit("}")},a.prototype.keyframe=function(e){var t=e.declarations;return this.emit(e.values.join(","),e.position)+this.emit("{")+this.mapVisit(t)+this.emit("}")},a.prototype.page=function(e){var t=e.selectors.length?e.selectors.join(", "):"";return this.emit("@page "+t,e.position)+this.emit("{")+this.mapVisit(e.declarations)+this.emit("}")},a.prototype["font-face"]=function(e){return this.emit("@font-face",e.position)+this.emit("{")+this.mapVisit(e.declarations)+this.emit("}")},a.prototype.host=function(e){return this.emit("@host",e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}")},a.prototype["custom-media"]=function(e){return this.emit("@custom-media "+e.name+" "+e.media+";",e.position)},a.prototype.rule=function(e){var t=e.declarations;return t.length?this.emit(e.selectors.join(","),e.position)+this.emit("{")+this.mapVisit(t)+this.emit("}"):""},a.prototype.declaration=function(e){return this.emit(e.property+":"+e.value,e.position)+this.emit(";")}},{"./compiler":5,inherits:20}],7:[function(e,t,r){var n=e("./compiler"),i=e("inherits");function a(e){e=e||{},n.call(this,e),this.indentation=e.indent}t.exports=a,i(a,n),a.prototype.compile=function(e){return this.stylesheet(e)},a.prototype.stylesheet=function(e){return this.mapVisit(e.stylesheet.rules,"\n\n")},a.prototype.comment=function(e){return this.emit(this.indent()+"/*"+e.comment+"*/",e.position)},a.prototype.import=function(e){return this.emit("@import "+e.import+";",e.position)},a.prototype.media=function(e){return this.emit("@media "+e.media,e.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(e.rules,"\n\n")+this.emit(this.indent(-1)+"\n}")},a.prototype.document=function(e){var t="@"+(e.vendor||"")+"document "+e.document;return this.emit(t,e.position)+this.emit("  {\n"+this.indent(1))+this.mapVisit(e.rules,"\n\n")+this.emit(this.indent(-1)+"\n}")},a.prototype.charset=function(e){return this.emit("@charset "+e.charset+";",e.position)},a.prototype.namespace=function(e){return this.emit("@namespace "+e.namespace+";",e.position)},a.prototype.supports=function(e){return this.emit("@supports "+e.supports,e.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(e.rules,"\n\n")+this.emit(this.indent(-1)+"\n}")},a.prototype.keyframes=function(e){return this.emit("@"+(e.vendor||"")+"keyframes "+e.name,e.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(e.keyframes,"\n")+this.emit(this.indent(-1)+"}")},a.prototype.keyframe=function(e){var t=e.declarations;return this.emit(this.indent())+this.emit(e.values.join(", "),e.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(t,"\n")+this.emit(this.indent(-1)+"\n"+this.indent()+"}\n")},a.prototype.page=function(e){var t=e.selectors.length?e.selectors.join(", ")+" ":"";return this.emit("@page "+t,e.position)+this.emit("{\n")+this.emit(this.indent(1))+this.mapVisit(e.declarations,"\n")+this.emit(this.indent(-1))+this.emit("\n}")},a.prototype["font-face"]=function(e){return this.emit("@font-face ",e.position)+this.emit("{\n")+this.emit(this.indent(1))+this.mapVisit(e.declarations,"\n")+this.emit(this.indent(-1))+this.emit("\n}")},a.prototype.host=function(e){return this.emit("@host",e.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(e.rules,"\n\n")+this.emit(this.indent(-1)+"\n}")},a.prototype["custom-media"]=function(e){return this.emit("@custom-media "+e.name+" "+e.media+";",e.position)},a.prototype.rule=function(e){var t=this.indent(),r=e.declarations;return r&&r.length?this.emit(e.selectors.map((function(e){return t+e})).join(",\n"),e.position)+this.emit(" {\n")+this.emit(this.indent(1))+this.mapVisit(r,"\n")+this.emit(this.indent(-1))+this.emit("\n"+this.indent()+"}"):""},a.prototype.declaration=function(e){return this.emit(this.indent())+this.emit(e.property+": "+e.value,e.position)+this.emit(";")},a.prototype.indent=function(e){return this.level=this.level||1,null!=e?(this.level+=e,""):Array(this.level).join(this.indentation||"  ")}},{"./compiler":5,inherits:20}],8:[function(e,t,r){var n=e("./compress"),i=e("./identity");t.exports=function(t,r){var a=(r=r||{}).compress?new n(r):new i(r);if(r.sourcemap){e("./source-map-support")(a);var o=a.compile(t);return a.applySourceMaps(),{code:o,map:"generator"===r.sourcemap?a.map:a.map.toJSON()}}return o=a.compile(t)}},{"./compress":6,"./identity":7,"./source-map-support":9}],9:[function(e,t,r){var n=e("source-map").SourceMapGenerator,i=e("source-map").SourceMapConsumer,a=e("source-map-resolve"),o=e("urix"),s=e("fs"),l=e("path");t.exports=function(e){for(var t in e._comment=e.comment,e.map=new n,e.position={line:1,column:1},e.files={},r)e[t]=r[t]},r.updatePosition=function(e){var t=e.match(/\n/g);t&&(this.position.line+=t.length);var r=e.lastIndexOf("\n");this.position.column=~r?e.length-r:this.position.column+e.length},r.emit=function(e,t){if(t){var r=o(t.source||"source.css");this.map.addMapping({source:r,generated:{line:this.position.line,column:Math.max(this.position.column-1,0)},original:{line:t.start.line,column:t.start.column-1}}),this.addFile(r,t)}return this.updatePosition(e),e},r.addFile=function(e,t){"string"==typeof t.content&&(Object.prototype.hasOwnProperty.call(this.files,e)||(this.files[e]=t.content))},r.applySourceMaps=function(){Object.keys(this.files).forEach((function(e){var t=this.files[e];if(this.map.setSourceContent(e,t),!1!==this.options.inputSourcemaps){var r=a.resolveSync(t,e,s.readFileSync);if(r){var n=new i(r.map),c=r.sourcesRelativeTo;this.map.applySourceMap(n,e,o(l.dirname(c)))}}}),this)},r.comment=function(e){return/^# sourceMappingURL=/.test(e.comment)?this.emit("",e.position):this._comment(e)}},{fs:2,path:21,"source-map":10,"source-map-resolve":24,urix:26}],10:[function(e,t,r){r.SourceMapGenerator=e("./source-map/source-map-generator").SourceMapGenerator,r.SourceMapConsumer=e("./source-map/source-map-consumer").SourceMapConsumer,r.SourceNode=e("./source-map/source-node").SourceNode},{"./source-map/source-map-consumer":16,"./source-map/source-map-generator":17,"./source-map/source-node":18}],11:[function(e,t,r){if("function"!=typeof n)var n=e("amdefine")(t,e);n((function(e,t,r){var n=e("./util");function i(){this._array=[],this._set={}}i.fromArray=function(e,t){for(var r=new i,n=0,a=e.length;n<a;n++)r.add(e[n],t);return r},i.prototype.add=function(e,t){var r=this.has(e),i=this._array.length;r&&!t||this._array.push(e),r||(this._set[n.toSetString(e)]=i)},i.prototype.has=function(e){return Object.prototype.hasOwnProperty.call(this._set,n.toSetString(e))},i.prototype.indexOf=function(e){if(this.has(e))return this._set[n.toSetString(e)];throw new Error('"'+e+'" is not in the set.')},i.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},i.prototype.toArray=function(){return this._array.slice()},t.ArraySet=i}))},{"./util":19,amdefine:1}],12:[function(e,t,r){if("function"!=typeof n)var n=e("amdefine")(t,e);n((function(e,t,r){var n=e("./base64");t.encode=function(e){var t,r="",i=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&i,(i>>>=5)>0&&(t|=32),r+=n.encode(t)}while(i>0);return r},t.decode=function(e,t){var r,i,a,o,s=0,l=e.length,c=0,u=0;do{if(s>=l)throw new Error("Expected more digits in base 64 VLQ value.");r=!!(32&(i=n.decode(e.charAt(s++)))),c+=(i&=31)<<u,u+=5}while(r);t.value=(o=(a=c)>>1,1&~a?o:-o),t.rest=e.slice(s)}}))},{"./base64":13,amdefine:1}],13:[function(e,t,r){if("function"!=typeof n)var n=e("amdefine")(t,e);n((function(e,t,r){var n={},i={};"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("").forEach((function(e,t){n[e]=t,i[t]=e})),t.encode=function(e){if(e in i)return i[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){if(e in n)return n[e];throw new TypeError("Not a valid base 64 digit: "+e)}}))},{amdefine:1}],14:[function(e,t,r){if("function"!=typeof n)var n=e("amdefine")(t,e);n((function(e,t,r){function n(e,t,r,i,a){var o=Math.floor((t-e)/2)+e,s=a(r,i[o],!0);return 0===s?o:s>0?t-o>1?n(o,t,r,i,a):o:o-e>1?n(e,o,r,i,a):e<0?-1:e}t.search=function(e,t,r){return 0===t.length?-1:n(-1,t.length,e,t,r)}}))},{amdefine:1}],15:[function(e,t,r){if("function"!=typeof n)var n=e("amdefine")(t,e);n((function(e,t,r){var n=e("./util");function i(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}i.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},i.prototype.add=function(e){var t,r,i,a,o,s;t=this._last,r=e,i=t.generatedLine,a=r.generatedLine,o=t.generatedColumn,s=r.generatedColumn,a>i||a==i&&s>=o||n.compareByGeneratedPositions(t,r)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},i.prototype.toArray=function(){return this._sorted||(this._array.sort(n.compareByGeneratedPositions),this._sorted=!0),this._array},t.MappingList=i}))},{"./util":19,amdefine:1}],16:[function(e,t,r){if("function"!=typeof n)var n=e("amdefine")(t,e);n((function(e,t,r){var n=e("./util"),i=e("./binary-search"),a=e("./array-set").ArraySet,o=e("./base64-vlq");function s(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var r=n.getArg(t,"version"),i=n.getArg(t,"sources"),o=n.getArg(t,"names",[]),s=n.getArg(t,"sourceRoot",null),l=n.getArg(t,"sourcesContent",null),c=n.getArg(t,"mappings"),u=n.getArg(t,"file",null);if(r!=this._version)throw new Error("Unsupported version: "+r);i=i.map(n.normalize),this._names=a.fromArray(o,!0),this._sources=a.fromArray(i,!0),this.sourceRoot=s,this.sourcesContent=l,this._mappings=c,this.file=u}s.fromSourceMap=function(e){var t=Object.create(s.prototype);return t._names=a.fromArray(e._names.toArray(),!0),t._sources=a.fromArray(e._sources.toArray(),!0),t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file,t.__generatedMappings=e._mappings.toArray().slice(),t.__originalMappings=e._mappings.toArray().slice().sort(n.compareByOriginalPositions),t},s.prototype._version=3,Object.defineProperty(s.prototype,"sources",{get:function(){return this._sources.toArray().map((function(e){return null!=this.sourceRoot?n.join(this.sourceRoot,e):e}),this)}}),s.prototype.__generatedMappings=null,Object.defineProperty(s.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__generatedMappings}}),s.prototype.__originalMappings=null,Object.defineProperty(s.prototype,"_originalMappings",{get:function(){return this.__originalMappings||(this.__generatedMappings=[],this.__originalMappings=[],this._parseMappings(this._mappings,this.sourceRoot)),this.__originalMappings}}),s.prototype._nextCharIsMappingSeparator=function(e){var t=e.charAt(0);return";"===t||","===t},s.prototype._parseMappings=function(e,t){for(var r,i=1,a=0,s=0,l=0,c=0,u=0,d=e,p={};d.length>0;)if(";"===d.charAt(0))i++,d=d.slice(1),a=0;else if(","===d.charAt(0))d=d.slice(1);else{if((r={}).generatedLine=i,o.decode(d,p),r.generatedColumn=a+p.value,a=r.generatedColumn,(d=p.rest).length>0&&!this._nextCharIsMappingSeparator(d)){if(o.decode(d,p),r.source=this._sources.at(c+p.value),c+=p.value,0===(d=p.rest).length||this._nextCharIsMappingSeparator(d))throw new Error("Found a source, but no line and column");if(o.decode(d,p),r.originalLine=s+p.value,s=r.originalLine,r.originalLine+=1,0===(d=p.rest).length||this._nextCharIsMappingSeparator(d))throw new Error("Found a source and line, but no column");o.decode(d,p),r.originalColumn=l+p.value,l=r.originalColumn,(d=p.rest).length>0&&!this._nextCharIsMappingSeparator(d)&&(o.decode(d,p),r.name=this._names.at(u+p.value),u+=p.value,d=p.rest)}this.__generatedMappings.push(r),"number"==typeof r.originalLine&&this.__originalMappings.push(r)}this.__generatedMappings.sort(n.compareByGeneratedPositions),this.__originalMappings.sort(n.compareByOriginalPositions)},s.prototype._findMapping=function(e,t,r,n,a){if(e[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[r]);if(e[n]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[n]);return i.search(e,t,a)},s.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var r=this._generatedMappings[e+1];if(t.generatedLine===r.generatedLine){t.lastGeneratedColumn=r.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},s.prototype.originalPositionFor=function(e){var t={generatedLine:n.getArg(e,"line"),generatedColumn:n.getArg(e,"column")},r=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",n.compareByGeneratedPositions);if(r>=0){var i=this._generatedMappings[r];if(i.generatedLine===t.generatedLine){var a=n.getArg(i,"source",null);return null!=a&&null!=this.sourceRoot&&(a=n.join(this.sourceRoot,a)),{source:a,line:n.getArg(i,"originalLine",null),column:n.getArg(i,"originalColumn",null),name:n.getArg(i,"name",null)}}}return{source:null,line:null,column:null,name:null}},s.prototype.sourceContentFor=function(e){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=n.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var t;if(null!=this.sourceRoot&&(t=n.urlParse(this.sourceRoot))){var r=e.replace(/^file:\/\//,"");if("file"==t.scheme&&this._sources.has(r))return this.sourcesContent[this._sources.indexOf(r)];if((!t.path||"/"==t.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}throw new Error('"'+e+'" is not in the SourceMap.')},s.prototype.generatedPositionFor=function(e){var t={source:n.getArg(e,"source"),originalLine:n.getArg(e,"line"),originalColumn:n.getArg(e,"column")};null!=this.sourceRoot&&(t.source=n.relative(this.sourceRoot,t.source));var r=this._findMapping(t,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions);if(r>=0){var i=this._originalMappings[r];return{line:n.getArg(i,"generatedLine",null),column:n.getArg(i,"generatedColumn",null),lastColumn:n.getArg(i,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},s.prototype.allGeneratedPositionsFor=function(e){var t={source:n.getArg(e,"source"),originalLine:n.getArg(e,"line"),originalColumn:1/0};null!=this.sourceRoot&&(t.source=n.relative(this.sourceRoot,t.source));var r=[],i=this._findMapping(t,this._originalMappings,"originalLine","originalColumn",n.compareByOriginalPositions);if(i>=0)for(var a=this._originalMappings[i];a&&a.originalLine===t.originalLine;)r.push({line:n.getArg(a,"generatedLine",null),column:n.getArg(a,"generatedColumn",null),lastColumn:n.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[--i];return r.reverse()},s.GENERATED_ORDER=1,s.ORIGINAL_ORDER=2,s.prototype.eachMapping=function(e,t,r){var i,a=t||null;switch(r||s.GENERATED_ORDER){case s.GENERATED_ORDER:i=this._generatedMappings;break;case s.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var o=this.sourceRoot;i.map((function(e){var t=e.source;return null!=t&&null!=o&&(t=n.join(o,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:e.name}})).forEach(e,a)},t.SourceMapConsumer=s}))},{"./array-set":11,"./base64-vlq":12,"./binary-search":14,"./util":19,amdefine:1}],17:[function(e,t,r){if("function"!=typeof n)var n=e("amdefine")(t,e);n((function(e,t,r){var n=e("./base64-vlq"),i=e("./util"),a=e("./array-set").ArraySet,o=e("./mapping-list").MappingList;function s(e){e||(e={}),this._file=i.getArg(e,"file",null),this._sourceRoot=i.getArg(e,"sourceRoot",null),this._skipValidation=i.getArg(e,"skipValidation",!1),this._sources=new a,this._names=new a,this._mappings=new o,this._sourcesContents=null}s.prototype._version=3,s.fromSourceMap=function(e){var t=e.sourceRoot,r=new s({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var n={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(n.source=e.source,null!=t&&(n.source=i.relative(t,n.source)),n.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(n.name=e.name)),r.addMapping(n)})),e.sources.forEach((function(t){var n=e.sourceContentFor(t);null!=n&&r.setSourceContent(t,n)})),r},s.prototype.addMapping=function(e){var t=i.getArg(e,"generated"),r=i.getArg(e,"original",null),n=i.getArg(e,"source",null),a=i.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,r,n,a),null==n||this._sources.has(n)||this._sources.add(n),null==a||this._names.has(a)||this._names.add(a),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=r&&r.line,originalColumn:null!=r&&r.column,source:n,name:a})},s.prototype.setSourceContent=function(e,t){var r=e;null!=this._sourceRoot&&(r=i.relative(this._sourceRoot,r)),null!=t?(this._sourcesContents||(this._sourcesContents={}),this._sourcesContents[i.toSetString(r)]=t):this._sourcesContents&&(delete this._sourcesContents[i.toSetString(r)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},s.prototype.applySourceMap=function(e,t,r){var n=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');n=e.file}var o=this._sourceRoot;null!=o&&(n=i.relative(o,n));var s=new a,l=new a;this._mappings.unsortedForEach((function(t){if(t.source===n&&null!=t.originalLine){var a=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=a.source&&(t.source=a.source,null!=r&&(t.source=i.join(r,t.source)),null!=o&&(t.source=i.relative(o,t.source)),t.originalLine=a.line,t.originalColumn=a.column,null!=a.name&&(t.name=a.name))}var c=t.source;null==c||s.has(c)||s.add(c);var u=t.name;null==u||l.has(u)||l.add(u)}),this),this._sources=s,this._names=l,e.sources.forEach((function(t){var n=e.sourceContentFor(t);null!=n&&(null!=r&&(t=i.join(r,t)),null!=o&&(t=i.relative(o,t)),this.setSourceContent(t,n))}),this)},s.prototype._validateMapping=function(e,t,r,n){if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||r||n)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&r))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:t,name:n}))},s.prototype._serializeMappings=function(){for(var e,t=0,r=1,a=0,o=0,s=0,l=0,c="",u=this._mappings.toArray(),d=0,p=u.length;d<p;d++){if((e=u[d]).generatedLine!==r)for(t=0;e.generatedLine!==r;)c+=";",r++;else if(d>0){if(!i.compareByGeneratedPositions(e,u[d-1]))continue;c+=","}c+=n.encode(e.generatedColumn-t),t=e.generatedColumn,null!=e.source&&(c+=n.encode(this._sources.indexOf(e.source)-l),l=this._sources.indexOf(e.source),c+=n.encode(e.originalLine-1-o),o=e.originalLine-1,c+=n.encode(e.originalColumn-a),a=e.originalColumn,null!=e.name&&(c+=n.encode(this._names.indexOf(e.name)-s),s=this._names.indexOf(e.name)))}return c},s.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=i.relative(t,e));var r=i.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,r)?this._sourcesContents[r]:null}),this)},s.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},s.prototype.toString=function(){return JSON.stringify(this)},t.SourceMapGenerator=s}))},{"./array-set":11,"./base64-vlq":12,"./mapping-list":15,"./util":19,amdefine:1}],18:[function(e,t,r){if("function"!=typeof n)var n=e("amdefine")(t,e);n((function(e,t,r){var n=e("./source-map-generator").SourceMapGenerator,i=e("./util"),a=/(\r?\n)/,o="$$$isSourceNode$$$";function s(e,t,r,n,i){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==r?null:r,this.name=null==i?null:i,this[o]=!0,null!=n&&this.add(n)}s.fromStringWithSourceMap=function(e,t,r){var n=new s,o=e.split(a),l=function(){return o.shift()+(o.shift()||"")},c=1,u=0,d=null;return t.eachMapping((function(e){if(null!==d){if(!(c<e.generatedLine)){t=(r=o[0]).substr(0,e.generatedColumn-u);return o[0]=r.substr(e.generatedColumn-u),u=e.generatedColumn,p(d,t),void(d=e)}var t="";p(d,l()),c++,u=0}for(;c<e.generatedLine;)n.add(l()),c++;if(u<e.generatedColumn){var r=o[0];n.add(r.substr(0,e.generatedColumn)),o[0]=r.substr(e.generatedColumn),u=e.generatedColumn}d=e}),this),o.length>0&&(d&&p(d,l()),n.add(o.join(""))),t.sources.forEach((function(e){var a=t.sourceContentFor(e);null!=a&&(null!=r&&(e=i.join(r,e)),n.setSourceContent(e,a))})),n;function p(e,t){if(null===e||void 0===e.source)n.add(t);else{var a=r?i.join(r,e.source):e.source;n.add(new s(e.originalLine,e.originalColumn,a,t,e.name))}}},s.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[o]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},s.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[o]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},s.prototype.walk=function(e){for(var t,r=0,n=this.children.length;r<n;r++)(t=this.children[r])[o]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},s.prototype.join=function(e){var t,r,n=this.children.length;if(n>0){for(t=[],r=0;r<n-1;r++)t.push(this.children[r]),t.push(e);t.push(this.children[r]),this.children=t}return this},s.prototype.replaceRight=function(e,t){var r=this.children[this.children.length-1];return r[o]?r.replaceRight(e,t):"string"==typeof r?this.children[this.children.length-1]=r.replace(e,t):this.children.push("".replace(e,t)),this},s.prototype.setSourceContent=function(e,t){this.sourceContents[i.toSetString(e)]=t},s.prototype.walkSourceContents=function(e){for(var t=0,r=this.children.length;t<r;t++)this.children[t][o]&&this.children[t].walkSourceContents(e);var n=Object.keys(this.sourceContents);for(t=0,r=n.length;t<r;t++)e(i.fromSetString(n[t]),this.sourceContents[n[t]])},s.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},s.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},r=new n(e),i=!1,a=null,o=null,s=null,l=null;return this.walk((function(e,n){t.code+=e,null!==n.source&&null!==n.line&&null!==n.column?(a===n.source&&o===n.line&&s===n.column&&l===n.name||r.addMapping({source:n.source,original:{line:n.line,column:n.column},generated:{line:t.line,column:t.column},name:n.name}),a=n.source,o=n.line,s=n.column,l=n.name,i=!0):i&&(r.addMapping({generated:{line:t.line,column:t.column}}),a=null,i=!1);for(var c=0,u=e.length;c<u;c++)10===e.charCodeAt(c)?(t.line++,t.column=0,c+1===u?(a=null,i=!1):i&&r.addMapping({source:n.source,original:{line:n.line,column:n.column},generated:{line:t.line,column:t.column},name:n.name})):t.column++})),this.walkSourceContents((function(e,t){r.setSourceContent(e,t)})),{code:t.code,map:r}},t.SourceNode=s}))},{"./source-map-generator":17,"./util":19,amdefine:1}],19:[function(e,t,r){if("function"!=typeof n)var n=e("amdefine")(t,e);n((function(e,t,r){t.getArg=function(e,t,r){if(t in e)return e[t];if(3===arguments.length)return r;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,i=/^data:.+\,.+$/;function a(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function o(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function s(e){var t=e,r=a(e);if(r){if(!r.path)return e;t=r.path}for(var n,i="/"===t.charAt(0),s=t.split(/\/+/),l=0,c=s.length-1;c>=0;c--)"."===(n=s[c])?s.splice(c,1):".."===n?l++:l>0&&(""===n?(s.splice(c+1,l),l=0):(s.splice(c,2),l--));return""===(t=s.join("/"))&&(t=i?"/":"."),r?(r.path=t,o(r)):t}function l(e,t){var r=e||"",n=t||"";return(r>n)-(r<n)}t.urlParse=a,t.urlGenerate=o,t.normalize=s,t.join=function(e,t){""===e&&(e="."),""===t&&(t=".");var r=a(t),n=a(e);if(n&&(e=n.path||"/"),r&&!r.scheme)return n&&(r.scheme=n.scheme),o(r);if(r||t.match(i))return t;if(n&&!n.host&&!n.path)return n.host=t,o(n);var l="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t);return n?(n.path=l,o(n)):l},t.relative=function(e,t){""===e&&(e=".");var r=a(e=e.replace(/\/$/,""));return"/"==t.charAt(0)&&r&&"/"==r.path?t.slice(1):0===t.indexOf(e+"/")?t.substr(e.length+1):t},t.toSetString=function(e){return"$"+e},t.fromSetString=function(e){return e.substr(1)},t.compareByOriginalPositions=function(e,t,r){var n;return(n=l(e.source,t.source))||(n=e.originalLine-t.originalLine)||(n=e.originalColumn-t.originalColumn)||r||(n=l(e.name,t.name))?n:(n=e.generatedLine-t.generatedLine)||e.generatedColumn-t.generatedColumn},t.compareByGeneratedPositions=function(e,t,r){var n;return(n=e.generatedLine-t.generatedLine)||(n=e.generatedColumn-t.generatedColumn)||r||(n=l(e.source,t.source))||(n=e.originalLine-t.originalLine)?n:(n=e.originalColumn-t.originalColumn)||l(e.name,t.name)}}))},{amdefine:1}],20:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],21:[function(e,t,r){(function(e){function t(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return n.exec(e).slice(1)};function a(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}r.resolve=function(){for(var r="",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var o=i>=0?arguments[i]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(r=o+"/"+r,n="/"===o.charAt(0))}return(n?"/":"")+(r=t(a(r.split("/"),(function(e){return!!e})),!n).join("/"))||"."},r.normalize=function(e){var n=r.isAbsolute(e),i="/"===o(e,-1);return(e=t(a(e.split("/"),(function(e){return!!e})),!n).join("/"))||n||(e="."),e&&i&&(e+="/"),(n?"/":"")+e},r.isAbsolute=function(e){return"/"===e.charAt(0)},r.join=function(){var e=Array.prototype.slice.call(arguments,0);return r.normalize(a(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},r.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=r.resolve(e).substr(1),t=r.resolve(t).substr(1);for(var i=n(e.split("/")),a=n(t.split("/")),o=Math.min(i.length,a.length),s=o,l=0;l<o;l++)if(i[l]!==a[l]){s=l;break}var c=[];for(l=s;l<i.length;l++)c.push("..");return(c=c.concat(a.slice(s))).join("/")},r.sep="/",r.delimiter=":",r.dirname=function(e){var t=i(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},r.basename=function(e,t){var r=i(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},r.extname=function(e){return i(e)[3]};var o="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,e("_process"))},{_process:22}],22:[function(e,t,r){var n,i,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var c,u=[],d=!1,p=-1;function f(){d&&c&&(d=!1,c.length?u=c.concat(u):p=-1,u.length&&h())}function h(){if(!d){var e=l(f);d=!0;for(var t=u.length;t;){for(c=u,u=[];++p<t;)c&&c[p].run();p=-1,t=u.length}c=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function _(e,t){this.fun=e,this.array=t}function g(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new _(e,t)),1!==u.length||d||l(h)},_.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],23:[function(e,t,r){var n,i;n=this,i=function(){return function(){var e=arguments.length;if(0===e)throw new Error("resolveUrl requires at least one argument; got none.");var t=document.createElement("base");if(t.href=arguments[0],1===e)return t.href;var r=document.getElementsByTagName("head")[0];r.insertBefore(t,r.firstChild);for(var n,i=document.createElement("a"),a=1;a<e;a++)i.href=arguments[a],n=i.href,t.href=n;return r.removeChild(t),n}},"function"==typeof define&&define.amd?define(i):"object"==typeof r?t.exports=i():n.resolveUrl=i()},{}],24:[function(e,t,r){!function(n,i){if("function"==typeof define&&define.amd)define(["source-map-url","resolve-url"],i);else if("object"==typeof r){var a=e("source-map-url"),o=e("resolve-url");t.exports=i(a,o)}else n.sourceMapResolve=i(n.sourceMappingURL,n.resolveUrl)}(this,(function(e,t){function r(e,t,r){setImmediate((function(){e(t,r)}))}function n(e){return JSON.parse(e.replace(/^\)\]\}'/,""))}function i(e,t,i,a){var o;try{o=l(e,t)}catch(e){return r(a,e)}if(!o||o.map)return r(a,null,o);i(o.url,(function(e,t){if(e)return a(e);try{o.map=n(String(t))}catch(e){return a(e)}a(null,o)}))}function a(e,t,r){var i=l(e,t);return!i||i.map||(i.map=n(String(r(i.url)))),i}var o=/^data:([^,;]*)(;[^,;]*)*(?:,(.*))?$/,s=/^(?:application|text)\/json$/;function l(r,i){var a=e.getFrom(r);if(!a)return null;var l=a.match(o);if(l){var c=l[1],u=l[2],d=l[3];if(!s.test(c))throw new Error("Unuseful data uri mime type: "+(c||"text/plain"));return{sourceMappingURL:a,url:null,sourcesRelativeTo:i,map:n(";base64"===u?atob(d):decodeURIComponent(d))}}var p=t(i,a);return{sourceMappingURL:a,url:p,sourcesRelativeTo:p,map:null}}function c(e,t,n,i,a){"function"==typeof i&&(a=i,i={});var o=e.sources.length,s=!1,l={sourcesResolved:[],sourcesContent:[]},c=function(e){if(!s){if(e)return s=!0,a(e);0===--o&&a(null,l)}};p(e,t,i,(function(e,t,i){l.sourcesResolved[i]=e,"string"==typeof t?(l.sourcesContent[i]=t,r(c,null)):n(e,(function(e,t){l.sourcesContent[i]=String(t),c(e)}))}))}function u(e,t,r,n){var i={sourcesResolved:[],sourcesContent:[]};return p(e,t,n,(function(e,t,n){i.sourcesResolved[n]=e,null!==r&&(i.sourcesContent[n]="string"==typeof t?t:String(r(e)))})),i}var d=/\/?$/;function p(e,r,n,i){n=n||{};for(var a=0,o=e.sources.length;a<o;a++)i(e.sourceRoot&&!n.ignoreSourceRoot?t(r,e.sourceRoot.replace(d,"/"),e.sources[a]):t(r,e.sources[a]),(e.sourcesContent||[])[a],a)}return{resolveSourceMap:i,resolveSourceMapSync:a,resolveSources:c,resolveSourcesSync:u,resolve:function(e,t,r,n,a){"function"==typeof n&&(a=n,n={}),i(e,t,r,(function(e,t){return e?a(e):t?void c(t.map,t.sourcesRelativeTo,r,n,(function(e,r){if(e)return a(e);t.sourcesResolved=r.sourcesResolved,t.sourcesContent=r.sourcesContent,a(null,t)})):a(null,null)}))},resolveSync:function(e,t,r,n){var i=a(e,t,r);if(!i)return null;var o=u(i.map,i.sourcesRelativeTo,r,n);return i.sourcesResolved=o.sourcesResolved,i.sourcesContent=o.sourcesContent,i}}}))},{"resolve-url":23,"source-map-url":25}],25:[function(e,t,r){var n,i;n=this,i=function(){var e=/[#@] sourceMappingURL=([^\s'"]*)/,t=RegExp("(?:/\\*(?:\\s*\r?\n(?://)?)?(?:"+e.source+")\\s*\\*/|//(?:"+e.source+"))\\s*$");return{regex:t,_innerRegex:e,getFrom:function(e){var r=e.match(t);return r?r[1]||r[2]||"":null},existsIn:function(e){return t.test(e)},removeFrom:function(e){return e.replace(t,"")},insertBefore:function(e,r){var n=e.match(t);return n?e.slice(0,n.index)+r+e.slice(n.index):e+r}}},"function"==typeof define&&define.amd?define(i):"object"==typeof r?t.exports=i():n.sourceMappingURL=i()},{}],26:[function(e,t,r){var n=e("path");t.exports=function(e){return"\\"===n.sep?e.replace(/\\/g,"/").replace(/^[a-z]:\/?/i,"/"):e}},{path:21}]},{},[3]),function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[o]={exports:{}};t[o][0].call(u.exports,(function(e){return i(t[o][1][e]||e)}),u,u.exports,e,t,r,n)}return r[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){var n;n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{},id:n,loaded:!1};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.m=e,r.c=t,r.p="",r(0)}([function(e,t,r){"use strict";var n=r(1),i=r(7);e.exports={createNode:function(e){return new n(e)},parse:i},window.TvrSCSS=e.exports},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(t){!function(t){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this),this.type=t.type,this.content=t.content,this.syntax=t.syntax,t.start&&(this.start=t.start),t.end&&(this.end=t.end)}return e.prototype.contains=function(e){return!!Array.isArray(this.content)&&this.content.some((function(t){return t.type===e}))},e.prototype.eachFor=function(e,t){if(Array.isArray(this.content)){"string"!=typeof e&&(t=e,e=null);for(var r,n=this.content.length;n--&&null!==r;)(!e||this.content[n]&&this.content[n].type===e)&&(r=t(this.content[n],n,this));return null===r?null:void 0}},e.prototype.first=function(e){if(!Array.isArray(this.content))return null;if(!e)return this.content[0];for(var t=0,r=this.content.length;t<r;t++)if(this.content[t].type===e)return this.content[t];return null},e.prototype.forEach=function(e,t){if(Array.isArray(this.content)){"string"!=typeof e&&(t=e,e=null);for(var r,n=0,i=this.content.length;n<i&&null!==r;n++)(!e||this.content[n]&&this.content[n].type===e)&&(r=t(this.content[n],n,this));return null===r?null:void 0}},e.prototype.get=function(e){return Array.isArray(this.content)&&this.content[e]||null},e.prototype.insert=function(e,t){Array.isArray(this.content)&&this.content.splice(e,0,t)},e.prototype.is=function(e){return this.type===e},e.prototype.last=function(e){if(!Array.isArray(this.content))return null;var t=this.content.length;if(!e)return this.content[t-1];for(;t--;)if(this.content[t].type===e)return this.content[t];return null},e.prototype.removeChild=function(e){if(Array.isArray(this.content))return this.content.splice(e,1)},e.prototype.toJson=function(){return JSON.stringify(this,!1,2)},e.prototype.toString=function(){var e=void 0;try{e=r(2)("./"+this.syntax+"/stringify")}catch(e){var t='Syntax "'+this.syntax+'" is not supported yet, sorry';return console.error(t)}return e(this)},e.prototype.traverse=function(e,t){var r,n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e(this,t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,++i),Array.isArray(this.content)){for(var a=0,o=this.content.length;a<o&&null!==(r=this.content[a].traverse(e,a,i,this));a++)(n=this.content.length-o)&&(o+=n,a+=n);return null===r?null:void 0}},e.prototype.traverseByType=function(e,t){this.traverse((function(r){r.type===e&&t.apply(r,arguments)}))},e.prototype.traverseByTypes=function(e,t){this.traverse((function(r){-1!==e.indexOf(r.type)&&t.apply(r,arguments)}))},n(e,[{key:"length",get:function(){return Array.isArray(this.content)?this.content.length:0}}]),e}();e.exports=i},function(e,t,r){var n={"./css/stringify":3,"./less/stringify":4,"./sass/stringify":5,"./scss/stringify":6};function i(e){return r(a(e))}function a(e){return n[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}i.keys=function(){return Object.keys(n)},i.resolve=a,e.exports=i,i.id=2},function(e,t){"use strict";e.exports=function(e){if(!e)throw new Error("We need tree to translate");function t(e){var t=e.type;return n[t]?n[t](e):"string"==typeof e.content?e.content:Array.isArray(e.content)?r(e.content):""}function r(e,r){if(!e)return"";var n="";for(r=r||0;r<e.length;r++)n+=t(e[r]);return n}var n={arguments:function(e){return"("+r(e.content)+")"},atkeyword:function(e){return"@"+r(e.content)},attributeSelector:function(e){return"["+r(e.content)+"]"},block:function(e){return"{"+r(e.content)+"}"},brackets:function(e){return"["+r(e.content)+"]"},class:function(e){return"."+r(e.content)},color:function(e){return"#"+e.content},customProperty:function(e){return"--"+e.content},expression:function(e){return"expression("+e.content+")"},id:function(e){return"#"+r(e.content)},multilineComment:function(e){return"/*"+e.content+"*/"},nthSelector:function(e){return":"+t(e.content[0])+"("+r(e.content.slice(1))+")"},parentheses:function(e){return"("+r(e.content)+")"},percentage:function(e){return r(e.content)+"%"},pseudoClass:function(e){return":"+r(e.content)},pseudoElement:function(e){return"::"+r(e.content)},universalSelector:function(e){return r(e.content)+"*"},uri:function(e){return"url("+r(e.content)+")"}};return t(e)}},function(e,t){"use strict";e.exports=function(e){if(!e)throw new Error("We need tree to translate");function t(e){var t=e.type;return n[t]?n[t](e):"string"==typeof e.content?e.content:Array.isArray(e.content)?r(e.content):""}function r(e,r){if(!e)return"";var n="";for(r=r||0;r<e.length;r++)n+=t(e[r]);return n}var n={arguments:function(e){return"("+r(e.content)+")"},atkeyword:function(e){return"@"+r(e.content)},attributeSelector:function(e){return"["+r(e.content)+"]"},block:function(e){return"{"+r(e.content)+"}"},brackets:function(e){return"["+r(e.content)+"]"},class:function(e){return"."+r(e.content)},color:function(e){return"#"+e.content},escapedString:function(e){return"~"+e.content},expression:function(e){return"expression("+e.content+")"},id:function(e){return"#"+r(e.content)},interpolatedVariable:function(e){return"@{"+r(e.content)+"}"},multilineComment:function(e){return"/*"+e.content+"*/"},nthSelector:function(e){return":"+t(e.content[0])+"("+r(e.content.slice(1))+")"},parentheses:function(e){return"("+r(e.content)+")"},percentage:function(e){return r(e.content)+"%"},pseudoClass:function(e){return":"+r(e.content)},pseudoElement:function(e){return"::"+r(e.content)},singlelineComment:function(e){return"//"+e.content},universalSelector:function(e){return r(e.content)+"*"},uri:function(e){return"url("+r(e.content)+")"},variable:function(e){return"@"+r(e.content)},variablesList:function(e){return r(e.content)+"..."}};return t(e)}},function(e,t){"use strict";e.exports=function(e){if(!e)throw new Error("We need tree to translate");function t(e){var t=e.type;return n[t]?n[t](e):"string"==typeof e.content?e.content:Array.isArray(e.content)?r(e.content):""}function r(e,r){if(!e)return"";var n="";for(r=r||0;r<e.length;r++)n+=t(e[r]);return n}var n={arguments:function(e){return"("+r(e.content)+")"},atkeyword:function(e){return"@"+r(e.content)},attributeSelector:function(e){return"["+r(e.content)+"]"},block:function(e){return r(e.content)},brackets:function(e){return"["+r(e.content)+"]"},class:function(e){return"."+r(e.content)},color:function(e){return"#"+e.content},customProperty:function(e){return"--"+e.content},expression:function(e){return"expression("+e.content+")"},functionsList:function(e){return r(e.content)+"..."},id:function(e){return"#"+r(e.content)},interpolation:function(e){return"#{"+r(e.content)+"}"},multilineComment:function(e){var t=e.content.split("\n"),r="";return t.length>1?t[t.length-1].length<e.end.column&&(r="*/"):e.content.length+4===e.end.column-e.start.column+1&&(r="*/"),"/*"+e.content+r},nthSelector:function(e){return":"+t(e.content[0])+"("+r(e.content.slice(1))+")"},parentheses:function(e){return"("+r(e.content)+")"},percentage:function(e){return r(e.content)+"%"},placeholder:function(e){return"%"+r(e.content)},pseudoClass:function(e){return":"+r(e.content)},pseudoElement:function(e){return"::"+r(e.content)},singlelineComment:function(e){return"//"+e.content},universalSelector:function(e){return r(e.content)+"*"},uri:function(e){return"url("+r(e.content)+")"},variable:function(e){return"$"+r(e.content)},variablesList:function(e){return r(e.content)+"..."}};return t(e)}},function(e,t){"use strict";e.exports=function(e){if(!e)throw new Error("We need tree to translate");function t(e){var t=e.type;return n[t]?n[t](e):"string"==typeof e.content?e.content:Array.isArray(e.content)?r(e.content):""}function r(e,r){if(!e)return"";var n="";for(r=r||0;r<e.length;r++)n+=t(e[r]);return n}var n={arguments:function(e){return"("+r(e.content)+")"},atkeyword:function(e){return"@"+r(e.content)},attributeSelector:function(e){return"["+r(e.content)+"]"},block:function(e){return"{"+r(e.content)+"}"},brackets:function(e){return"["+r(e.content)+"]"},class:function(e){return"."+r(e.content)},color:function(e){return"#"+e.content},customProperty:function(e){return"--"+e.content},expression:function(e){return"expression("+e.content+")"},functionsList:function(e){return r(e.content)+"..."},id:function(e){return"#"+r(e.content)},interpolation:function(e){return"#{"+r(e.content)+"}"},multilineComment:function(e){return"/*"+e.content+"*/"},nthSelector:function(e){return":"+t(e.content[0])+"("+r(e.content.slice(1))+")"},parentheses:function(e){return"("+r(e.content)+")"},percentage:function(e){return r(e.content)+"%"},placeholder:function(e){return"%"+r(e.content)},pseudoClass:function(e){return":"+r(e.content)},pseudoElement:function(e){return"::"+r(e.content)},singlelineComment:function(e){return"//"+e.content},universalSelector:function(e){return r(e.content)+"*"},uri:function(e){return"url("+r(e.content)+")"},variable:function(e){return"$"+r(e.content)},variablesList:function(e){return r(e.content)+"..."}};return t(e)}},function(e,t,r){"use strict";var n=r(8),i=r(10),a=Number.isInteger||function(e){return"number"==typeof e&&Math.floor(e)===e};e.exports=function(e,t){if("string"!=typeof e)throw new Error("Please, pass a string to parse");if(!e)return r(29)();var o=t&&t.syntax||"css",s=t&&t.context||"stylesheet",l=t&&t.tabSize;(!a(l)||l<1)&&(l=1);var c=i[o];if(!c){var u='Syntax "'+o+'" is not supported yet, sorry';return console.error(u)}var d,p=c.tokenizer,f=c.mark,h=c.parse,_=p(e,l);f(_);try{d=h(_,s)}catch(t){if(!t.syntax)throw t;throw new n(t,e)}return d}},function(e,t,r){"use strict";var n=r(9);function i(e,t){this.line=e.line,this.syntax=e.syntax,this.css_=t}i.prototype={customMessage_:"",line:null,name:"Parsing error",syntax:null,version:n.version,get context(){for(var e=[],t=this.line,r=t-1-2,n=t+2,i=this.css_.split(/\r\n|\r|\n/),a=r;a<n;a++){var o=i[a];if(o){var s=a+1,l=s===t?"*":" ";e.push(s+l+"| "+o)}}return e.join("\n")},get message(){if(this.customMessage_)return this.customMessage_;var e="Please check validity of the block";return"number"==typeof this.line&&(e+=" starting from line #"+this.line),e},set message(e){this.customMessage_=e},toString:function(){return[this.name+": "+this.message,"",this.context,"","Syntax: "+this.syntax,"Gonzales PE version: "+this.version].join("\n")}},e.exports=i},function(e,t){e.exports={name:"gonzales-pe",description:"Gonzales Preprocessor Edition (fast CSS parser)",version:"4.2.4",homepage:"http://github.com/tonyganch/gonzales-pe",bugs:"http://github.com/tonyganch/gonzales-pe/issues",license:"MIT",author:{name:"Tony Ganch",email:"tonyganch+github@gmail.com",url:"http://tonyganch.com"},main:"./lib/gonzales",repository:{type:"git",url:"http://github.com/tonyganch/gonzales-pe.git"},scripts:{"autofix-tests":"bash ./scripts/build.sh && bash ./scripts/autofix-tests.sh",build:"bash ./scripts/build.sh",init:"bash ./scripts/init.sh",lint:"bash ./scripts/lint.sh",log:"bash ./scripts/log.sh",prepublishOnly:"bash ./scripts/build.sh",test:"bash ./scripts/test.sh",watch:"bash ./scripts/watch.sh"},bin:{gonzales:"./bin/gonzales.js"},dependencies:{minimist:"1.1.x"},devDependencies:{"babel-core":"^6.18.2","babel-loader":"^6.2.7","babel-plugin-add-module-exports":"^0.2.1","babel-preset-es2015":"^6.18.0","coffee-script":"~1.7.1",eslint:"^3.0.0",jscs:"2.1.0",jshint:"2.10.2","json-loader":"^0.5.3",mocha:"2.2.x",webpack:"^1.12.2","webpack-closure-compiler":"^2.0.2"},engines:{node:">=0.6.0"},files:["MIT-LICENSE.txt","bin/gonzales.js","lib/gonzales.js"]}},function(e,t,r){"use strict";e.exports={css:r(11),less:r(17),sass:r(21),scss:r(25)}},function(e,t,r){"use strict";t.__esModule=!0,t.default={mark:r(12),parse:r(14),stringify:r(3),tokenizer:r(16)},e.exports=t.default},function(e,t,r){"use strict";var n=r(13);function i(e,t,r){var n=e[t];n.ws=!0,n.sc=!0,-1===r[0]&&(r[0]=t),-1===r[1]&&(r[1]=t)}function a(e,t,r){var n=r[0];e[t].sc=!0,-1!==n&&(e[n].ws_last=t-1,r[0]=-1)}function o(e,t,r){var n=r[0],i=r[1];-1!==n&&(e[n].ws_last=t-1,r[0]=-1),-1!==i&&(e[i].sc_last=t-1,r[1]=-1)}e.exports=function(e){!function(e){for(var t=e.length,r=[],i=[],a=[],o=void 0,s=0;s<t;s++){var l=(o=e[s]).type;l===n.LeftParenthesis?r.push(s):l===n.RightParenthesis?r.length&&(o.left=r.pop(),e[o.left].right=s):l===n.LeftSquareBracket?i.push(s):l===n.RightSquareBracket?i.length&&(o.left=i.pop(),e[o.left].right=s):l===n.LeftCurlyBracket?a.push(s):l===n.RightCurlyBracket&&a.length&&(o.left=a.pop(),e[o.left].right=s)}}(e),function(e){for(var t,r=e.length,s=[-1,-1],l=0;l<r;l++)(t=e[l].type)===n.Space||t===n.Tab||t===n.Newline?i(e,l,s):t===n.CommentML?a(e,l,s):o(e,l,s);o(e,l,s)}(e)}},function(e,t){"use strict";e.exports={StringSQ:"StringSQ",StringDQ:"StringDQ",CommentML:"CommentML",CommentSL:"CommentSL",Newline:"Newline",Space:"Space",Tab:"Tab",ExclamationMark:"ExclamationMark",QuotationMark:"QuotationMark",NumberSign:"NumberSign",DollarSign:"DollarSign",PercentSign:"PercentSign",Ampersand:"Ampersand",Apostrophe:"Apostrophe",LeftParenthesis:"LeftParenthesis",RightParenthesis:"RightParenthesis",Asterisk:"Asterisk",PlusSign:"PlusSign",Comma:"Comma",HyphenMinus:"HyphenMinus",FullStop:"FullStop",Solidus:"Solidus",Colon:"Colon",Semicolon:"Semicolon",LessThanSign:"LessThanSign",EqualsSign:"EqualsSign",EqualitySign:"EqualitySign",InequalitySign:"InequalitySign",GreaterThanSign:"GreaterThanSign",QuestionMark:"QuestionMark",CommercialAt:"CommercialAt",LeftSquareBracket:"LeftSquareBracket",ReverseSolidus:"ReverseSolidus",RightSquareBracket:"RightSquareBracket",CircumflexAccent:"CircumflexAccent",LowLine:"LowLine",LeftCurlyBracket:"LeftCurlyBracket",VerticalLine:"VerticalLine",RightCurlyBracket:"RightCurlyBracket",Tilde:"Tilde",Identifier:"Identifier",DecimalNumber:"DecimalNumber"}},function(e,t,r){"use strict";var n=r(1),i=r(15),a=r(13),o=void 0,s=void 0,l=void 0,c={atkeyword:function(){return m(l)&&v()},atrule:function(){return y(l)&&b()},attributeSelector:function(){return rt(l)&&nt()},block:function(){return w(l)&&T()},brackets:function(){return k(l)&&S()},class:function(){return C(l)&&M()},combinator:function(){return A(l)&&O()},commentML:function(){return E(l)&&P()},declaration:function(){return D(l)&&j()},declDelim:function(){return I(l)&&L()},delim:function(){return R(l)&&N()},dimension:function(){return F(l)&&q()},expression:function(){return U(l)&&z()},function:function(){return B(l)&&$()},ident:function(){return H(l)&&V()},important:function(){return W(l)&&G()},namespace:function(){return((c=l)<s&&o[c].type===a.VerticalLine?1:0)&&(e=i.NamespaceType,r=(t=o[l]).ln,n=t.col,l++,h(e,"|",r,n));var e,t,r,n,c},number:function(){return J(l)&&Z()},operator:function(){return ee(l)&&te()},parentheses:function(){return re(l)&&ne()},percentage:function(){return ie(l)&&ae()},progid:function(){return oe(l)&&se()},property:function(){return le(l)&&ce()},propertyDelim:function(){return pe(l)&&fe()},pseudoc:function(){return ve(l)&&ye()},pseudoe:function(){return ge(l)&&me()},ruleset:function(){return be(l)&&we()},s:function(){return Te(l)&&xe()},selector:function(){return Xe(l)&&Ye()},shash:function(){return Ce(l)&&Me()},string:function(){return Ae(l)&&Oe()},stylesheet:function(){return function(e){for(var t=e,r=void 0;e<s;)(r=ke(e))?o[e].stylesheet_child=1:(r=be(e))?o[e].stylesheet_child=2:(r=y(e))?o[e].stylesheet_child=3:(r=I(e))?o[e].stylesheet_child=4:u(e),e+=r;return e-t}(l)&&function(){for(var e=i.StylesheetType,t=o[l],r=t.ln,n=t.col,a=[];l<s;){var c=o[l].stylesheet_child;1===c&&(a=a.concat(Se())),2===c&&a.push(we()),3===c&&a.push(b()),4===c&&a.push(L())}return h(e,a,r,n)}()},unary:function(){return je(l)&&Ie()},unicodeRange:function(){return Le(l)&&Re()},universalSelector:function(){return et(l)&&tt()},urange:function(){return Fe(l)&&qe()},uri:function(){return ze(l)&&Be()},value:function(){return $e(l)&&He()},vhash:function(){return We(l)&&Ge()}};function u(e){throw{line:o[e].ln,syntax:"css"}}function d(e,t){for(var r="",n=e;n<t+1;n++)r+=o[n].value;return r}function p(e,t){if(!(e+t-1>=s)){for(var r="",n=0;n<t;n++)r+=o[e+n].value;return r}}function f(e,t,r,n){return"string"==typeof e?function(e,t,r,n){var i=[];if(!e)return i=[t,r],n&&(i[1]+=n-1),i;var a=e.lastIndexOf("\n"),o=a===e.length-1,s=e.split("\n"),l=s.length-1,c=0===l||1===l?-1:e.length-s[l-1].length-2,u=o?l-1:l;return i[0]=t+u,u=o?-1!==c?e.length-c:e.length-1:0!==l?e.length-a-r-1:e.length-1,i[1]=r+u,n?(o?(i[0]++,i[1]=n):i[1]+=n,i):i}(e,t,r,n):function(e,t,r,n){var i=void 0;if(0===e.length)i=[t,r];else{var a=e[e.length-1];i=a.hasOwnProperty("end")?[a.end.line,a.end.column]:f(a.content,t,r)}return n?(o[l-1]&&"Newline"!==o[l-1].type?i[1]+=n:(i[0]++,i[1]=1),i):i}(e,t,r,n)}function h(e,t,r,i,a){return a||(a=f(t,r,i)),new n({type:e,content:t,start:{line:r,column:i},end:{line:a[0],column:a[1]},syntax:"css"})}function _(e){var t=void 0;return(t=k(e))?o[e].any_child=1:(t=re(e))?o[e].any_child=2:(t=Ae(e))?o[e].any_child=3:(t=ie(e))?o[e].any_child=4:(t=F(e))?o[e].any_child=5:(t=Le(e))?o[e].any_child=13:(t=J(e))?o[e].any_child=6:(t=ze(e))?o[e].any_child=7:(t=U(e))?o[e].any_child=8:(t=B(e))?o[e].any_child=9:(t=H(e))?o[e].any_child=10:(t=C(e))?o[e].any_child=11:(t=je(e))&&(o[e].any_child=12),t}function g(){var e=o[l].any_child;return 1===e?S():2===e?ne():3===e?Oe():4===e?ae():5===e?q():13===e?Re():6===e?Z():7===e?Be():8===e?z():9===e?$():10===e?V():11===e?M():12===e?Ie():void 0}function m(e){var t;return e>=s||o[e++].type!==a.CommercialAt?0:(t=H(e))?t+1:0}function v(){var e=i.AtkeywordType,t=o[l],r=t.ln,n=t.col;return l++,h(e,[V()],r,n)}function y(e){var t=void 0;if(e>=s)return 0;if(void 0!==o[e].atrule_l)return o[e].atrule_l;if(t=function(e){var t=e,r=void 0;return e>=s?0:(r=m(e))?-1===p((e+=r)-r,r).toLowerCase().indexOf("keyframes")?0:(r=ke(e))&&(r=H(e+=r))?((r=ke(e+=r))&&(e+=r),(r=function(e){var t=e,r=void 0;if(!(e<s&&o[e].type===a.LeftCurlyBracket))return 0;if((r=ke(++e))&&(e+=r),!(r=K(e)))return 0;for(e+=r;o[e].type!==a.RightCurlyBracket;)if(r=ke(e))e+=r;else{if(!(r=K(e)))break;e+=r}return e<s&&o[e].type===a.RightCurlyBracket?++e-t:0}(e))?(e+=r)-t:0):0:0}(e))o[e].atrule_type=4;else if(t=function(e){var t=e,r=void 0;return e>=s?0:(r=m(e))?((r=Pe(e+=r))&&(e+=r),e<s&&o[e].type===a.LeftCurlyBracket?((r=function(e){var t=e,r=void 0;if(e>=s)return 0;for((r=ke(e))&&(e+=r);e<s;){if(r=ke(e))o[e].atrulers_child=1;else if(r=y(e))o[e].atrulers_child=2;else{if(!(r=be(e)))break;o[e].atrulers_child=3}e+=r}return e<s&&(o[e].atrulers_end=1),(r=ke(e))&&(e+=r),e-t}(++e))&&(e+=r),e<s&&o[e].type===a.RightCurlyBracket?++e-t:0):0):0}(e))o[e].atrule_type=1;else if(t=function(e){var t=e,r=void 0;return e>=s?0:(r=m(e))?((r=Pe(e+=r))&&(e+=r),(r=w(e))?(e+=r)-t:0):0}(e))o[e].atrule_type=2;else{if(!(t=function(e){var t=e,r=void 0;return e>=s?0:(r=m(e))?((r=Pe(e+=r))&&(e+=r),e-t):0}(e)))return 0;o[e].atrule_type=3}return o[e].atrule_l=t,t}function b(){var e,t,r,n,a,c=o[l].atrule_type;return 1===c?(e=i.AtruleType,r=(t=o[l]).ln,n=t.col,a=[].concat(v(),De(),function(){var e=i.BlockType,t=o[l],r=t.ln,n=t.col,a=[];for(l++,a=a.concat(Se());l<s&&!o[l].atrulers_end;){var c=o[l].atrulers_child;if(1===c)a=a.concat(Se());else if(2===c)a.push(b());else{if(3!==c)break;a.push(we())}}var u=f(a=a.concat(Se()),r,n,1);return l++,h(e,a,r,n,u)}()),h(e,a,r,n)):2===c?function(){var e=i.AtruleType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(v(),De(),T()),r,n)}():3===c?function(){var e=i.AtruleType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(v(),De()),r,n)}():4===c?function(){var e=i.AtruleType,t=o[l],r=t.ln,n=t.col,a=[].concat(v(),Se(),V(),Se(),function(){var e=i.BlockType,t=o[l],r=t.ln,n=t.col,a=t.right,s=[];for(l++;l<a;)ke(l)?s=s.concat(Se()):K(l)&&s.push(Q());var c=f(s,r,n,1);return l++,h(e,s,r,n,c)}());return h(e,a,r,n)}():void 0}function w(e){return e<s&&o[e].type===a.LeftCurlyBracket?o[e].right-e+1:0}function T(){var e,t=i.BlockType,r=o[l],n=r.ln,a=r.col,s=o[l].right,c=[];for(l++;l<s;)x(l)?c=c.concat((void 0,1===(e=o[l].bd_type)?function(){var e=Se(),t=void 0;switch(o[l].bd_kind){case 1:t=j();break;case 2:t=b()}return e.concat(t,Se(),L(),Se())}():2===e?function(){var e=Se(),t=void 0;switch(o[l].bd_kind){case 1:t=j();break;case 2:t=b()}return e.concat(t,Se())}():3===e?[].concat(Se(),L(),Se()):4===e?Se():void 0)):u(l);var d=f(c,n,a,1);return l=s+1,h(t,c,n,a,d)}function x(e){var t=void 0;if(e>=s)return 0;if(t=function(e){var t=e,r=void 0;if((r=ke(e))&&(e+=r),r=D(e))o[e].bd_kind=1;else{if(!(r=y(e)))return 0;o[e].bd_kind=2}return(r=ke(e+=r))&&(e+=r),e<s&&(r=I(e))&&(r=ke(e+=r))?(e+=r)-t:0}(e))o[e].bd_type=1;else if(t=function(e){var t=e,r=void 0;if((r=ke(e))&&(e+=r),r=D(e))o[e].bd_kind=1;else{if(!(r=y(e)))return 0;o[e].bd_kind=2}return(r=ke(e+=r))&&(e+=r),e-t}(e))o[e].bd_type=2;else if(t=function(e){var t=e,r=void 0;return(r=ke(e))&&(e+=r),(r=I(e))?((r=ke(e+=r))&&(e+=r),e-t):0}(e))o[e].bd_type=3;else{if(!(t=function(e){return ke(e)}(e)))return 0;o[e].bd_type=4}return t}function k(e){if(e>=s)return 0;var t=e;if(o[e].type!==a.LeftSquareBracket)return 0;if(++e<o[t].right){var r=Pe(e);if(!r)return 0;e+=r}return++e-t}function S(){var e=i.BracketsType,t=o[l],r=t.ln,n=t.col,a=t.right,s=[];++l<a&&(s=De());var c=f(s,r,n,1);return l++,h(e,s,r,n,c)}function C(e){var t,r=e;return e>=s?0:o[e].class_l?o[e].class_l:o[e].type!==a.FullStop?0:(t=H(++e))?(o[r].class_l=t+1,e+=t,o[r].classEnd=e,e-r):0}function M(){var e=i.ClassType,t=o[l],r=t.ln,n=t.col;return l++,h(e,[V()],r,n)}function A(e){if(e>=s)return 0;var t=void 0;return(t=function(e){return e<s&&o[e++].type===a.GreaterThanSign&&e<s&&o[e++].type===a.GreaterThanSign&&e<s&&o[e++].type===a.GreaterThanSign?3:0}(e))?o[e].combinatorType=1:(t=function(e){return e+1>=s?0:o[e].type===a.VerticalLine&&o[e+1].type===a.VerticalLine||o[e].type===a.GreaterThanSign&&o[e+1].type===a.GreaterThanSign?2:0}(e))?o[e].combinatorType=2:(t=function(e){var t=o[e].type;return t===a.PlusSign||t===a.GreaterThanSign||t===a.Tilde?1:0}(e))?o[e].combinatorType=3:(t=function(e){var t,r=e;return o[e].type!==a.Solidus?0:(t=H(++e))?o[e+=t].type!==a.Solidus?0:++e-r:0}(e))&&(o[e].combinatorType=4),t}function O(){var e=o[l].combinatorType;return 1===e?function(){var e=i.CombinatorType,t=o[l],r=t.ln,n=t.col;return l+=3,h(e,">>>",r,n)}():2===e?function(){var e=i.CombinatorType,t=o[l],r=t.ln,n=t.col,a=""+t.value+o[l+1].value;return l+=2,h(e,a,r,n)}():3===e?function(){var e=i.CombinatorType,t=o[l],r=t.ln,n=t.col,a=t.value;return l++,h(e,a,r,n)}():4===e?function(){var e=i.CombinatorType,t=o[l],r=t.ln,n=t.col;l++;var a=V();return l++,h(e,"/"+a.content+"/",r,n)}():void 0}function E(e){return e<s&&o[e].type===a.CommentML?1:0}function P(){var e=i.CommentMLType,t=o[l],r=t.ln,n=t.col,a=o[l].value.substring(2),s=a.length;"*"===a.charAt(s-2)&&"/"===a.charAt(s-1)&&(a=a.substring(0,s-2));var c=f(a,r,n,2);return c[0]===r&&(c[1]+=2),l++,h(e,a,r,n,c)}function D(e){var t=e,r=void 0;return e>=s?0:(r=le(e))?((r=ke(e+=r))&&(e+=r),(r=pe(e))?((r=ke(++e))&&(e+=r),(r=$e(e))?(e+=r)-t:0):0):0}function j(){var e=i.DeclarationType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(ce(),Se(),fe(),Se(),He()),r,n)}function I(e){return e<s&&o[e].type===a.Semicolon?1:0}function L(){var e=i.DeclDelimType,t=o[l],r=t.ln,n=t.col;return l++,h(e,";",r,n)}function R(e){return e<s&&o[e].type===a.Comma?1:0}function N(){var e=i.DelimType,t=o[l],r=t.ln,n=t.col;return l++,h(e,",",r,n)}function F(e){var t,r=J(e);return e>=s||!r||e+r>=s?0:(t=function(e){return-1!==["em","ex","ch","rem","vh","vw","vmin","vmax","px","mm","q","cm","in","pt","pc","deg","grad","rad","turn","s","ms","Hz","kHz","dpi","dpcm","dppx"].indexOf(o[e].value)?1:0}(e+r))?r+t:0}function q(){var e=i.DimensionType,t=o[l],r=t.ln,n=t.col;return h(e,[Z(),Ne()],r,n)}function U(e){var t=e;return e>=s||"expression"!==o[e++].value||e>=s||o[e].type!==a.LeftParenthesis?0:o[e].right-t+1}function z(){var e=i.ExpressionType,t=o[l],r=t.ln,n=t.col,a=d(1+ ++l,o[l].right-1),s=f(a,r,n,1);return s[0]===r&&(s[1]+=11),l=o[l].right+1,h(e,a,r,n,s)}function B(e){var t,r=e;return e>=s?0:(t=H(e))&&(e+=t)<s&&o[e].type===a.LeftParenthesis?o[e].right-r+1:0}function $(){var e=i.FunctionType,t=o[l],r=t.ln,n=t.col,c=[].concat(V(),function(){var e,t,r,n=i.ArgumentsType,c=o[l],d=c.ln,p=c.col,m=[],v=void 0;for(l++;l<s&&o[l].type!==a.RightParenthesis;)D(l)?m.push(j()):(r=void 0,r=void 0,(r=We(t=l))?o[t].argument_child=1:(r=ue(t))?o[t].argument_child=2:(r=_(t))?o[t].argument_child=3:(r=ke(t))?o[t].argument_child=4:(r=ee(t))&&(o[t].argument_child=5),r?"string"==typeof(e=o[l].argument_child,v=1===e?Ge():2===e?de():3===e?g():4===e?Se():5===e?te():void 0).content?m.push(v):m=m.concat(v):C(l)?m.push(M()):u(l));var y=f(m,d,p,1);return l++,h(n,m,d,p,y)}());return h(e,c,r,n)}function H(e){var t=e;if(e>=s)return 0;if(o[e].type===a.HyphenMinus&&e++,o[e].type!==a.LowLine&&o[e].type!==a.Identifier)return 0;for(e++;e<s&&(o[e].type===a.HyphenMinus||o[e].type===a.LowLine||o[e].type===a.Identifier||o[e].type===a.DecimalNumber);e++);return o[t].ident_last=e-1,e-t}function V(){var e=i.IdentType,t=o[l],r=t.ln,n=t.col,a=d(l,o[l].ident_last);return l=o[l].ident_last+1,h(e,a,r,n)}function W(e){var t,r=e;return e>=s||o[e++].type!==a.ExclamationMark?0:((t=ke(e))&&(e+=t),"important"===o[e].value?(o[r].importantEnd=e,e-r+1):0)}function G(){var e=i.ImportantType,t=o[l],r=t.ln,n=t.col,a=d(l,t.importantEnd);return l=t.importantEnd+1,h(e,a,r,n)}function K(e){var t=e,r=void 0;return e>=s?0:(r=function(e){var t=e,r=void 0;if(!(r=X(e)))return 0;for(e+=r;e<s;){var n=ke(e),i=R(e+n);if(!i)break;var a=ke(e+n+i);if(!(r=X(e+n+i+a)))break;e+=n+i+a+r}return o[t].selectorsGroupEnd=e,e-t}(e))?((r=ke(e+=r))&&(e+=r),(r=w(e))?(e+=r)-t:0):0}function Q(){var e=i.RulesetType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(function(){var e=[],t=o[l].selectorsGroupEnd;for(e.push(Y());l<t;)e=e.concat(Se(),N(),Se(),Y());return e}(),Se(),T()),r,n)}function X(e){var t=e,r=void 0;if(e>=s)return 0;if(r=H(e)){var n=p(e,r);if("from"!==n&&"to"!==n)return 0;e+=r,o[t].keyframesSelectorType=1}else{if(!(r=ie(e)))return 0;e+=r,o[t].keyframesSelectorType=2}return e-t}function Y(){var e=i.KeyframesSelectorType,t=i.SelectorType,r=o[l],n=r.ln,a=r.col,s=[];1===r.keyframesSelectorType?s.push(V()):s.push(ae());var c=h(e,s,n,a);return h(t,[c],n,a)}function J(e){return e>=s?0:o[e].number_l?o[e].number_l:e<s&&o[e].type===a.DecimalNumber&&(!o[e+1]||o[e+1]&&o[e+1].type!==a.FullStop)?(o[e].number_l=1,1):e<s&&o[e].type===a.DecimalNumber&&o[e+1]&&o[e+1].type===a.FullStop&&(!o[e+2]||o[e+2].type!==a.DecimalNumber)||e<s&&o[e].type===a.FullStop&&o[e+1].type===a.DecimalNumber?(o[e].number_l=2,2):e<s&&o[e].type===a.DecimalNumber&&o[e+1]&&o[e+1].type===a.FullStop&&o[e+2]&&o[e+2].type===a.DecimalNumber?(o[e].number_l=3,3):0}function Z(){for(var e=i.NumberType,t=o[l],r=t.ln,n=t.col,a=o[l].number_l,s="",c=0;c<a;c++)s+=o[l+c].value;return l+=a,h(e,s,r,n)}function ee(e){if(e>=s)return 0;switch(o[e].type){case a.Solidus:case a.Comma:case a.Colon:case a.EqualsSign:case a.Asterisk:return 1}return 0}function te(){var e=i.OperatorType,t=o[l],r=t.ln,n=t.col,a=t.value;return l++,h(e,a,r,n)}function re(e){if(e>=s)return 0;var t=e,r=o[e].right;if(o[e].type!==a.LeftParenthesis)return 0;if(++e<r){var n=Pe(e);if(!n)return 0;e+=n}return++e-t}function ne(){var e=i.ParenthesesType,t=o[l],r=t.ln,n=t.col,a=t.right,s=[];++l<a&&(s=De());var c=f(s,r,n,1);return l++,h(e,s,r,n,c)}function ie(e){var t,r=e;return e>=s?0:(t=J(e))?(e+=t)>=s||o[e].type!==a.PercentSign?0:++e-r:0}function ae(){var e=i.PercentageType,t=o[l],r=t.ln,n=t.col,a=[Z()],s=f(a,r,n,1);return l++,h(e,a,r,n,s)}function oe(e){var t=e,r=void 0;return e>=s||"progid:DXImageTransform.Microsoft."!==p(e,6)?0:(r=H(e+=6))?((r=ke(e+=r))&&(e+=r),o[e].type!==a.LeftParenthesis?0:(o[t].progid_end=o[e].right,(e=o[e].right+1)-t)):0}function se(){var e=i.ProgidType,t=o[l],r=t.ln,n=t.col,a=t.progid_end,s=d(l,a);return l=a+1,h(e,s,r,n)}function le(e){var t=e,r=void 0;return(r=function(e){var t,r=e;return e>=s?0:(t=H(e))?(e+=t)-r:0}(e))?o[t].propertyType=1:(r=function(e){return ue(e)}(e))&&(o[t].propertyType=2),r}function ce(){var e=o[l].propertyType;return 1===e?function(){var e=i.PropertyType,t=o[l],r=t.ln,n=t.col;return h(e,[V()],r,n)}():2===e?de():void 0}function ue(e){var t,r=e;return e>=s||o[e].type!==a.HyphenMinus||o[e+1]&&o[e+1].type!==a.HyphenMinus?0:(t=H(e+=2))?(e+=t)-r:0}function de(){var e=i.CustomPropertyType,t=o[l],r=t.ln,n=t.col;return l+=2,h(e,[V()],r,n)}function pe(e){return e<s&&o[e].type===a.Colon?1:0}function fe(){var e=i.PropertyDelimType,t=o[l],r=t.ln,n=t.col;return l++,h(e,":",r,n)}function he(e){return ge(e)||ve(e)}function _e(){return ge(l)?me():ve(l)?ye():void 0}function ge(e){var t=void 0;if(e>=s||o[e].type!==a.Colon||e>=s||o[e+1].type!==a.Colon)return 0;if(t=function(e){var t=e,r=void 0;if((e+=2)>=s)return 0;if(!(r=H(e)))return 0;if((e+=r)>=s||o[e].type!==a.LeftParenthesis)return 0;var n=o[e].right;return(r=ke(++e))&&(e+=r),(r=Ke(e))?((r=ke(e+=r))&&(e+=r),e!==n?0:++e-t):0}(e))o[e].pseudoElementType=1;else{if(!(t=function(e){var t,r=e;return(t=H(e+=2))?(e+=t)-r:0}(e)))return 0;o[e].pseudoElementType=2}return t}function me(){var e,t,r,n,a=o[l].pseudoElementType;return 1===a?function(){var e=i.PseudoeType,t=o[l],r=t.ln,n=t.col,a=[];l+=2,a.push(V());var s=i.ArgumentsType,c=o[l],u=c.ln,d=c.col;l++;var p=[].concat(Se(),Qe(),Se()),_=h(s,p,u,d,f(p,u,d,1));return a.push(_),l++,h(e,a,r,n)}():2===a?(e=i.PseudoeType,r=(t=o[l]).ln,n=t.col,l+=2,h(e,[V()],r,n)):void 0}function ve(e){var t=void 0;if(e>=s||o[e].type!==a.Colon)return 0;if(t=function(e){var t=e,r=void 0;if(++e>=s)return 0;if(!(r=H(e)))return 0;if((e+=r)>=s||o[e].type!==a.LeftParenthesis)return 0;var n=o[e].right;return(r=ke(++e))&&(e+=r),(r=Ke(e))?((r=ke(e+=r))&&(e+=r),e!==n?0:++e-t):0}(e))o[e].pseudoClassType=1;else if(t=function(e){var t=e,r=void 0;if(++e>=s)return 0;if(!(r=H(e)))return 0;if((e+=r)>=s||o[e].type!==a.LeftParenthesis)return 0;var n=o[e].right;return(r=ke(++e))&&(e+=r),(r=H(e))?((r=ke(e+=r))&&(e+=r),e!==n?0:++e-t):0}(e))o[e].pseudoClassType=2;else if(t=function(e){var t=e,r=void 0;if(++e>=s)return 0;if(!(r=H(e)))return 0;if((e+=r)>=s||o[e].type!==a.LeftParenthesis)return 0;var n=o[e].right;return(r=ke(++e))&&(e+=r),(r=je(e))&&(e+=r),e>=s?0:(o[e].type===a.DecimalNumber&&e++,e>=s||"n"!==o[e].value?0:((r=ke(++e))&&(e+=r),e>=s||o[e].type!==a.PlusSign&&o[e].type!==a.HyphenMinus?0:((r=ke(++e))&&(e+=r),o[e].type!==a.DecimalNumber?0:((r=ke(++e))&&(e+=r),e!==n?0:++e-t))))}(e))o[e].pseudoClassType=3;else if(t=function(e){var t=e,r=void 0;if(++e>=s)return 0;if(!(r=H(e)))return 0;if((e+=r)>=s)return 0;if(o[e].type!==a.LeftParenthesis)return 0;var n=o[e].right;return(r=ke(++e))&&(e+=r),(r=je(e))&&(e+=r),o[e].type===a.DecimalNumber&&e++,"n"!==o[e].value?0:((r=ke(++e))&&(e+=r),e!==n?0:++e-t)}(e))o[e].pseudoClassType=4;else if(t=function(e){var t=e,r=void 0;if(++e>=s)return 0;if(!(r=H(e)))return 0;if((e+=r)>=s)return 0;if(o[e].type!==a.LeftParenthesis)return 0;var n=o[e].right;return(r=ke(++e))&&(e+=r),(r=je(e))&&(e+=r),o[e].type!==a.DecimalNumber?0:((r=ke(++e))&&(e+=r),e!==n?0:++e-t)}(e))o[e].pseudoClassType=5;else{if(!(t=function(e){var t,r=e;return++e>=s?0:(t=H(e))?(e+=t)-r:0}(e)))return 0;o[e].pseudoClassType=6}return t}function ye(){var e,t,r,n,a=o[l].pseudoClassType;return 1===a?function(){var e=i.PseudocType,t=o[l],r=t.ln,n=t.col,a=[];l++,a.push(V());var s=i.ArgumentsType,c=o[l],u=c.ln,d=c.col;l++;var p=[].concat(Se(),Qe(),Se()),_=h(s,p,u,d,f(p,u,d,1));return a.push(_),l++,h(e,a,r,n)}():2===a?function(){var e=i.PseudocType,t=o[l],r=t.ln,n=t.col,a=[];l++,a.push(V());var s=o[++l].ln,c=o[l].col,u=[].concat(Se(),V(),Se()),d=f(u,s,c,1),p=h(i.ArgumentsType,u,s,c,d);return a.push(p),l++,h(e,a,r,n)}():3===a?function(){var e=i.PseudocType,t=o[l],r=t.ln,n=t.col,a=[];l++,a.push(V());var s=o[l].ln,c=o[l].col,u=[];l++,u=u.concat(Se()),je(l)&&u.push(Ie()),J(l)&&u.push(Z());var d=o[l].ln,p=o[l].col,_=o[l].value,g=h(i.IdentType,_,d,p);u.push(g),l++,u=u.concat(Se()),je(l)&&u.push(Ie()),u=u.concat(Se()),J(l)&&u.push(Z());var m=f(u=u.concat(Se()),s,c,1),v=h(i.ArgumentsType,u,s,c,m);return a.push(v),l++,h(e,a,r,n)}():4===a?function(){var e=i.PseudocType,t=o[l],r=t.ln,n=t.col,a=[];l++,a.push(V());var s=o[l].ln,c=o[l].col,u=[];l++,u=u.concat(Se()),je(l)&&u.push(Ie()),J(l)&&u.push(Z()),H(l)&&u.push(V());var d=f(u=u.concat(Se()),s,c,1),p=h(i.ArgumentsType,u,s,c,d);return a.push(p),l++,h(e,a,r,n)}():5===a?function(){var e=i.PseudocType,t=o[l],r=t.ln,n=t.col,a=[];l++,a.push(V());var s=o[l].ln,c=o[l].col,u=[];l++,u=u.concat(Se()),je(l)&&u.push(Ie()),J(l)&&u.push(Z());var d=f(u=u.concat(Se()),s,c,1),p=h(i.ArgumentsType,u,s,c,d);return a.push(p),l++,h(e,a,r,n)}():6===a?(e=i.PseudocType,r=(t=o[l]).ln,n=t.col,l++,h(e,[V()],r,n)):void 0}function be(e){var t=e,r=void 0;return e>=s?0:(r=Ke(e))?((r=ke(e+=r))&&(e+=r),(r=w(e))?(e+=r)-t:0):0}function we(){var e=i.RulesetType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(Qe(),Se(),T()),r,n)}function Te(e){return e<s&&o[e].ws?o[e].ws_last-e+1:0}function xe(){var e=i.SType,t=o[l],r=t.ln,n=t.col,a=d(l,o[l].ws_last);return l=o[l].ws_last+1,h(e,a,r,n)}function ke(e){if(e>=s)return 0;for(var t=void 0,r=0;e<s;){if(t=Te(e))o[e].sc_child=1;else{if(!(t=E(e)))break;o[e].sc_child=2}e+=t,r+=t}return r||0}function Se(){var e=[];if(l>=s)return e;for(;l<s;){var t=o[l].sc_child;if(1===t)e.push(xe());else{if(2!==t)break;e.push(P())}}return e}function Ce(e){var t,r=e;return e>=s||o[e].type!==a.NumberSign?0:(t=H(++e))?(e+=t)-r:0}function Me(){var e=i.ShashType,t=o[l],r=t.ln,n=t.col;return l++,h(e,[V()],r,n)}function Ae(e){return e>=s?0:o[e].type===a.StringSQ||o[e].type===a.StringDQ?1:0}function Oe(){var e=i.StringType,t=o[l],r=t.ln,n=t.col,a=t.value;return l++,h(e,a,r,n)}function Ee(e){var t=void 0;return(t=We(e))?o[e].tset_child=1:(t=_(e))?o[e].tset_child=2:(t=ke(e))?o[e].tset_child=3:(t=ee(e))&&(o[e].tset_child=4),t}function Pe(e){var t=e,r=void 0;if(e>=s)return 0;for(;r=Ee(e);)e+=r;return o[t].tsets_end=e,e-t}function De(){var e=[],t=void 0;if(l>=s)return e;for(var r,n=o[l].tsets_end;l<n;)"string"==typeof(t=1===(r=o[l].tset_child)?Ge():2===r?g():3===r?Se():4===r?te():void 0).content?e.push(t):e=e.concat(t);return e}function je(e){return e>=s?0:o[e].type===a.HyphenMinus||o[e].type===a.PlusSign?1:0}function Ie(){var e=i.OperatorType,t=o[l],r=t.ln,n=t.col,a=t.value;return l++,h(e,a,r,n)}function Le(e){var t=e,r=void 0;if(e>=s)return 0;if(!(r=Fe(e)))return 0;for(e+=r;e<s;){var n=ke(e),i=R(e+n);if(!i)break;var a=ke(e+n+i);if(!(r=Fe(e+n+i+a)))break;e+=n+i+a+r}return e-t}function Re(){for(var e=i.UnicodeRangeType,t=o[l],r=t.ln,n=t.col,a=[];l<s;)if(ke(l))a=a.concat(Se());else if(R(l))a.push(N());else{if(!Fe(l))break;a.push(qe())}return h(e,a,r,n)}function Ne(){var e=i.IdentType,t=o[l],r=t.ln,n=t.col,a=t.value;return l++,h(e,a,r,n)}function Fe(e){var t=e,r=void 0;if(e>=s)return 0;if("U"!==o[e].value&&"u"!==o[e].value)return 0;if((e+=1)>=s)return 0;if("+"!==o[e].value)return 0;for(e+=1;e<s;)if(r=H(e))e+=r;else if(r=J(e))e+=r;else if(r=je(e))e+=r;else{if(!(r=Ue(e)))break;e+=r}return o[t].urangeEnd=e-1,e-t}function qe(){var e,t=l,r=i.UrangeType,n=o[l],a=n.ln,s=n.col;return e=d(t,o[t].urangeEnd),l=o[t].urangeEnd+1,h(r,e,a,s)}function Ue(e){var t=e;if(e>=s)return 0;for(;e<s&&o[e].type===a.QuestionMark;)e+=1;return e-t}function ze(e){var t=e;return e>=s||"url"!==o[e].value||++e>=s||o[e].type!==a.LeftParenthesis?0:o[e].right-t+1}function Be(){var e=l,t={},r=void 0,n=void 0,c=void 0,u=void 0,p=void 0;l+=2,t[a.Space]=1,t[a.Tab]=1,t[a.Newline]=1,t[a.LeftParenthesis]=1,t[a.RightParenthesis]=1,function(e){var t=e,r=void 0;return e>=s?0:((r=ke(e))&&(e+=r),o[e].type!==a.StringDQ&&o[e].type!==a.StringSQ?0:((r=ke(++e))&&(e+=r),e-t))}(l)?r=[].concat(Se(),Oe(),Se()):(r=ke(l)?Se():[],n=function(e,t){for(var r=t;t<s&&!e[o[t++].type];);return t-r-2}(t,l),u=d(l,l+n),p=o[l],c=h(i.RawType,u,p.ln,p.col),r.push(c),ke(l+=n+1)&&(r=r.concat(Se())));var _=(p=o[e]).ln,g=p.col,m=f(r,_,g,1);return l++,h(i.UriType,r,_,g,m)}function $e(e){for(var t=e,r=void 0,n=void 0;e<s&&(r=Ve(e+(n=ke(e))));)e+=r+n;return o[t].value_end=e,e-t}function He(){for(var e=i.ValueType,t=o[l],r=t.ln,n=t.col,a=o[l].value_end,s=[];l<a;)o[l].value_child?s.push((void 0,1===(c=o[l].value_child)?se():2===c?Ge():3===c?g():4===c?te():5===c?G():void 0)):s=s.concat(Se());var c;return h(e,s,r,n)}function Ve(e){var t=void 0;return(t=oe(e))?o[e].value_child=1:(t=We(e))?o[e].value_child=2:(t=_(e))?o[e].value_child=3:(t=ee(e))?o[e].value_child=4:(t=W(e))&&(o[e].value_child=5),t}function We(e){var t,r=e;return e>=s||o[e].type!==a.NumberSign?0:(t=function(e){return o[e].type===a.Identifier?1:o[e].type!==a.DecimalNumber?0:++e<s&&o[e].type===a.Identifier?2:1}(++e))?(e+=t)-r:0}function Ge(){var e,t=i.VhashType,r=o[l],n=r.ln,c=r.col,u=(e=o[++l].value,o[l++].type===a.DecimalNumber&&l<s&&o[l].type===a.Identifier&&(e+=o[l++].value),e);return h(t,u,n,c,f(u,n,c+1))}function Ke(e){if(e>=s)return 0;var t,r=e,n=0,i=0;if(!(t=Xe(e)))return 0;for(e+=t,n++;e<s;){var a=e,l=e,c=void 0,u=ke(l);if(!(c=R(l+u)))break;i++,(c=ke(l+=u+c))&&(l+=c),(c=Xe(l))&&(l+=c,n++),e+=l-a}return o[r].selectorsGroupEnd=e,o[r].selectorsGroupSelectorCount=n,o[r].selectorsGroupDelimCount=i,e-r}function Qe(){var e=[],t=0,r=0,n=o[l].selectorsGroupEnd,i=o[l].selectorsGroupSelectorCount,a=o[l].selectorsGroupDelimCount;for(e.push(Ye()),t++;l<n;)r<a&&(r++,e=(e=(e=e.concat(Se())).concat(N())).concat(Se()),t<i&&(e=e.concat(Ye()),t++));return e}function Xe(e){if(e>=s)return 0;var t=e,r=void 0;if(!(r=Je(e)))return 0;for(e+=r;e<s;){var n=ke(e),i=A(e+n);if(!n&&!i)break;var a=ke(e+n+i);if(!(r=Je(e+n+i+a)))break;e+=n+i+a+r}return o[t].selectorEnd=e,e-t}function Ye(){for(var e=i.SelectorType,t=o[l],r=t.ln,n=t.col,a=t.selectorEnd,s=Ze();l<a;)s=s.concat(Se()),A(l)&&s.push(O()),s=s.concat(Se(),Ze());return h(e,s,r,n)}function Je(e){var t=void 0;return(t=function(e){if(e>=s)return 0;var t,r=e;if(!(t=et(e)||function(e){if(e>=s)return 0;var t=e,r=void 0;return(r=st(e))&&(e+=r),(r=H(e))?(e+=r)-t:0}(e)))return 0;for(e+=t;e<s;){var n=Ce(e)||C(e)||rt(e)||he(e);if(!n)break;e+=n}return o[r].compoundSelectorEnd=e,e-r}(e))?o[e].compoundSelectorType=1:(t=function(e){if(e>=s)return 0;for(var t=e;e<s;){var r=Ce(e)||C(e)||rt(e)||he(e);if(!r)break;e+=r}return o[t].compoundSelectorEnd=e,e-t}(e))&&(o[e].compoundSelectorType=2),t}function Ze(){var e=o[l].compoundSelectorType;return 1===e?function(){var e,t,r,n,a,s=[],c=o[l].compoundSelectorEnd;for(et(l)?s.push(tt()):s.push((e=i.TypeSelectorType,r=(t=o[l]).ln,n=t.col,a=[],st(l)&&a.push(lt()),a.push(V()),h(e,a,r,n)));l<c;)Ce(l)?s.push(Me()):C(l)?s.push(M()):rt(l)?s.push(nt()):he(l)&&s.push(_e());return s}():2===e?function(){for(var e=[],t=o[l].compoundSelectorEnd;l<t;)if(Ce(l))e.push(Me());else if(C(l))e.push(M());else if(rt(l))e.push(nt());else{if(!he(l))break;e.push(_e())}return e}():void 0}function et(e){if(e>=s)return 0;var t,r=e;return(t=st(e))&&(e+=t),o[e].type!==a.Asterisk?0:++e-r}function tt(){var e=i.UniversalSelectorType,t=o[l],r=t.ln,n=t.col,a=[],s=void 0;return st(l)&&(a.push(lt()),s=f(a,r,n,1)),l++,h(e,a,r,n,s)}function rt(e){var t=void 0;return(t=function(e){var t=e;if(o[e].type!==a.LeftSquareBracket)return 0;var r=void 0;return(r=ke(++e))&&(e+=r),(r=it(e))?((r=ke(e+=r))&&(e+=r),(r=function(e){var t=void 0;return(t=function(e){var t=e,r=o[e].type;return r!==a.Tilde&&r!==a.VerticalLine&&r!==a.CircumflexAccent&&r!==a.DollarSign&&r!==a.Asterisk||o[++e].type!==a.EqualsSign?0:++e-t}(e))?o[e].attributeMatchType=1:(t=function(e){return o[e].type===a.EqualsSign?1:0}(e))&&(o[e].attributeMatchType=2),t}(e))?((r=ke(e+=r))&&(e+=r),(r=function(e){return Ae(e)||H(e)}(e))?((r=ke(e+=r))&&(e+=r),(r=ot(e))&&(r=ke(e+=r))&&(e+=r),o[e].type!==a.RightSquareBracket?0:++e-t):0):0):0}(e))?o[e].attributeSelectorType=1:(t=function(e){var t=e;if(o[e].type!==a.LeftSquareBracket)return 0;var r=void 0;return(r=ke(++e))&&(e+=r),(r=it(e))?((r=ke(e+=r))&&(e+=r),o[e].type!==a.RightSquareBracket?0:++e-t):0}(e))&&(o[e].attributeSelectorType=2),t}function nt(){return 1===o[l].attributeSelectorType?(e=i.AttributeSelectorType,r=(t=o[l]).ln,n=t.col,l++,a=(a=[]).concat(Se(),at(),Se(),1===o[l].attributeMatchType?function(){var e=i.AttributeMatchType,t=o[l],r=t.ln,n=t.col,a=o[l].value+o[l+1].value;return l+=2,h(e,a,r,n)}():function(){var e=i.AttributeMatchType,t=o[l],r=t.ln,n=t.col;return l++,h(e,"=",r,n)}(),Se(),function(){var e=i.AttributeValueType,t=o[l],r=t.ln,n=t.col,a=[];return Ae(l)?a.push(Oe()):a.push(V()),h(e,a,r,n)}(),Se()),ot(l)&&(a.push(function(){var e=i.AttributeFlagsType,t=o[l],r=t.ln,n=t.col;return h(e,[V()],r,n)}()),a=a.concat(Se())),l++,h(e,a,r,n,f(a,r,n,1))):function(){var e=i.AttributeSelectorType,t=o[l],r=t.ln,n=t.col,a=[];return l++,a=a.concat(Se(),at(),Se()),l++,h(e,a,r,n,f(a,r,n,1))}();var e,t,r,n,a}function it(e){var t=e,r=void 0;return(r=st(e))&&(e+=r),(r=H(e))?(e+=r)-t:0}function at(){var e=i.AttributeNameType,t=o[l],r=t.ln,n=t.col,a=[];return st(l)&&a.push(lt()),a.push(V()),h(e,a,r,n)}function ot(e){return H(e)}function st(e){if(e>=s)return 0;var t=void 0;return(t=function(e){var t=e,r=void 0;return(r=function(e){if(e>=s)return 0;var t=void 0;return o[e].type===a.Asterisk?1:(t=H(e))?t:0}(e))?((r=E(e+=r))&&(e+=r),(r=ct(e))?(e+=r)-t:0):0}(e))?o[e].namePrefixType=1:(t=function(e){return ct(e)}(e))&&(o[e].namePrefixType=2),t}function lt(){return 1===o[l].namePrefixType?(e=i.NamePrefixType,r=(t=o[l]).ln,n=t.col,(s=[]).push(function(){var e=i.NamespacePrefixType,t=o[l],r=t.ln,n=t.col,s=[];if(t.type===a.Asterisk){var c=h(i.IdentType,"*",r,n);s.push(c),l++}else H(l)&&s.push(V());return h(e,s,r,n)}()),E(l)&&s.push(P()),s.push(ut()),h(e,s,r,n)):function(){var e=i.NamePrefixType,t=o[l],r=t.ln,n=t.col;return h(e,[ut()],r,n)}();var e,t,r,n,s}function ct(e){return e>=s||o[e].type!==a.VerticalLine||o[e+1]&&o[e+1].type===a.EqualsSign?0:1}function ut(){var e=i.NamespaceSeparatorType,t=o[l],r=t.ln,n=t.col;return l++,h(e,"|",r,n)}e.exports=function(e,t){return s=(o=e).length,l=0,c[t]()}},function(e,t){"use strict";e.exports={ArgumentsType:"arguments",AtkeywordType:"atkeyword",AtruleType:"atrule",AttributeSelectorType:"attributeSelector",AttributeNameType:"attributeName",AttributeFlagsType:"attributeFlags",AttributeMatchType:"attributeMatch",AttributeValueType:"attributeValue",BlockType:"block",BracketsType:"brackets",ClassType:"class",CombinatorType:"combinator",CommentMLType:"multilineComment",CommentSLType:"singlelineComment",ConditionType:"condition",ConditionalStatementType:"conditionalStatement",CustomPropertyType:"customProperty",DeclarationType:"declaration",DeclDelimType:"declarationDelimiter",DefaultType:"default",DelimType:"delimiter",DimensionType:"dimension",EscapedStringType:"escapedString",ExtendType:"extend",ExpressionType:"expression",FunctionType:"function",FunctionsListType:"functionsList",GlobalType:"global",IdentType:"ident",ImportantType:"important",IncludeType:"include",InterpolationType:"interpolation",InterpolatedVariableType:"interpolatedVariable",KeyframesSelectorType:"keyframesSelector",LoopType:"loop",MixinType:"mixin",NamePrefixType:"namePrefix",NamespacePrefixType:"namespacePrefix",NamespaceSeparatorType:"namespaceSeparator",NumberType:"number",OperatorType:"operator",OptionalType:"optional",ParenthesesType:"parentheses",ParentSelectorType:"parentSelector",ParentSelectorExtensionType:"parentSelectorExtension",PercentageType:"percentage",PlaceholderType:"placeholder",ProgidType:"progid",PropertyType:"property",PropertyDelimType:"propertyDelimiter",PseudocType:"pseudoClass",PseudoeType:"pseudoElement",RawType:"raw",RulesetType:"ruleset",SType:"space",SelectorType:"selector",ShashType:"id",StringType:"string",StylesheetType:"stylesheet",TypeSelectorType:"typeSelector",UnicodeRangeType:"unicodeRange",UniversalSelectorType:"universalSelector",UriType:"uri",UrangeType:"urange",ValueType:"value",VariableType:"variable",VariablesListType:"variablesList",VhashType:"color"}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(13),i=[],a=!1,o=0,s=0,l=0,c=1,u=1,d=0,p={" ":n.Space,"\n":n.Newline,"\r":n.Newline,"\t":n.Tab,"!":n.ExclamationMark,'"':n.QuotationMark,"#":n.NumberSign,$:n.DollarSign,"%":n.PercentSign,"&":n.Ampersand,"'":n.Apostrophe,"(":n.LeftParenthesis,")":n.RightParenthesis,"*":n.Asterisk,"+":n.PlusSign,",":n.Comma,"-":n.HyphenMinus,".":n.FullStop,"/":n.Solidus,":":n.Colon,";":n.Semicolon,"<":n.LessThanSign,"=":n.EqualsSign,">":n.GreaterThanSign,"?":n.QuestionMark,"@":n.CommercialAt,"[":n.LeftSquareBracket,"]":n.RightSquareBracket,"^":n.CircumflexAccent,_:n.LowLine,"{":n.LeftCurlyBracket,"|":n.VerticalLine,"}":n.RightCurlyBracket,"~":n.Tilde};function f(e,t,r){i.push({tn:l++,ln:c,col:r,type:e,value:t})}function h(e){return"0123456789".indexOf(e)>=0}function _(e){for(var t=s;s<d&&" "===e.charAt(s);s++);f(n.Space,e.substring(t,s--),u),u+=s-t}function g(e,t){var r=s;for(s++;s<d;s++)if("\\"===e.charAt(s))s++;else if(e.charAt(s)===t)break;f('"'===t?n.StringDQ:n.StringSQ,e.substring(r,s+1),u),u+=s-r}function m(e){for(var t=s;s<d&&h(e.charAt(s));s++);f(n.DecimalNumber,e.substring(t,s--),u),u+=s-t}function v(e){for(var t=s;"/"===e.charAt(s);)s++;for(;s<d;s++)if("\\"===e.charAt(s))s++;else if(p[e.charAt(s)])break;var r=e.substring(t,s--);a=a||"url"===r,f(n.Identifier,r,u),u+=s-t}function y(e){var t=s;for(s+=2;s<d;s++)if("*"===e.charAt(s)&&"/"===e.charAt(s+1)){s++;break}var r=e.substring(t,s+1);f(n.CommentML,r,u);var i=r.split("\n");i.length>1?(c+=i.length-1,u=i[i.length-1].length):u+=s-t}function b(e){var t=s;for(s+=2;s<d&&"\n"!==e.charAt(s)&&"\r"!==e.charAt(s);s++);f(n.CommentSL,e.substring(t,s--),u),u+=s-t}return function(e){var r,n;for(d=e.length,s=0;s<d;u++,s++)r=e.charAt(s),n=e.charAt(s+1),"/"===r&&"*"===n?y(e):a||"/"!==r||"/"!==n?'"'===r||"'"===r?g(e,r):" "===r?_(e):p[r]?(f(p[r],r,u),"\n"===r||"\r"===r?(c++,u=0):")"===r?a=!1:"{"===r?o++:"}"===r?o--:"\t"===r&&t>1&&(u+=t-1)):h(r)?m(e):v(e):o>0?v(e):b(e);return i}(e)}},function(e,t,r){"use strict";t.__esModule=!0,t.default={mark:r(18),parse:r(19),stringify:r(4),tokenizer:r(20)},e.exports=t.default},function(e,t,r){"use strict";var n=r(13);e.exports=function(e){!function(e){for(var t=e.length,r=[],i=[],a=[],o=void 0,s=0;s<t;s++)switch((o=e[s]).type){case n.LeftParenthesis:r.push(s);break;case n.RightParenthesis:r.length&&(o.left=r.pop(),e[o.left].right=s);break;case n.LeftSquareBracket:i.push(s);break;case n.RightSquareBracket:i.length&&(o.left=i.pop(),e[o.left].right=s);break;case n.LeftCurlyBracket:a.push(s);break;case n.RightCurlyBracket:a.length&&(o.left=a.pop(),e[o.left].right=s)}}(e),function(e){for(var t=e.length,r=-1,i=-1,a=void 0,o=0;o<t;o++)switch((a=e[o]).type){case n.Space:case n.Tab:case n.Newline:a.ws=!0,a.sc=!0,-1===r&&(r=o),-1===i&&(i=o);break;case n.CommentML:case n.CommentSL:-1!==r&&(e[r].ws_last=o-1,r=-1),a.sc=!0;break;default:-1!==r&&(e[r].ws_last=o-1,r=-1),-1!==i&&(e[i].sc_last=o-1,i=-1)}-1!==r&&(e[r].ws_last=o-1),-1!==i&&(e[i].sc_last=o-1)}(e)}},function(e,t,r){"use strict";var n=r(1),i=r(15),a=r(13),o=void 0,s=void 0,l=void 0,c={arguments:function(){return m(l)&&v()},atkeyword:function(){return b(l)&&w()},atrule:function(){return T(l)&&x()},attributeSelector:function(){return At(l)&&Ot()},block:function(){return k(l)&&S()},brackets:function(){return M(l)&&A()},class:function(){return O(l)&&E()},combinator:function(){return P(l)&&D()},commentML:function(){return j(l)&&I()},commentSL:function(){return L(l)&&R()},condition:function(){return N(l)&&F()},declaration:function(){return q(l)&&U()},declDelim:function(){return z(l)&&B()},delim:function(){return $(l)&&H()},dimension:function(){return V(l)&&W()},escapedString:function(){return G(l)&&K()},expression:function(){return Q(l)&&X()},extend:function(){return Y(l)&&J()},function:function(){return te(l)&&re()},ident:function(){return ne(l)&&ie()},important:function(){return oe(l)&&se()},include:function(){return le(l)&&ce()},interpolatedVariable:function(){return ue(l)&&de()},mixin:function(){return he(l)&&_e()},namespace:function(){return((c=l)<s&&o[c].type===a.VerticalLine?1:0)&&(e=i.NamespaceType,r=(t=o[l]).ln,n=t.col,l++,h(e,"|",r,n));var e,t,r,n,c},number:function(){return ge(l)&&me()},operator:function(){return ve(l)&&ye()},parentheses:function(){return be(l)&&we()},parentselector:function(){return Te(l)&&xe()},percentage:function(){return Me(l)&&Ae()},progid:function(){return Oe(l)&&Ee()},property:function(){return Pe(l)&&De()},propertyDelim:function(){return je(l)&&Ie()},pseudoc:function(){return qe(l)&&Ue()},pseudoe:function(){return Ne(l)&&Fe()},ruleset:function(){return ze(l)&&Be()},s:function(){return $e(l)&&He()},selector:function(){return wt(l)&&Tt()},shash:function(){return Ge(l)&&Ke()},string:function(){return Qe(l)&&Xe()},stylesheet:function(){return function(e){for(var t=e,r=void 0;e<s;)(r=Ve(e)||ze(e)||q(e)||z(e)||T(e)||he(e))?e+=r:u(e);return e-t}(l)&&function(){for(var e=i.StylesheetType,t=o[l],r=t.ln,n=t.col,a=[];l<s;)Ve(l)?a=a.concat(We()):ze(l)?a.push(Be()):q(l)?a.push(U()):z(l)?a.push(B()):T(l)?a.push(x()):he(l)?a.push(_e()):u(l);return h(e,a,r,n)}()},unary:function(){return et(l)&&tt()},unicodeRange:function(){return rt(l)&&nt()},universalSelector:function(){return St(l)&&Ct()},urange:function(){return at(l)&&ot()},uri:function(){return lt(l)&&ct()},value:function(){return ut(l)&&dt()},variable:function(){return ft(l)&&ht()},variableslist:function(){return _t(l)&&gt()},vhash:function(){return mt(l)&&vt()}};function u(e){throw{line:o[e].ln,syntax:"less"}}function d(e,t){for(var r="",n=e;n<t+1;n++)r+=o[n].value;return r}function p(e,t){if(!(e+t-1>=s)){for(var r="",n=0;n<t;n++)r+=o[e+n].value;return r}}function f(e,t,r,n){return"string"==typeof e?function(e,t,r,n){var i=[];if(!e)return i=[t,r],n&&(i[1]+=n-1),i;var a=e.lastIndexOf("\n"),o=a===e.length-1,s=e.split("\n"),l=s.length-1,c=0===l||1===l?-1:e.length-s[l-1].length-2,u=o?l-1:l;return i[0]=t+u,u=o?-1!==c?e.length-c:e.length-1:0!==l?e.length-a-r-1:e.length-1,i[1]=r+u,n?(o?(i[0]++,i[1]=n):i[1]+=n,i):i}(e,t,r,n):function(e,t,r,n){var i=void 0;if(0===e.length)i=[t,r];else{var a=e[e.length-1];i=a.hasOwnProperty("end")?[a.end.line,a.end.column]:f(a.content,t,r)}return n?(o[l-1]&&"Newline"!==o[l-1].type?i[1]+=n:(i[0]++,i[1]=1),i):i}(e,t,r,n)}function h(e,t,r,i,a){return a||(a=f(t,r,i)),new n({type:e,content:t,start:{line:r,column:i},end:{line:a[0],column:a[1]},syntax:"less"})}function _(e){var t=void 0;return(t=M(e))?o[e].any_child=1:(t=be(e))?o[e].any_child=2:(t=Qe(e))?o[e].any_child=3:(t=_t(e))?o[e].any_child=4:(t=ft(e))?o[e].any_child=5:(t=Me(e))?o[e].any_child=6:(t=V(e))?o[e].any_child=7:(t=rt(e))?o[e].any_child=15:(t=ge(e))?o[e].any_child=8:(t=lt(e))?o[e].any_child=9:(t=Q(e))?o[e].any_child=10:(t=te(e))?o[e].any_child=11:(t=ne(e))?o[e].any_child=12:(t=O(e))?o[e].any_child=13:(t=et(e))&&(o[e].any_child=14),t}function g(){var e=o[l].any_child;return 1===e?A():2===e?we():3===e?Xe():4===e?gt():5===e?ht():6===e?Ae():7===e?W():15===e?nt():8===e?me():9===e?ct():10===e?X():11===e?re():12===e?ie():13===e?E():14===e?tt():void 0}function m(e){var t=e,r=void 0;if(e>=s||o[e].type!==a.LeftParenthesis)return 0;for(e++;e<o[t].right;){if(!(r=y(e)))return 0;e+=r}return o[t].right-t+1}function v(){var e,t=i.ArgumentsType,r=o[l],n=r.ln,c=r.col,d=[],p=void 0;for(l++;l<s&&o[l].type!==a.RightParenthesis;)q(l)?d.push(U()):y(l)?"string"==typeof(void 0,e=o[l].argument_child,p=1===e?K():2===e?U():3===e?gt():4===e?ht():5===e?We():6===e?tt():7===e?ye():8===e?H():9===e?B():10===e?Xe():11===e?Ae():12===e?W():13===e?me():14===e?ct():15===e?re():16===e?ie():17===e?vt():18===e?S():19===e?we():void 0).content?d.push(p):d=d.concat(p):O(l)?d.push(E()):u(l);var _=f(d,n,c,1);return l++,h(t,d,n,c,_)}function y(e){var t=void 0;return(t=G(e))?o[e].argument_child=1:(t=q(e))?o[e].argument_child=2:(t=_t(e))?o[e].argument_child=3:(t=ft(e))?o[e].argument_child=4:(t=Ve(e))?o[e].argument_child=5:(t=et(e))?o[e].argument_child=6:(t=ve(e))?o[e].argument_child=7:(t=$(e))?o[e].argument_child=8:(t=z(e))?o[e].argument_child=9:(t=Qe(e))?o[e].argument_child=10:(t=Me(e))?o[e].argument_child=11:(t=V(e))?o[e].argument_child=12:(t=ge(e))?o[e].argument_child=13:(t=lt(e))?o[e].argument_child=14:(t=te(e))?o[e].argument_child=15:(t=ne(e))?o[e].argument_child=16:(t=mt(e))?o[e].argument_child=17:(t=k(e))?o[e].argument_child=18:(t=be(e))&&(o[e].argument_child=19),t}function b(e){var t;return e>=s||o[e++].type!==a.CommercialAt?0:(t=ne(e))?t+1:0}function w(){var e=i.AtkeywordType,t=o[l],r=t.ln,n=t.col;return l++,h(e,[ie()],r,n)}function T(e){var t=void 0;if(e>=s)return 0;if(void 0!==o[e].atrule_l)return o[e].atrule_l;if(t=function(e){var t=e,r=void 0;return e>=s?0:(r=b(e))?-1===p((e+=r)-r,r).toLowerCase().indexOf("keyframes")?0:(r=Ve(e))&&(r=ne(e+=r))?((r=Ve(e+=r))&&(e+=r),(r=function(e){var t=e,r=void 0;if(!(e<s&&o[e].type===a.LeftCurlyBracket))return 0;if((r=Ve(++e))&&(e+=r),!(r=pe(e)))return 0;for(e+=r;o[e].type!==a.RightCurlyBracket;)if(r=Ve(e))e+=r;else{if(!(r=pe(e)))break;e+=r}return e<s&&o[e].type===a.RightCurlyBracket?++e-t:0}(e))?(e+=r)-t:0):0:0}(e))o[e].atrule_type=4;else if(t=function(e){var t=e,r=void 0;return e>=s?0:(r=b(e))?((r=Je(e+=r))&&(e+=r),e<s&&o[e].type===a.LeftCurlyBracket?((r=function(e){var t=e,r=void 0;if(e>=s)return 0;for((r=Ve(e))&&(e+=r);e<s;){if(r=Ve(e))o[e].atrulers_child=1;else if(r=T(e))o[e].atrulers_child=2;else{if(!(r=ze(e)))break;o[e].atrulers_child=3}e+=r}return e<s&&(o[e].atrulers_end=1),(r=Ve(e))&&(e+=r),e-t}(++e))&&(e+=r),e<s&&o[e].type===a.RightCurlyBracket?++e-t:0):0):0}(e))o[e].atrule_type=1;else if(t=function(e){var t=e,r=void 0;return e>=s?0:(r=b(e))?((r=Je(e+=r))&&(e+=r),(r=k(e))?(e+=r)-t:0):0}(e))o[e].atrule_type=2;else{if(!(t=function(e){var t=e,r=void 0;return e>=s?0:(r=b(e))?((r=Je(e+=r))&&(e+=r),e-t):0}(e)))return 0;o[e].atrule_type=3}return o[e].atrule_l=t,t}function x(){var e,t,r,n,a,c=o[l].atrule_type;return 1===c?(e=i.AtruleType,r=(t=o[l]).ln,n=t.col,a=[].concat(w(),Ze(),function(){var e=i.BlockType,t=o[l],r=t.ln,n=t.col,a=[];for(l++,a=a.concat(We());l<s&&!o[l].atrulers_end;){var c=o[l].atrulers_child;if(1===c)a=a.concat(We());else if(2===c)a.push(x());else{if(3!==c)break;a.push(Be())}}var u=f(a=a.concat(We()),r,n,1);return l++,h(e,a,r,n,u)}()),h(e,a,r,n)):2===c?function(){var e=i.AtruleType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(w(),Ze(),S()),r,n)}():3===c?function(){var e=i.AtruleType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(w(),Ze()),r,n)}():4===c?function(){var e=i.AtruleType,t=o[l],r=t.ln,n=t.col,a=[].concat(w(),We(),ie(),We(),function(){var e=i.BlockType,t=o[l],r=t.ln,n=t.col,a=t.right,s=[];for(l++;l<a;)Ve(l)?s=s.concat(We()):pe(l)&&s.push(fe());var c=f(s,r,n,1);return l++,h(e,s,r,n,c)}());return h(e,a,r,n)}():void 0}function k(e){return e<s&&o[e].type===a.LeftCurlyBracket?o[e].right-e+1:0}function S(){var e,t=i.BlockType,r=o[l],n=r.ln,a=r.col,s=o[l].right,c=[];for(l++;l<s;)C(l)?c=c.concat((void 0,1===(e=o[l].bd_type)?function(){var e=We(),t=void 0;switch(o[l].bd_kind){case 1:t=F();break;case 2:t=Be();break;case 3:t=U();break;case 4:t=x();break;case 5:t=ce();break;case 6:t=J()}return e.concat(t,B(),We())}():2===e?function(){var e=We(),t=void 0;switch(o[l].bd_kind){case 1:t=F();break;case 2:t=ce();break;case 3:t=J();break;case 4:t=U();break;case 5:t=x();break;case 6:t=Be()}return e.concat(t,We())}():3===e?[].concat(We(),B(),We()):4===e?We():void 0)):u(l);var d=f(c,n,a,1);return l=s+1,h(t,c,n,a,d)}function C(e){var t=void 0;if(e>=s)return 0;if(t=function(e){var t=e,r=void 0;if((r=Ve(e))&&(e+=r),r=N(e))o[e].bd_kind=1;else if(r=Y(e))o[e].bd_kind=6;else if(r=ze(e))o[e].bd_kind=2;else if(r=q(e))o[e].bd_kind=3;else if(r=T(e))o[e].bd_kind=4;else{if(!(r=le(e)))return 0;o[e].bd_kind=5}return(e+=r)<s&&(r=z(e))&&(r=Ve(e+=r))?(e+=r)-t:0}(e))o[e].bd_type=1;else if(t=function(e){var t=e,r=void 0;if((r=Ve(e))&&(e+=r),r=N(e))o[e].bd_kind=1;else if(r=Y(e))o[e].bd_kind=3;else if(r=ze(e))o[e].bd_kind=6;else if(r=q(e))o[e].bd_kind=4;else if(r=T(e))o[e].bd_kind=5;else{if(!(r=le(e)))return 0;o[e].bd_kind=2}return(r=Ve(e+=r))&&(e+=r),e-t}(e))o[e].bd_type=2;else if(t=function(e){var t=e,r=void 0;return(r=Ve(e))&&(e+=r),(r=z(e))?((r=Ve(e+=r))&&(e+=r),e-t):0}(e))o[e].bd_type=3;else{if(!(t=function(e){return Ve(e)}(e)))return 0;o[e].bd_type=4}return t}function M(e){if(e>=s)return 0;var t=e;if(o[e].type!==a.LeftSquareBracket)return 0;if(++e<o[t].right){var r=Je(e);if(!r)return 0;e+=r}return++e-t}function A(){var e=i.BracketsType,t=o[l],r=t.ln,n=t.col,a=t.right,s=[];++l<a&&(s=Ze());var c=f(s,r,n,1);return l++,h(e,s,r,n,c)}function O(e){var t=void 0;if(e>=s)return 0;if(o[e].class_l)return o[e].class_l;if(o[e++].type===a.FullStop){if(t=ue(e))o[e].class_child=1;else{if(!(t=ne(e)))return 0;o[e].class_child=2}return o[e].class_l=t+1,t+1}return 0}function E(){var e=i.ClassType,t=o[l],r=t.ln,n=t.col,a=[];return 1===o[++l].class_child?a.push(de()):a.push(ie()),h(e,a,r,n)}function P(e){if(e>=s)return 0;var t=void 0;return(t=function(e){return e<s&&o[e++].type===a.GreaterThanSign&&e<s&&o[e++].type===a.GreaterThanSign&&e<s&&o[e++].type===a.GreaterThanSign?3:0}(e))?o[e].combinatorType=1:(t=function(e){return e+1>=s?0:o[e].type===a.VerticalLine&&o[e+1].type===a.VerticalLine||o[e].type===a.GreaterThanSign&&o[e+1].type===a.GreaterThanSign?2:0}(e))?o[e].combinatorType=2:(t=function(e){var t=o[e].type;return t===a.PlusSign||t===a.GreaterThanSign||t===a.Tilde?1:0}(e))?o[e].combinatorType=3:(t=function(e){var t,r=e;return o[e].type!==a.Solidus?0:(t=ne(++e))?o[e+=t].type!==a.Solidus?0:++e-r:0}(e))&&(o[e].combinatorType=4),t}function D(){var e=o[l].combinatorType;return 1===e?function(){var e=i.CombinatorType,t=o[l],r=t.ln,n=t.col;return l+=3,h(e,">>>",r,n)}():2===e?function(){var e=i.CombinatorType,t=o[l],r=t.ln,n=t.col,a=""+t.value+o[l+1].value;return l+=2,h(e,a,r,n)}():3===e?function(){var e=i.CombinatorType,t=o[l],r=t.ln,n=t.col,a=t.value;return l++,h(e,a,r,n)}():4===e?function(){var e=i.CombinatorType,t=o[l],r=t.ln,n=t.col;l++;var a=ie();return l++,h(e,"/"+a.content+"/",r,n)}():void 0}function j(e){return e<s&&o[e].type===a.CommentML?1:0}function I(){var e=i.CommentMLType,t=o[l],r=t.ln,n=t.col,a=o[l].value.substring(2),s=a.length;"*"===a.charAt(s-2)&&"/"===a.charAt(s-1)&&(a=a.substring(0,s-2));var c=f(a,r,n,2);return c[0]===r&&(c[1]+=2),l++,h(e,a,r,n,c)}function L(e){return e<s&&o[e].type===a.CommentSL?1:0}function R(){var e=i.CommentSLType,t=o[l],r=t.ln,n=t.col,a=o[l++].value.substring(2);return h(e,a,r,n,f(a,r,n+2))}function N(e){var t=e,r=void 0;if(e>=s)return 0;if(!(r=ne(e))||"when"!==o[e].value)return 0;for(e+=r;e<s;){if(r=k(e)){o[e].condition_child=0;break}if(r=te(e))o[e].condition_child=1;else if(r=M(e))o[e].condition_child=2;else if(r=be(e))o[e].condition_child=3;else if(r=ft(e))o[e].condition_child=4;else if(r=ne(e))o[e].condition_child=5;else if(r=ge(e))o[e].condition_child=6;else if(r=$(e))o[e].condition_child=7;else if(r=ve(e))o[e].condition_child=8;else if(r=P(e))o[e].condition_child=9;else if(r=Ve(e))o[e].condition_child=10;else{if(!(r=Qe(e)))return 0;o[e].condition_child=11}e+=r}return e-t}function F(){var e=i.ConditionType,t=o[l],r=t.ln,n=t.col,a=[];for(a.push(ie());l<s;){var c=o[l].condition_child;if(0===c)break;1===c?a.push(re()):2===c?a.push(A()):3===c?a.push(we()):4===c?a.push(ht()):5===c?a.push(ie()):6===c?a.push(me()):7===c?a.push(H()):8===c?a.push(ye()):9===c?a.push(D()):10===c?a=a.concat(We()):11===c&&a.push(Xe())}return h(e,a,r,n)}function q(e){var t=e,r=void 0;return e>=s?0:(r=Pe(e))?((r=Ve(e+=r))&&(e+=r),(r=je(e))?((r=Ve(++e))&&(e+=r),(r=ut(e))?(e+=r)-t:0):0):0}function U(){var e=i.DeclarationType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(De(),We(),Ie(),We(),dt()),r,n)}function z(e){return e<s&&o[e].type===a.Semicolon?1:0}function B(){var e=i.DeclDelimType,t=o[l],r=t.ln,n=t.col;return l++,h(e,";",r,n)}function $(e){return e<s&&o[e].type===a.Comma?1:0}function H(){var e=i.DelimType,t=o[l],r=t.ln,n=t.col;return l++,h(e,",",r,n)}function V(e){var t,r=ge(e);return e>=s||!r||e+r>=s?0:(t=function(e){return-1!==["em","ex","ch","rem","vh","vw","vmin","vmax","px","mm","q","cm","in","pt","pc","deg","grad","rad","turn","s","ms","Hz","kHz","dpi","dpcm","dppx"].indexOf(o[e].value)?1:0}(e+r))?r+t:0}function W(){var e=i.DimensionType,t=o[l],r=t.ln,n=t.col;return h(e,[me(),it()],r,n)}function G(e){var t=e,r=void 0;return e>=s?0:o[e].type===a.Tilde&&(r=Qe(e+1))?e+r-t:0}function K(){var e=i.EscapedStringType,t=o[l],r=t.ln,n=t.col,a=o[++l].value,s=f(a,r,n+1);return l++,h(e,a,r,n,s)}function Q(e){var t=e;return e>=s||"expression"!==o[e++].value||e>=s||o[e].type!==a.LeftParenthesis?0:o[e].right-t+1}function X(){var e=i.ExpressionType,t=o[l],r=t.ln,n=t.col,a=d(1+ ++l,o[l].right-1),s=f(a,r,n,1);return s[0]===r&&(s[1]+=11),l=o[l].right+1,h(e,a,r,n,s)}function Y(e){if(e>=s)return 0;var t=void 0;if(t=function(e){var t=e,r=void 0;return e>=s?0:(r=Z(e))&&o[(e+=r)+1]&&"extend"===o[e+1].value&&(r=qe(e))?((r=Ve(e+=r))&&(e+=r),(r=k(e))?(e+=r)-t:0):0}(e))o[e].extendType=1;else{if(!(t=function(e){var t=e,r=void 0;return e>=s?0:(r=Z(e))&&o[(e+=r)+1]&&"extend"===o[e+1].value&&(r=qe(e))?(e+=r)-t:0}(e)))return 0;o[e].extendType=2}return t}function J(){var e,t,r,n,a=o[l].extendType;return 1===a?(e=i.ExtendType,r=(t=o[l]).ln,n=t.col,h(e,[].concat(ee(),Ue(),We(),S()),r,n)):2===a?function(){var e=i.ExtendType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(ee(),Ue()),r,n)}():void 0}function Z(e){var t=void 0;return(t=Se(e))?o[e].extend_type=1:(t=ne(e))?o[e].extend_type=2:(t=O(e))?o[e].extend_type=3:(t=Ge(e))&&(o[e].extend_type=4),t}function ee(){var e=o[l].extend_type;return 1===e?Ce():2===e?[ie()]:3===e?[E()]:4===e?[Ke()]:void 0}function te(e){var t,r=e;return e>=s?0:(t=ne(e))&&(e+=t)<s&&o[e].type===a.LeftParenthesis?o[e].right-r+1:0}function re(){var e=i.FunctionType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(ie(),v()),r,n)}function ne(e){var t=e;if(e>=s)return 0;if(o[e].type===a.HyphenMinus&&e++,o[e].type!==a.LowLine&&o[e].type!==a.Identifier)return 0;for(e++;e<s&&(o[e].type===a.HyphenMinus||o[e].type===a.LowLine||o[e].type===a.Identifier||o[e].type===a.DecimalNumber);e++);return o[t].ident_last=e-1,e-t}function ie(){var e=i.IdentType,t=o[l],r=t.ln,n=t.col,a=d(l,o[l].ident_last);return l=o[l].ident_last+1,h(e,a,r,n)}function ae(e){var t=e;if(e>=s)return 0;for(;e<s&&(o[e].type===a.HyphenMinus||o[e].type===a.LowLine||o[e].type===a.Identifier||o[e].type===a.DecimalNumber);e++);return o[t].ident_last=e-1,e-t}function oe(e){var t,r=e;return e>=s||o[e++].type!==a.ExclamationMark?0:((t=Ve(e))&&(e+=t),"important"===o[e].value?(o[r].importantEnd=e,e-r+1):0)}function se(){var e=o[l],t=e.ln,r=e.col,n=d(l,e.importantEnd);return l=e.importantEnd+1,h(i.ImportantType,n,t,r)}function le(e){var t=void 0;return e>=s?0:((t=function(e){var t=e,r=void 0;if(!(r=O(e)||Ge(e)))return 0;for(e+=r;e<s;)if(r=O(e)||Ge(e)||Ve(e))e+=r;else{if(o[e].type!==a.GreaterThanSign)break;e++}return(r=m(e))?((e+=r)<s&&(r=Ve(e))&&(e+=r),e<s&&(r=oe(e))&&(e+=r),e-t):0}(e))?o[e].include_type=1:(t=function(e){var t=e,r=void 0;if(!(r=O(e)||Ge(e)))return 0;for(e+=r;e<s;)if(r=O(e)||Ge(e)||Ve(e))e+=r;else{if(o[e].type!==a.GreaterThanSign)break;e++}return e-t}(e))&&(o[e].include_type=2),t)}function ce(){var e=o[l].include_type;return 1===e?function(){var e=i.IncludeType,t=o[l],r=t.ln,n=t.col,a=[];for(a.push(O(l)?E():Ke());l<s;)if(O(l))a.push(E());else if(Ge(l))a.push(Ke());else if(Ve(l))a=a.concat(We());else{if(!ve(l))break;a.push(ye())}return a.push(v()),a=a.concat(We()),oe(l)&&a.push(se()),h(e,a,r,n)}():2===e?function(){var e=i.IncludeType,t=o[l],r=t.ln,n=t.col,a=[];for(a.push(O(l)?E():Ke());l<s;)if(O(l))a.push(E());else if(Ge(l))a.push(Ke());else if(Ve(l))a=a.concat(We());else{if(!ve(l))break;a.push(ye())}return h(e,a,r,n)}():void 0}function ue(e){var t,r=e;return e>=s?0:o[e].type===a.CommercialAt&&o[e+1]&&o[e+1].type===a.LeftCurlyBracket&&(t=ne(e+=2))&&o[e+=t].type===a.RightCurlyBracket?e-r+1:0}function de(){var e=i.InterpolatedVariableType,t=o[l],r=t.ln,n=t.col,a=[];l+=2,a.push(ie());var s=f(a,r,n,1);return l++,h(e,a,r,n,s)}function pe(e){var t=e,r=void 0;return e>=s?0:(r=function(e){var t=e,r=void 0;if(e>=s)return 0;if(r=ne(e)){var n=p(e,r);if("from"!==n&&"to"!==n)return 0;e+=r,o[t].keyframesSelectorType=1}else{if(!(r=Me(e)))return 0;e+=r,o[t].keyframesSelectorType=2}return e-t}(e))?((r=Ve(e+=r))&&(e+=r),(r=k(e))?(e+=r)-t:0):0}function fe(){var e=i.RulesetType,t=o[l],r=t.ln,n=t.col,a=[].concat(function(){var e=i.KeyframesSelectorType,t=i.SelectorType,r=o[l],n=r.ln,a=r.col,s=[];1===r.keyframesSelectorType?s.push(ie()):s.push(Ae());var c=h(e,s,n,a);return h(t,[c],n,a)}(),We(),S());return h(e,a,r,n)}function he(e){var t=void 0;if(e>=s)return 0;if(t=function(e){var t=e,r=void 0;return e>=s?0:(r=O(e)||Ge(e))?((r=Ve(e+=r))&&(e+=r),(r=m(e))&&(e+=r),(r=Ve(e))&&(e+=r),(r=k(e))?(e+=r)-t:0):0}(e))o[e].mixin_type=1;else{if(!(t=function(e){var t=e,r=void 0;return e>=s?0:(r=O(e)||Ge(e))?((r=Ve(e+=r))&&(e+=r),(r=m(e))&&(e+=r),e-t):0}(e)))return 0;o[e].mixin_type=2}return t}function _e(){var e=o[l].mixin_type;return 1===e?function(){var e=i.MixinType,t=o[l],r=t.ln,n=t.col,a=[];return a.push(O(l)?E():Ke()),a=a.concat(We()),m(l)&&a.push(v()),a=a.concat(We()),k(l)&&a.push(S()),h(e,a,r,n)}():2===e?function(){var e=i.MixinType,t=o[l],r=t.ln,n=t.col,a=[];return a.push(O(l)?E():Ke()),a=a.concat(We()),m(l)&&a.push(v()),h(e,a,r,n)}():void 0}function ge(e){return e>=s?0:o[e].number_l?o[e].number_l:e<s&&o[e].type===a.DecimalNumber&&(!o[e+1]||o[e+1]&&o[e+1].type!==a.FullStop)?(o[e].number_l=1,1):e<s&&o[e].type===a.DecimalNumber&&o[e+1]&&o[e+1].type===a.FullStop&&(!o[e+2]||o[e+2].type!==a.DecimalNumber)||e<s&&o[e].type===a.FullStop&&o[e+1].type===a.DecimalNumber?(o[e].number_l=2,2):e<s&&o[e].type===a.DecimalNumber&&o[e+1]&&o[e+1].type===a.FullStop&&o[e+2]&&o[e+2].type===a.DecimalNumber?(o[e].number_l=3,3):0}function me(){for(var e=i.NumberType,t=o[l],r=t.ln,n=t.col,a=o[l].number_l,s="",c=0;c<a;c++)s+=o[l+c].value;return l+=a,h(e,s,r,n)}function ve(e){if(e>=s)return 0;switch(o[e].type){case a.Solidus:case a.Comma:case a.Colon:case a.EqualsSign:case a.LessThanSign:case a.GreaterThanSign:case a.Asterisk:return 1}return 0}function ye(){var e=i.OperatorType,t=o[l],r=t.ln,n=t.col,a=t.value;return l++,h(e,a,r,n)}function be(e){if(e>=s)return 0;var t=e,r=o[e].right;if(o[e].type!==a.LeftParenthesis)return 0;if(++e<r){var n=Je(e);if(!n)return 0;e+=n}return++e-t}function we(){var e=i.ParenthesesType,t=o[l],r=t.ln,n=t.col,a=t.right,s=[];++l<a&&(s=Ze());var c=f(s,r,n,1);return l++,h(e,s,r,n,c)}function Te(e){return e<s&&o[e].type===a.Ampersand?1:0}function xe(){var e=i.ParentSelectorType,t=o[l],r=t.ln,n=t.col;return l++,h(e,"&",r,n)}function ke(e){var t=e,r=void 0;if(e>=s)return 0;for(;e<s&&(r=ge(e)||ae(e));)e+=r;return e-t}function Se(e){var t=e,r=void 0;return e>=s?0:(r=Te(e))?((r=ke(e+=r))&&(e+=r),e-t):0}function Ce(){var e=[xe()];return ke(l)&&e.push(function(){for(var e=i.ParentSelectorExtensionType,t=o[l],r=t.ln,n=t.col,a=[];l<s;)if(ge(l))a.push(me());else{if(!ae(l))break;a.push(ie())}return h(e,a,r,n)}()),e}function Me(e){var t,r=e;return e>=s?0:(t=ge(e))?(e+=t)>=s||o[e].type!==a.PercentSign?0:++e-r:0}function Ae(){var e=i.PercentageType,t=o[l],r=t.ln,n=t.col,a=[me()],s=f(a,r,n,1);return l++,h(e,a,r,n,s)}function Oe(e){var t=e,r=void 0;return e>=s||"progid:DXImageTransform.Microsoft."!==p(e,6)?0:(r=ne(e+=6))?((r=Ve(e+=r))&&(e+=r),o[e].type!==a.LeftParenthesis?0:(o[t].progid_end=o[e].right,(e=o[e].right+1)-t)):0}function Ee(){var e=i.ProgidType,t=o[l],r=t.ln,n=t.col,a=t.progid_end,s=d(l,a);return l=a+1,h(e,s,r,n)}function Pe(e){var t,r=e;return e>=s?0:(t=ft(e)||ne(e))?(e+=t)-r:0}function De(){var e=i.PropertyType,t=o[l],r=t.ln,n=t.col,a=[];return ft(l)?a.push(ht()):a.push(ie()),h(e,a,r,n)}function je(e){return e<s&&o[e].type===a.Colon?1:0}function Ie(){var e=i.PropertyDelimType,t=o[l],r=t.ln,n=t.col;return l++,h(e,":",r,n)}function Le(e){return Ne(e)||qe(e)}function Re(){return Ne(l)?Fe():qe(l)?Ue():void 0}function Ne(e){var t=void 0;if(e>=s||o[e].type!==a.Colon||e+1>=s||o[e+1].type!==a.Colon)return 0;if(t=function(e){var t=e,r=void 0;if((e+=2)>=s)return 0;if(!(r=ne(e)))return 0;if((e+=r)>=s||o[e].type!==a.LeftParenthesis)return 0;var n=o[e].right;return(r=Ve(++e))&&(e+=r),(r=yt(e))?((r=Ve(e+=r))&&(e+=r),e!==n?0:++e-t):0}(e))o[e].pseudoElementType=1;else{if(!(t=function(e){var t,r=e;return(t=ue(e+=2)||ne(e))?(e+=t)-r:0}(e)))return 0;o[e].pseudoElementType=2}return t}function Fe(){var e,t,r,n,a,s=o[l].pseudoElementType;return 1===s?function(){var e=i.PseudoeType,t=o[l],r=t.ln,n=t.col,a=[];l+=2,a.push(ie());var s=i.ArgumentsType,c=o[l],u=c.ln,d=c.col;l++;var p=[].concat(We(),bt(),We()),_=h(s,p,u,d,f(p,u,d,1));return a.push(_),l++,h(e,a,r,n)}():2===s?(e=i.PseudoeType,r=(t=o[l]).ln,n=t.col,a=[],ue(l+=2)?a.push(de()):a.push(ie()),h(e,a,r,n)):void 0}function qe(e){var t=void 0;if(e>=s||o[e].type!==a.Colon)return 0;if(t=function(e){var t=e,r=0;if(++e>=s)return 0;if(!(r=ne(e)))return 0;if((e+=r)>=s||o[e].type!==a.LeftParenthesis)return 0;var n=o[e].right;return(r=Ve(++e))&&(e+=r),(r=et(e))&&(e+=r),e>=s?0:(o[e].type===a.DecimalNumber&&e++,e>=s||"n"!==o[e].value?0:((r=Ve(++e))&&(e+=r),e>=s||"+"!==o[e].value&&"-"!==o[e].value?0:((r=Ve(++e))&&(e+=r),o[e].type!==a.DecimalNumber?0:((r=Ve(++e))&&(e+=r),e!==n?0:++e-t))))}(e))o[e].pseudoClassType=3;else if(t=function(e){var t=e,r=0;if(++e>=s)return 0;if(!(r=ne(e)))return 0;if((e+=r)>=s)return 0;if(o[e].type!==a.LeftParenthesis)return 0;var n=o[e].right;return(r=Ve(++e))&&(e+=r),(r=et(e))&&(e+=r),o[e].type===a.DecimalNumber&&e++,"n"!==o[e].value?0:((r=Ve(++e))&&(e+=r),e!==n?0:++e-t)}(e))o[e].pseudoClassType=4;else if(t=function(e){var t=e,r=0;if(++e>=s)return 0;if(!(r=ne(e)))return 0;if((e+=r)>=s)return 0;if(o[e].type!==a.LeftParenthesis)return 0;var n=o[e].right;return(r=Ve(++e))&&(e+=r),(r=et(e))&&(e+=r),o[e].type!==a.DecimalNumber?0:((r=Ve(++e))&&(e+=r),e!==n?0:++e-t)}(e))o[e].pseudoClassType=5;else if(t=function(e){var t=e,r=void 0;if(++e>=s)return 0;if(!(r=ne(e)))return 0;if((e+=r)>=s||o[e].type!==a.LeftParenthesis)return 0;var n=o[e].right;return(r=Ve(++e))&&(e+=r),(r=yt(e))?((r=Ve(e+=r))&&(e+=r),e!==n?0:++e-t):0}(e))o[e].pseudoClassType=1;else if(t=function(e){var t=e,r=0;if(++e>=s)return 0;if(!(r=ne(e)))return 0;if((e+=r)>=s||o[e].type!==a.LeftParenthesis)return 0;var n=o[e].right;return(r=Ve(++e))&&(e+=r),(r=ne(e))?((r=Ve(e+=r))&&(e+=r),e!==n?0:++e-t):0}(e))o[e].pseudoClassType=2;else{if(!(t=function(e){var t=e,r=0;if(++e>=s)return 0;if(r=ue(e))e+=r;else{if(!(r=ne(e)))return 0;e+=r}return e-t}(e)))return 0;o[e].pseudoClassType=6}return t}function Ue(){var e,t,r,n,a,s,c=o[l].pseudoClassType;return 1===c?function(){var e=i.PseudocType,t=o[l],r=t.ln,n=t.col,a=[];l++,a.push(ie());var s=i.ArgumentsType,c=o[l],u=c.ln,d=c.col;l++;var p=[].concat(We(),bt(),We()),_=h(s,p,u,d,f(p,u,d,1));return a.push(_),l++,h(e,a,r,n)}():2===c?function(){var e=i.PseudocType,t=o[l],r=t.ln,n=t.col,a=[];l++,a.push(ie());var s=o[++l].ln,c=o[l].col,u=[].concat(We(),ie(),We()),d=f(u,s,c,1),p=h(i.ArgumentsType,u,s,c,d);return a.push(p),l++,h(e,a,r,n)}():3===c?function(){var e=i.PseudocType,t=o[l],r=t.ln,n=t.col,a=[];l++,a.push(ie());var s=o[l].ln,c=o[l].col,u=[];l++,u=u.concat(We()),et(l)&&u.push(tt()),ge(l)&&u.push(me());var d=o[l].ln,p=o[l].col,_=o[l].value,g=h(i.IdentType,_,d,p);u.push(g),l++,u=u.concat(We()),et(l)&&u.push(tt()),u=u.concat(We()),ge(l)&&u.push(me());var m=f(u=u.concat(We()),s,c,1),v=h(i.ArgumentsType,u,s,c,m);return a.push(v),l++,h(e,a,r,n)}():4===c?function(){var e=i.PseudocType,t=o[l],r=t.ln,n=t.col,a=[];l++,a.push(ie());var s=o[l].ln,c=o[l].col,u=[];l++,u=u.concat(We()),et(l)&&u.push(tt()),ge(l)&&u.push(me()),ne(l)&&u.push(ie());var d=f(u=u.concat(We()),s,c,1),p=h(i.ArgumentsType,u,s,c,d);return a.push(p),l++,h(e,a,r,n)}():5===c?function(){var e=i.PseudocType,t=o[l],r=t.ln,n=t.col,a=[];l++,a.push(ie());var s=o[l].ln,c=o[l].col,u=[];l++,u=u.concat(We()),et(l)&&u.push(tt()),ge(l)&&u.push(me());var d=f(u=u.concat(We()),s,c,1),p=h(i.ArgumentsType,u,s,c,d);return a.push(p),l++,h(e,a,r,n)}():6===c?(e=i.PseudocType,r=(t=o[l]).ln,n=t.col,a=[],s=ue(++l)?de():ie(),a.push(s),h(e,a,r,n)):void 0}function ze(e){var t=e,r=void 0;return e>=s?0:(r=yt(e))?((r=Ve(e+=r))&&(e+=r),(r=k(e))?(e+=r)-t:0):0}function Be(){var e=i.RulesetType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(bt(),We(),S()),r,n)}function $e(e){return e<s&&o[e].ws?o[e].ws_last-e+1:0}function He(){var e=i.SType,t=o[l],r=t.ln,n=t.col,a=d(l,o[l].ws_last);return l=o[l].ws_last+1,h(e,a,r,n)}function Ve(e){if(e>=s)return 0;for(var t=void 0,r=0;e<s&&((t=$e(e))||(t=j(e))||(t=L(e)));)e+=t,r+=t;return r||0}function We(){var e=[];if(l>=s)return e;for(;l<s;)if($e(l))e.push(He());else if(j(l))e.push(I());else{if(!L(l))break;e.push(R())}return e}function Ge(e){var t;return e>=s||o[e].type!==a.NumberSign?0:(t=ue(e+1)||ne(e+1))?t+1:0}function Ke(){var e=i.ShashType,t=o[l],r=t.ln,n=t.col,a=[];return ue(++l)?a.push(de()):a.push(ie()),h(e,a,r,n)}function Qe(e){return e>=s?0:o[e].type===a.StringSQ||o[e].type===a.StringDQ?1:0}function Xe(){var e=i.StringType,t=o[l],r=t.ln,n=t.col,a=t.value;return l++,h(e,a,r,n)}function Ye(e){var t=void 0;return(t=mt(e))?o[e].tset_child=1:(t=_(e))?o[e].tset_child=2:(t=Ve(e))?o[e].tset_child=3:(t=ve(e))&&(o[e].tset_child=4),t}function Je(e){var t=e,r=void 0;if(e>=s)return 0;for(;r=Ye(e);)e+=r;return e-t}function Ze(){for(var e,t=[],r=void 0;Ye(l);)"string"==typeof(r=1===(e=o[l].tset_child)?vt():2===e?g():3===e?We():4===e?ye():void 0).content?t.push(r):t=t.concat(r);return t}function et(e){return e>=s?0:o[e].type===a.HyphenMinus||o[e].type===a.PlusSign?1:0}function tt(){var e=i.OperatorType,t=o[l],r=t.ln,n=t.col,a=t.value;return l++,h(e,a,r,n)}function rt(e){var t=e,r=void 0;if(e>=s)return 0;if(!(r=at(e)))return 0;for(e+=r;e<s;){var n=Ve(e),i=$(e+n);if(!i)break;var a=Ve(e+n+i);if(!(r=at(e+n+i+a)))break;e+=n+i+a+r}return e-t}function nt(){for(var e=i.UnicodeRangeType,t=o[l],r=t.ln,n=t.col,a=[];l<s;)if(Ve(l))a=a.concat(We());else if($(l))a.push(H());else{if(!at(l))break;a.push(ot())}return h(e,a,r,n)}function it(){var e=i.IdentType,t=o[l],r=t.ln,n=t.col,a=t.value;return l++,h(e,a,r,n)}function at(e){var t=e,r=void 0;if(e>=s)return 0;if("U"!==o[e].value&&"u"!==o[e].value)return 0;if((e+=1)>=s)return 0;if("+"!==o[e].value)return 0;for(e+=1;e<s;)if(r=ne(e))e+=r;else if(r=ge(e))e+=r;else if(r=et(e))e+=r;else{if(!(r=st(e)))break;e+=r}return o[t].urangeEnd=e-1,e-t}function ot(){var e,t=l,r=i.UrangeType,n=o[l],a=n.ln,s=n.col;return e=d(t,o[t].urangeEnd),l=o[t].urangeEnd+1,h(r,e,a,s)}function st(e){var t=e;if(e>=s)return 0;for(;e<s&&o[e].type===a.QuestionMark;)e+=1;return e-t}function lt(e){var t=e;return e>=s||"url"!==o[e++].value||e>=s||o[e].type!==a.LeftParenthesis?0:o[e].right-t+1}function ct(){var e=l,t={},r=void 0,n=void 0,c=void 0,u=void 0;l+=2,t[a.Space]=1,t[a.Tab]=1,t[a.Newline]=1,t[a.LeftParenthesis]=1,t[a.RightParenthesis]=1,function(e){var t=e,r=void 0;return e>=s?0:((r=Ve(e))&&(e+=r),o[e].type!==a.StringDQ&&o[e].type!==a.StringSQ?0:((r=Ve(++e))&&(e+=r),e-t))}(l)?r=[].concat(We()).concat([Xe()]).concat(We()):(r=We(),c=function(e,t){for(var r=t;t<s&&!e[o[t++].type];);return t-r-2}(t,l),n=o[l],u=h(i.RawType,d(l,l+c),n.ln,n.col),r.push(u),l+=c+1,r=r.concat(We()));var p=(n=o[e]).ln,_=n.col,g=f(r,p,_,1);return l++,h(i.UriType,r,p,_,g)}function ut(e){for(var t=e,r=void 0,n=void 0,i=void 0;e<s&&((r=pt(i=e+(n=Ve(e))))&&(e+=r+n),r&&!k(i)););return o[t].value_end=e,e-t}function dt(){for(var e=i.ValueType,t=o[l],r=t.ln,n=t.col,a=o[l].value_end,s=[],c=void 0;l<a&&(c=Ve(l),pt(l+c));)c&&(s=s.concat(We())),s.push((void 0,1===(u=o[l].value_child)?K():2===u?de():3===u?ht():4===u?vt():5===u?S():6===u?Ee():7===u?g():8===u?w():9===u?ye():10===u?se():void 0));var u;return h(e,s,r,n)}function pt(e){var t=void 0;return(t=G(e))?o[e].value_child=1:(t=ue(e))?o[e].value_child=2:(t=ft(e))?o[e].value_child=3:(t=mt(e))?o[e].value_child=4:(t=k(e))?o[e].value_child=5:(t=Oe(e))?o[e].value_child=6:(t=_(e))?o[e].value_child=7:(t=b(e))?o[e].value_child=8:(t=ve(e))?o[e].value_child=9:(t=oe(e))&&(o[e].value_child=10),t}function ft(e){var t;return e>=s||o[e].type!==a.CommercialAt||o[e-1]&&o[e-1].type===a.CommercialAt&&o[e-2]&&o[e-2].type===a.CommercialAt?0:(t=ft(e+1)||ne(e+1))?t+1:0}function ht(){var e=i.VariableType,t=o[l],r=t.ln,n=t.col,a=[];return ft(++l)?a.push(ht()):a.push(ie()),h(e,a,r,n)}function _t(e){var t,r=0;if(e>=s)return 0;if(!(t=ft(e)))return 0;for(e+=t;o[e]&&o[e].type===a.FullStop;)r++,e++;return 3===r?t+r:0}function gt(){var e=i.VariablesListType,t=o[l],r=t.ln,n=t.col,a=[ht()],s=f(a,r,n,3);return l+=3,h(e,a,r,n,s)}function mt(e){var t,r=e;return e>=s||o[e].type!==a.NumberSign?0:(t=function(e){return o[e].type===a.Identifier?1:o[e].type!==a.DecimalNumber?0:++e<s&&o[e].type===a.Identifier?2:1}(++e))?(e+=t)-r:0}function vt(){var e,t=i.VhashType,r=o[l],n=r.ln,c=r.col,u=(e=o[++l].value,o[l++].type===a.DecimalNumber&&l<s&&o[l].type===a.Identifier&&(e+=o[l++].value),e);return h(t,u,n,c,f(u,n,c+1))}function yt(e){if(e>=s)return 0;var t=e,r=void 0;if(!(r=wt(e)))return 0;for(e+=r;e<s;){var n=Ve(e),i=$(e+n);if(!i)break;var a=Ve(e+n+i);if(!(r=wt(e+n+i+a)))break;e+=n+i+a+r}return o[t].selectorsGroupEnd=e,e-t}function bt(){var e=[],t=o[l].selectorsGroupEnd;for(e.push(Tt());l<t;)e=e.concat(We(),H(),We(),Tt());return e}function wt(e){var t=void 0;return(t=function(e){if(e>=s)return 0;var t=e,r=void 0;if(!(r=xt(e)))return 0;for(e+=r;e<s;){var n=Ve(e),i=P(e+n);if(!n&&!i)break;if(i&&(n=Ve(e+=n+i)),!(r=xt(e+n)))break;e+=n+r}return o[t].selectorEnd=e,e-t}(e))?o[e].selectorType=1:(t=function(e){if(e>=s)return 0;var t=e,r=void 0;if(!(r=P(e)))return 0;for(e+=r;e<s;){var n=Ve(e);if(!(r=xt(e+n)))break;var i=Ve(e+=n+r),a=P(e+i);if(!i&&!a)break;a&&(e+=i+a)}return o[t].selectorEnd=e,e-t}(e))&&(o[e].selectorType=2),t}function Tt(){return 1===o[l].selectorType?function(){for(var e=i.SelectorType,t=o[l],r=t.ln,n=t.col,a=t.selectorEnd,s=kt();l<a;)Ve(l)?s=s.concat(We()):P(l)?s.push(D()):xt(l)&&(s=s.concat(kt()));return h(e,s,r,n)}():function(){for(var e=i.SelectorType,t=o[l],r=t.ln,n=t.col,a=t.selectorEnd,s=[D()];l<a;)Ve(l)?s=s.concat(We()):P(l)?s.push(D()):xt(l)&&(s=s.concat(kt()));return h(e,s,r,n)}()}function xt(e){var t=void 0;return(t=function(e){if(e>=s)return 0;var t,r=e;if(!(t=St(e)||Mt(e)||Se(e)))return 0;for(e+=t;e<s;){var n=Ge(e)||O(e)||At(e)||Le(e);if(!n)break;e+=n}return o[r].compoundSelectorEnd=e,e-r}(e))?o[e].compoundSelectorType=1:(t=function(e){if(e>=s)return 0;for(var t=e;e<s;){var r=Ge(e)||O(e)||At(e)||Le(e);if(!r)break;e+=r}return o[t].compoundSelectorEnd=e,e-t}(e))&&(o[e].compoundSelectorType=2),t}function kt(){var e=o[l].compoundSelectorType;return 1===e?function(){var e,t,r,n,a,s=[],c=o[l].compoundSelectorEnd;for(St(l)?s.push(Ct()):Mt(l)?s.push((e=i.TypeSelectorType,r=(t=o[l]).ln,n=t.col,a=[],jt(l)&&a.push(It()),a.push(ie()),h(e,a,r,n))):Se(l)&&(s=s.concat(Ce()));l<c;)Ge(l)?s.push(Ke()):O(l)?s.push(E()):At(l)?s.push(Ot()):Le(l)&&s.push(Re());return s}():2===e?function(){for(var e=[],t=o[l].compoundSelectorEnd;l<t;)Ge(l)?e.push(Ke()):O(l)?e.push(E()):At(l)?e.push(Ot()):Le(l)&&e.push(Re());return e}():void 0}function St(e){if(e>=s)return 0;var t,r=e;return(t=jt(e))&&(e+=t),o[e].type!==a.Asterisk?0:++e-r}function Ct(){var e=i.UniversalSelectorType,t=o[l],r=t.ln,n=t.col,a=[],s=void 0;return jt(l)&&(a.push(It()),s=f(a,r,n,1)),l++,h(e,a,r,n,s)}function Mt(e){if(e>=s)return 0;var t=e,r=void 0;return(r=jt(e))&&(e+=r),(r=ne(e))?(e+=r)-t:0}function At(e){var t=void 0;return(t=function(e){var t=e;if(o[e].type!==a.LeftSquareBracket)return 0;var r=void 0;return(r=Ve(++e))&&(e+=r),(r=Et(e))?((r=Ve(e+=r))&&(e+=r),(r=function(e){var t=void 0;return(t=function(e){var t=e,r=o[e].type;return r!==a.Tilde&&r!==a.VerticalLine&&r!==a.CircumflexAccent&&r!==a.DollarSign&&r!==a.Asterisk||o[++e].type!==a.EqualsSign?0:++e-t}(e))?o[e].attributeMatchType=1:(t=function(e){return o[e].type===a.EqualsSign?1:0}(e))&&(o[e].attributeMatchType=2),t}(e))?((r=Ve(e+=r))&&(e+=r),(r=function(e){return Qe(e)||ne(e)}(e))?((r=Ve(e+=r))&&(e+=r),(r=Dt(e))&&(r=Ve(e+=r))&&(e+=r),o[e].type!==a.RightSquareBracket?0:++e-t):0):0):0}(e))?o[e].attributeSelectorType=1:(t=function(e){var t=e;if(o[e].type!==a.LeftSquareBracket)return 0;var r=void 0;return(r=Ve(++e))&&(e+=r),(r=Et(e))?((r=Ve(e+=r))&&(e+=r),o[e].type!==a.RightSquareBracket?0:++e-t):0}(e))&&(o[e].attributeSelectorType=2),t}function Ot(){return 1===o[l].attributeSelectorType?(e=i.AttributeSelectorType,r=(t=o[l]).ln,n=t.col,l++,a=(a=[]).concat(We(),Pt(),We(),1===o[l].attributeMatchType?function(){var e=i.AttributeMatchType,t=o[l],r=t.ln,n=t.col,a=o[l].value+o[l+1].value;return l+=2,h(e,a,r,n)}():function(){var e=i.AttributeMatchType,t=o[l],r=t.ln,n=t.col;return l++,h(e,"=",r,n)}(),We(),function(){var e=i.AttributeValueType,t=o[l],r=t.ln,n=t.col,a=[];return Qe(l)?a.push(Xe()):a.push(ie()),h(e,a,r,n)}(),We()),Dt(l)&&(a.push(function(){var e=i.AttributeFlagsType,t=o[l],r=t.ln,n=t.col;return h(e,[ie()],r,n)}()),a=a.concat(We())),l++,h(e,a,r,n,f(a,r,n,1))):function(){var e=i.AttributeSelectorType,t=o[l],r=t.ln,n=t.col,a=[];return l++,a=a.concat(We(),Pt(),We()),l++,h(e,a,r,n,f(a,r,n,1))}();var e,t,r,n,a}function Et(e){var t=e,r=void 0;return(r=jt(e))&&(e+=r),(r=ne(e))?(e+=r)-t:0}function Pt(){var e=i.AttributeNameType,t=o[l],r=t.ln,n=t.col,a=[];return jt(l)&&a.push(It()),a.push(ie()),h(e,a,r,n)}function Dt(e){return ne(e)}function jt(e){if(e>=s)return 0;var t=void 0;return(t=function(e){var t=e,r=void 0;return(r=function(e){if(e>=s)return 0;var t=void 0;return o[e].type===a.Asterisk?1:(t=ne(e))?t:0}(e))?((r=j(e+=r))&&(e+=r),(r=Lt(e))?(e+=r)-t:0):0}(e))?o[e].namePrefixType=1:(t=function(e){return Lt(e)}(e))&&(o[e].namePrefixType=2),t}function It(){return 1===o[l].namePrefixType?(e=i.NamePrefixType,r=(t=o[l]).ln,n=t.col,(s=[]).push(function(){var e=i.NamespacePrefixType,t=o[l],r=t.ln,n=t.col,s=[];if(t.type===a.Asterisk){var c=h(i.IdentType,"*",r,n);s.push(c),l++}else ne(l)&&s.push(ie());return h(e,s,r,n)}()),j(l)&&s.push(I()),s.push(Rt()),h(e,s,r,n)):function(){var e=i.NamePrefixType,t=o[l],r=t.ln,n=t.col;return h(e,[Rt()],r,n)}();var e,t,r,n,s}function Lt(e){return e>=s||o[e].type!==a.VerticalLine||o[e+1]&&o[e+1].type===a.EqualsSign?0:1}function Rt(){var e=i.NamespaceSeparatorType,t=o[l],r=t.ln,n=t.col;return l++,h(e,"|",r,n)}e.exports=function(e,t){return s=(o=e).length,l=0,c[t]()}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(13),i=[],a=!1,o=void 0,s=void 0,l=0,c=0,u=1,d=1,p={" ":n.Space,"\n":n.Newline,"\r":n.Newline,"\t":n.Tab,"!":n.ExclamationMark,'"':n.QuotationMark,"#":n.NumberSign,$:n.DollarSign,"%":n.PercentSign,"&":n.Ampersand,"'":n.Apostrophe,"(":n.LeftParenthesis,")":n.RightParenthesis,"*":n.Asterisk,"+":n.PlusSign,",":n.Comma,"-":n.HyphenMinus,".":n.FullStop,"/":n.Solidus,":":n.Colon,";":n.Semicolon,"<":n.LessThanSign,"=":n.EqualsSign,">":n.GreaterThanSign,"?":n.QuestionMark,"@":n.CommercialAt,"[":n.LeftSquareBracket,"]":n.RightSquareBracket,"^":n.CircumflexAccent,_:n.LowLine,"{":n.LeftCurlyBracket,"|":n.VerticalLine,"}":n.RightCurlyBracket,"~":n.Tilde};function f(e,t,r){i.push({tn:c++,ln:u,col:r,type:e,value:t})}function h(e){return"0123456789".indexOf(e)>=0}function _(e){for(var t=l;l<e.length&&" "===e.charAt(l);l++);f(n.Space,e.substring(t,l--),d),d+=l-t}function g(e,t){var r=l;for(l++;l<e.length;l++)if("\\"===e.charAt(l))l++;else if(e.charAt(l)===t)break;f('"'===t?n.StringDQ:n.StringSQ,e.substring(r,l+1),d),d+=l-r}function m(e){for(var t=l;l<e.length&&h(e.charAt(l));l++);f(n.DecimalNumber,e.substring(t,l--),d),d+=l-t}function v(e){for(var t=l;"/"===e.charAt(l);)l++;for(;l<e.length;l++)if("\\"===e.charAt(l))l++;else if(e.charAt(l)in p)break;var r=e.substring(t,l--);a||"url"!==r||"("!==e.charAt(l+1)||(a=!0),f(n.Identifier,r,d),d+=l-t}function y(e){var t=l;for(l+=2;l<e.length;l++)if("*"===e.charAt(l)&&"/"===e.charAt(l+1)){l++;break}var r=e.substring(t,l+1);f(n.CommentML,r,d);var i=r.split("\n");i.length>1?(u+=i.length-1,d=i[i.length-1].length):d+=l-t}function b(e){var t=l;for(l+=2;l<e.length&&"\n"!==e.charAt(l)&&"\r"!==e.charAt(l);l++);f(n.CommentSL,e.substring(t,l--),d),d+=l-t}return function(e){for(l=0;l<e.length;d++,l++)o=e.charAt(l),s=e.charAt(l+1),"/"===o&&"*"===s?y(e):a||"/"!==o||"/"!==s?'"'===o||"'"===o?g(e,o):" "===o?_(e):o in p?(f(p[o],o,d),"\n"!==o&&"\r"!==o||(u++,d=0),")"===o?a=!1:"\t"===o&&t>1&&(d+=t-1)):h(o)?m(e):v(e):b(e);return i}(e)}},function(e,t,r){"use strict";t.__esModule=!0,t.default={mark:r(22),parse:r(23),stringify:r(5),tokenizer:r(24)},e.exports=t.default},function(e,t,r){"use strict";var n=r(13);e.exports=function(e){!function(e){for(var t=e.length,r=[],i=[],a=[],o=void 0,s=0;s<t;s++)switch((o=e[s]).type){case n.LeftParenthesis:r.push(s);break;case n.RightParenthesis:r.length&&(o.left=r.pop(),e[o.left].right=s);break;case n.LeftSquareBracket:i.push(s);break;case n.RightSquareBracket:i.length&&(o.left=i.pop(),e[o.left].right=s);break;case n.LeftCurlyBracket:a.push(s);break;case n.RightCurlyBracket:a.length&&(o.left=a.pop(),e[o.left].right=s)}}(e),function(e){for(var t=e.length,r=-1,i=-1,a=void 0,o=0;o<t;o++)switch((a=e[o]).type){case n.Space:case n.Tab:a.ws=!0,a.sc=!0,-1===r&&(r=o),-1===i&&(i=o);break;case n.Newline:a.ws=!0,a.sc=!0,r=-1===r?o:r,i=-1===i?o:r,e[r].ws_last=o-1,e[i].sc_last=o-1,e[o].ws_last=o,e[o].sc_last=o,r=-1,i=-1;break;case n.CommentML:case n.CommentSL:-1!==r&&(e[r].ws_last=o-1,r=-1),a.sc=!0;break;default:-1!==r&&(e[r].ws_last=o-1,r=-1),-1!==i&&(e[i].sc_last=o-1,i=-1)}-1!==r&&(e[r].ws_last=o-1),-1!==i&&(e[i].sc_last=o-1)}(e),function(e){var t=0,r=e.length,i=[],a=[];for(t=0;t<r;t++){for(var o=t,s=0;t<r&&(e[t].type===n.Space||e[t].type===n.Tab);)s+=e[t].value.length,t++;i.push([o,s]);for(var l=t;t<r&&e[t].type!==n.Newline;)t++;l===t&&a.push(i.length-1)}var c=[0],u=[];for(t=0;t<i.length;t++){var d=i[t],p=d[0],f=d[1],h=c[c.length-1];if(f>h)u.push(p),c.push(f);else{for(var _=t;-1!==a.indexOf(_);)_++;if(t===_&&f===h)continue;if(!i[_])continue;if((f=i[_][1])===h){t=_;continue}if(f>h){u.push(p),c.push(i[_][1]),t=_;continue}for(;;){if(!(f<c.pop())){c.push(f);break}var g=u.pop();e[g].block_end=p-1}}}u.forEach((function(t){e[t].block_end=e.length-1}))}(e)}},function(e,t,r){"use strict";var n=r(1),i=r(15),a=r(13),o=void 0,s=void 0,l=void 0,c={arguments:function(){return m(l)&&v()},atkeyword:function(){return w(l)&&T()},atrule:function(){return x(l)&&k()},attributeSelector:function(){return lr(l)&&cr()},block:function(){return S(l)&&C()},brackets:function(){return A(l)&&O()},class:function(){return E(l)&&P()},combinator:function(){return D(l)&&j()},commentML:function(){return I(l)&&L()},commentSL:function(){return R(l)&&N()},condition:function(){return F(l)&&U()},conditionalStatement:function(){return z(l)&&B()},declaration:function(){return $(l)&&H()},declDelim:function(){return K(l)&&Q()},default:function(){return X(l)&&Y()},delim:function(){return J(l)&&Z()},dimension:function(){return ee(l)&&te()},expression:function(){return re(l)&&ne()},extend:function(){return ie(l)&&ae()},function:function(){return oe(l)&&se()},global:function(){return ue(l)&&de()},ident:function(){return pe(l)&&fe()},important:function(){return me(l)&&ve()},include:function(){return ye(l)&&be()},interpolation:function(){return we(l)&&Te()},loop:function(){return Oe(l)&&Ee()},mixin:function(){return Pe(l)&&De()},namespace:function(){return((c=l)<s&&o[c].type===a.VerticalLine?1:0)&&(e=i.NamespaceType,r=(t=o[l]).ln,n=t.col,l++,h(e,"|",r,n));var e,t,r,n,c},number:function(){return Ie(l)&&Le()},operator:function(){return Re(l)&&Ne()},optional:function(){return Fe(l)&&qe()},parentheses:function(){return Ue(l)&&ze()},parentselector:function(){return Be(l)&&$e()},percentage:function(){return We(l)&&Ge()},placeholder:function(){return Xe(l)&&Ye()},progid:function(){return Je(l)&&Ze()},property:function(){return et(l)&&tt()},propertyDelim:function(){return it(l)&&at()},pseudoc:function(){return ut(l)&&dt()},pseudoe:function(){return lt(l)&&ct()},ruleset:function(){return pt(l)&&ft()},s:function(){return ht(l)&&_t()},selector:function(){return er(l)&&tr()},shash:function(){return bt(l)&&wt()},string:function(){return Tt(l)&&xt()},stylesheet:function(){return function(e){for(var t=e,r=void 0;e<s;)(r=vt(e)||$(e)||K(e)||ye(e)||ie(e)||Pe(e)||Oe(e)||z(e)||x(e)||pt(e))?e+=r:u(e);return e-t}(l)&&function(){for(var e=i.StylesheetType,t=o[l],r=t.ln,n=t.col,a=[],c=void 0,d=!1;l<s;)d&&K(l)?c=Q():vt(l)?c=yt():pt(l)?c=ft():ye(l)?c=be():ie(l)?c=ae():Pe(l)?c=De():Oe(l)?c=Ee():z(l)?c=B():x(l)?c=k():$(l)?c=H():u(l),d=c.type===i.DeclarationType,Array.isArray(c)?a=a.concat(c):a.push(c);return h(e,a,r,n)}()},typeSelector:function(){return or(l)&&sr()},unary:function(){return Mt(l)&&At()},unicodeRange:function(){return Ot(l)&&Et()},universalSelector:function(){return ir(l)&&ar()},urange:function(){return Dt(l)&&jt()},uri:function(){return Lt(l)&&Rt()},value:function(){return Bt(l)&&$t()},variable:function(){return Wt(l)&&Gt()},variableslist:function(){return Kt(l)&&Qt()},vhash:function(){return Xt(l)&&Yt()}};function u(e){throw{line:o[e].ln,syntax:"sass"}}function d(e,t){for(var r="",n=e;n<t+1;n++)r+=o[n].value;return r}function p(e,t){if(!(e+t-1>=s)){for(var r="",n=0;n<t;n++)r+=o[e+n].value;return r}}function f(e,t,r,n){return"string"==typeof e?function(e,t,r,n){var i=[];if(!e)return i=[t,r],n&&(i[1]+=n-1),i;var a=e.lastIndexOf("\n"),o=a===e.length-1,s=e.split("\n"),l=s.length-1,c=0===l||1===l?-1:e.length-s[l-1].length-2,u=o?l-1:l;return i[0]=t+u,u=o?-1!==c?e.length-c:e.length-1:0!==l?e.length-a-r-1:e.length-1,i[1]=r+u,n?(o?(i[0]++,i[1]=n):i[1]+=n,i):i}(e,t,r,n):function(e,t,r,n){var i=void 0;if(0===e.length)i=[t,r];else{var a=e[e.length-1];i=a.hasOwnProperty("end")?[a.end.line,a.end.column]:f(a.content,t,r)}return n?(o[l-1]&&"Newline"!==o[l-1].type?i[1]+=n:(i[0]++,i[1]=1),i):i}(e,t,r,n)}function h(e,t,r,i,a){return a||(a=f(t,r,i)),new n({type:e,content:t,start:{line:r,column:i},end:{line:a[0],column:a[1]},syntax:"sass"})}function _(e){var t=void 0;return(t=A(e))?o[e].any_child=1:(t=Ue(e))?o[e].any_child=2:(t=Tt(e))?o[e].any_child=3:(t=Kt(e))?o[e].any_child=4:(t=Wt(e))?o[e].any_child=5:(t=Xe(e))?o[e].any_child=6:(t=We(e))?o[e].any_child=7:(t=ee(e))?o[e].any_child=8:(t=Ot(e))?o[e].any_child=9:(t=Ie(e))?o[e].any_child=10:(t=Lt(e))?o[e].any_child=11:(t=re(e))?o[e].any_child=12:(t=le(e))?o[e].any_child=13:(t=oe(e))?o[e].any_child=14:(t=we(e))?o[e].any_child=15:(t=pe(e))?o[e].any_child=16:(t=E(e))?o[e].any_child=17:(t=Mt(e))?o[e].any_child=18:(t=Be(e))?o[e].any_child=19:(t=me(e))?o[e].any_child=20:(t=ue(e))?o[e].any_child=21:(t=X(e))?o[e].any_child=22:(t=Fe(e))&&(o[e].any_child=23),t}function g(){var e=o[l].any_child;return 1===e?O():2===e?ze():3===e?xt():4===e?Qt():5===e?Gt():6===e?Ye():7===e?Ge():8===e?te():9===e?Et():10===e?Le():11===e?Rt():12===e?ne():13===e?ce():14===e?se():15===e?Te():16===e?fe():17===e?P():18===e?At():19===e?$e():20===e?ve():21===e?de():22===e?Y():23===e?qe():void 0}function m(e){var t=e,r=void 0;if(e>=s||o[e].type!==a.LeftParenthesis)return 0;for(e++;e<o[t].right;){if(!(r=y(e)))return 0;e+=r}return o[t].right-t+1}function v(){var e=i.ArgumentsType,t=o[l],r=t.ln,n=t.col,c=[],d=void 0;for(l++;l<s&&o[l].type!==a.RightParenthesis;)W(l)?c.push(G()):y(l)?"string"==typeof(d=b()).content?c.push(d):c=c.concat(d):E(l)?c.push(P()):u(l);var p=f(c,r,n,1);return l++,h(e,c,r,n,p)}function y(e){var t=void 0;return(t=A(e))?o[e].argument_child=1:(t=Ue(e))?o[e].argument_child=2:(t=W(e))?o[e].argument_child=3:(t=le(e))?o[e].argument_child=4:(t=oe(e))?o[e].argument_child=5:(t=Kt(e))?o[e].argument_child=6:(t=Wt(e))?o[e].argument_child=7:(t=vt(e))?o[e].argument_child=8:(t=J(e))?o[e].argument_child=9:(t=K(e))?o[e].argument_child=10:(t=Tt(e))?o[e].argument_child=11:(t=We(e))?o[e].argument_child=12:(t=ee(e))?o[e].argument_child=13:(t=Ie(e))?o[e].argument_child=14:(t=Lt(e))?o[e].argument_child=15:(t=we(e))?o[e].argument_child=16:(t=pe(e))?o[e].argument_child=17:(t=Xt(e))?o[e].argument_child=18:(t=rt(e))?o[e].argument_child=19:(t=Re(e))?o[e].argument_child=20:(t=Mt(e))?o[e].argument_child=21:(t=Be(e))?o[e].argument_child=22:(t=me(e))?o[e].argument_child=23:(t=ue(e))?o[e].argument_child=24:(t=X(e))?o[e].argument_child=25:(t=Fe(e))&&(o[e].argument_child=26),t}function b(){var e=o[l].argument_child;return 1===e?O():2===e?ze():3===e?G():4===e?ce():5===e?se():6===e?Qt():7===e?Gt():8===e?yt():9===e?Z():10===e?Q():11===e?xt():12===e?Ge():13===e?te():14===e?Le():15===e?Rt():16===e?Te():17===e?fe():18===e?Yt():19===e?nt():20===e?Ne():21===e?At():22===e?$e():23===e?ve():24===e?de():25===e?Y():26===e?qe():void 0}function w(e){var t;return e>=s||o[e++].type!==a.CommercialAt?0:(t=_e(e))?t+1:0}function T(){var e=i.AtkeywordType,t=o[l],r=t.ln,n=t.col;return l++,h(e,ge(),r,n)}function x(e){var t=void 0;if(e>=s)return 0;if(void 0!==o[e].atrule_l)return o[e].atrule_l;if(t=function(e){var t=e,r=void 0;return e>=s?0:(r=w(e))?-1===p((e+=r)-r,r).toLowerCase().indexOf("keyframes")?0:(r=vt(e))&&(r=_e(e+=r)||ut(e))?((r=vt(e+=r))&&(e+=r),(r=Se(e))?(e+=r)-t:0):0:0}(e))o[e].atrule_type=4;else if(t=function(e){var t=e,r=void 0;return e>=s?0:(r=w(e))?((r=St(e+=r))&&(e+=r),(r=function(e){var t=e,r=void 0;if(e>=s)return 0;var n=o[e].block_end;if(!n)return 0;for(;e<n;){if(r=vt(e))o[e].atrulers_child=1;else if(r=x(e))o[e].atrulers_child=2;else{if(!(r=pt(e)))return 0;o[e].atrulers_child=3}e+=r}return e<s&&(o[e].atrulers_end=1),e-t}(e))?(e+=r)-t:0):0}(e))o[e].atrule_type=1;else if(t=function(e){var t=e,r=void 0;return e>=s?0:(r=w(e))?((r=St(e+=r))&&(e+=r),(r=S(e))?(e+=r)-t:0):0}(e))o[e].atrule_type=2;else{if(!(t=function(e){var t=e,r=void 0;return e>=s?0:(r=w(e))?((r=St(e+=r))&&(e+=r),e-t):0}(e)))return 0;o[e].atrule_type=3}return o[e].atrule_l=t,t}function k(){var e,t,r,n,a,c=o[l].atrule_type;return 1===c?(e=i.AtruleType,r=(t=o[l]).ln,n=t.col,a=[].concat(T(),Ct(),function(){for(var e=i.BlockType,t=o[l],r=t.ln,n=t.col,a=yt();l<s&&!o[l].atrulers_end;){var c=o[l].atrulers_child;if(1===c)a=a.concat(yt());else if(2===c)a.push(k());else{if(3!==c)break;a.push(ft())}}return h(e,a,r,n,f(a,r,n))}()),h(e,a,r,n)):2===c?function(){var e=i.AtruleType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(T(),Ct(),C()),r,n)}():3===c?function(){var e=i.AtruleType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(T(),Ct()),r,n)}():4===c?function(){var e=i.AtruleType,t=o[l],r=t.ln,n=t.col,a=[].concat(T(),yt());return _e(l)?a=a.concat(ge()):ut(l)&&(a=a.concat(dt())),h(e,a=a.concat(yt(),Ce()),r,n)}():void 0}function S(e){return e<s&&o[e].block_end?o[e].block_end-e+1:0}function C(){for(var e=i.BlockType,t=o[l],r=t.ln,n=t.col,a=o[l].block_end,c=[];l<a;)M(l)?c=c.concat((void 0,1===(d=o[l].bd_type)?function(){var e=[],t=[];switch(o[l].bd_kind){case 2:e.push(be());break;case 5:e.push(H());break;case 6:e.push(k())}for(;l<s;){var r=l;if(K(l)){t.push(Q()),e=e.concat(t);break}if(ht(l))t.push(_t());else{if(!R(l)){l=r;break}t.push(N())}}return e}():2===d?function(){var e=[];switch(o[l].bd_kind){case 1:e.push(B());break;case 2:e.push(be());break;case 3:e.push(Ee());break;case 4:e.push(ae());break;case 5:e.push(H());break;case 6:e.push(k());break;case 7:e.push(ft());break;case 8:e.push(De())}for(;l<s;)if(ht(l))e.push(_t());else{if(!R(l))break;e.push(N())}return e}():3===d?function(){var e=void 0;switch(o[l].bd_kind){case 1:e=B();break;case 2:e=be();break;case 3:e=Ee();break;case 4:e=ae();break;case 5:e=H();break;case 6:e=k();break;case 7:e=ft()}return[e]}():4===d?yt():5===d?function(){var e=[];for(ye(l)?e.push(be()):e.push(ft());l<s;)if(ht(l))e.push(_t());else{if(!R(l))break;e.push(N())}return e}():6===d?[ye(l)?be():ft()]:7===d?function(){var e=[],t=[];for(e.push(be());l<s;){var r=l;if(K(l)){t.push(Q()),e=e.concat(t);break}if(ht(l))t.push(_t());else{if(!R(l)){l=r;break}t.push(N())}}return e}():void 0)):u(l);var d;return h(e,c,r,n)}function M(e){var t=void 0;if(e>=s)return 0;if(t=function(e){var t=e,r=void 0;if(!(r=ye(e)))return 0;if(e+=r,-1===[2,4,6,8].indexOf(o[t].include_type))return 0;for(;e<s;){if(r=K(e))return e+r-t;if(r=ht(e))e+=r;else{if(!(r=R(e)))break;e+=r}}return 0}(e))o[e].bd_type=7;else if(t=function(e){var t=e,r=void 0;if(r=ye(e))e+=r;else{if(!(r=pt(e)))return 0;e+=r}for(;e<s;)if(r=ht(e))e+=r;else{if(!(r=R(e)))break;e+=r}return e-t}(e))o[e].bd_type=5;else if(t=function(e){var t=e,r=void 0;if(r=ye(e))e+=r;else{if(!(r=pt(e)))return 0;e+=r}return e-t}(e))o[e].bd_type=6;else if(t=function(e){var t=e,r=void 0;if(r=ye(e))o[e].bd_kind=2;else if(r=$(e))o[e].bd_kind=5;else{if(!(r=x(e)))return 0;o[e].bd_kind=6}if(e+=r,2===o[t].bd_kind&&-1===[2,4,6,8].indexOf(o[t].include_type))return 0;if(6===o[t].bd_kind&&3===o[t].atrule_type)return 0;for(;e<s;){if(r=K(e))return e+r-t;if(r=ht(e))e+=r;else{if(!(r=R(e)))break;e+=r}}return 0}(e))o[e].bd_type=1;else if(t=function(e){var t=e,r=void 0;if(r=z(e))o[e].bd_kind=1;else if(r=ye(e))o[e].bd_kind=2;else if(r=ie(e))o[e].bd_kind=4;else if(r=Pe(e))o[e].bd_kind=8;else if(r=Oe(e))o[e].bd_kind=3;else if(r=pt(e))o[e].bd_kind=7;else if(r=$(e))o[e].bd_kind=5;else{if(!(r=x(e)))return 0;o[e].bd_kind=6}for(e+=r;e<s;)if(r=ht(e))e+=r;else{if(!(r=R(e)))break;e+=r}return e-t}(e))o[e].bd_type=2;else if(t=function(e){var t=e,r=void 0;if(r=z(e))o[e].bd_kind=1;else if(r=ye(e))o[e].bd_kind=2;else if(r=ie(e))o[e].bd_kind=4;else if(r=Oe(e))o[e].bd_kind=3;else if(r=pt(e))o[e].bd_kind=7;else if(r=$(e))o[e].bd_kind=5;else{if(!(r=x(e)))return 0;o[e].bd_kind=6}return(e+=r)-t}(e))o[e].bd_type=3;else{if(!(t=function(e){return vt(e)}(e)))return 0;o[e].bd_type=4}return t}function A(e){if(e>=s)return 0;var t=e;if(o[e].type!==a.LeftSquareBracket)return 0;if(++e<o[t].right){var r=St(e);if(!r)return 0;e+=r}return++e-t}function O(){var e=i.BracketsType,t=o[l],r=t.ln,n=t.col,a=t.right,s=[];++l<a&&(s=Ct());var c=f(s,r,n,1);return l++,h(e,s,r,n,c)}function E(e){var t=e,r=void 0;if(e>=s)return 0;if(o[e].class_l)return o[e].class_l;if(o[e].type!==a.FullStop)return 0;if(!(r=_e(++e)))return 0;for(e+=r;e<s&&(r=_e(e));)o[t].class_l=r+1,e+=r;return o[t].classEnd=e,e-t}function P(){var e=i.ClassType,t=o[l],r=t.ln,n=t.col,a=t.classEnd,s=[];for(l++;l<a&&_e(l);)s=s.concat(ge());return h(e,s,r,n)}function D(e){if(e>=s)return 0;var t=void 0;return(t=function(e){return e<s&&o[e++].type===a.GreaterThanSign&&e<s&&o[e++].type===a.GreaterThanSign&&e<s&&o[e++].type===a.GreaterThanSign?3:0}(e))?o[e].combinatorType=1:(t=function(e){return e+1>=s?0:o[e].type===a.VerticalLine&&o[e+1].type===a.VerticalLine||o[e].type===a.GreaterThanSign&&o[e+1].type===a.GreaterThanSign?2:0}(e))?o[e].combinatorType=2:(t=function(e){var t=o[e].type;return t===a.PlusSign||t===a.GreaterThanSign||t===a.Tilde?1:0}(e))?o[e].combinatorType=3:(t=function(e){var t,r=e;return o[e].type!==a.Solidus?0:(t=pe(++e))?o[e+=t].type!==a.Solidus?0:++e-r:0}(e))&&(o[e].combinatorType=4),t}function j(){var e=o[l].combinatorType;return 1===e?function(){var e=i.CombinatorType,t=o[l],r=t.ln,n=t.col;return l+=3,h(e,">>>",r,n)}():2===e?function(){var e=i.CombinatorType,t=o[l],r=t.ln,n=t.col,a=""+t.value+o[l+1].value;return l+=2,h(e,a,r,n)}():3===e?function(){var e=i.CombinatorType,t=o[l],r=t.ln,n=t.col,a=t.value;return l++,h(e,a,r,n)}():4===e?function(){var e=i.CombinatorType,t=o[l],r=t.ln,n=t.col;l++;var a=fe();return l++,h(e,"/"+a.content+"/",r,n)}():void 0}function I(e){return e<s&&o[e].type===a.CommentML?1:0}function L(){var e=i.CommentMLType,t=o[l],r=t.ln,n=t.col,a=o[l].value.substring(2),s=f(a,r,n+2);return a.endsWith("*/")&&(a=a.substring(0,a.length-2)),l++,h(e,a,r,n,s)}function R(e){return e<s&&o[e].type===a.CommentSL?1:0}function N(){var e=i.CommentSLType,t=o[l],r=t.ln,n=t.col,a=o[l++].value.substring(2);return h(e,a,r,n,a?f(a,r,n+2):[r,n+1])}function F(e){var t=e,r=void 0,n=void 0;if(e>=s)return 0;if(!(r=w(e)))return 0;if(e+=r,["if","else"].indexOf(o[t+1].value)<0)return 0;for(;e<s&&!(r=S(e))&&(r=q(e+(n=vt(e))));)e+=r+n;return e-t}function q(e){return Wt(e)||Ie(e)||we(e)||pe(e)||Re(e)||D(e)||Tt(e)}function U(){var e=i.ConditionType,t=o[l],r=t.ln,n=t.col,a=[],c=void 0;for(a.push(T());l<s&&!S(l)&&(c=vt(l),q(l+c));)c&&(a=a.concat(yt())),a.push(Wt(l)?Gt():Ie(l)?Le():we(l)?Te():pe(l)?fe():Re(l)?Ne():D(l)?j():Tt(l)?xt():void 0);return h(e,a,r,n)}function z(e){var t=e,r=void 0;return e>=s?0:(r=F(e))?((r=vt(e+=r))&&(e+=r),(r=S(e))?(e+=r)-t:0):0}function B(){var e=i.ConditionalStatementType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(U(),yt(),C()),r,n)}function $(e){return V(e)||function(e){var t=e,r=void 0;return e>=s?0:(r=it(e))&&(r=et(++e))?(r=Bt(e+=r))?e+r-t:((r=vt(e))&&(e+=r),(r=Bt(e))?(e+=r)-t:0):0}(e)}function H(){return V(l)?function(){var e=i.DeclarationType,t=o[l],r=t.ln,n=t.col,a=[];return a.push(tt()),ht(l)&&a.push(_t()),a.push(at()),ht(l)&&a.push(_t()),a.push($t()),h(e,a,r,n)}():(e=i.DeclarationType,r=(t=o[l]).ln,n=t.col,h(e,[].concat(at(),tt(),yt(),$t()),r,n));var e,t,r,n}function V(e){var t=e,r=void 0;return e>=s?0:(r=et(e))?((r=vt(e+=r))&&(e+=r),(r=it(e))?(r=Bt(++e))?e+r-t:((r=ht(e))&&(e+=r),(r=Bt(e))?(e+=r)-t:0):0):0}function W(e){var t=e,r=void 0;return e>=s?0:(r=et(e))?((r=vt(e+=r))&&(e+=r),(r=it(e))?((r=vt(++e))&&(e+=r),(r=function(e){for(var t=e,r=void 0,n=void 0;e<s&&!K(e)&&!J(e);){if(r=S(e)){e+=r;break}if((r=Ht(e+(n=vt(e))))&&(e+=r+n),!r||S(e-r))break}return e-t}(e))?(e+=r)-t:0):0):0}function G(){var e=i.DeclarationType,t=o[l],r=t.ln,n=t.col,a=[].concat(tt(),yt(),at(),yt(),function(){for(var e=i.ValueType,t=o[l],r=t.ln,n=t.col,a=[],c=void 0,u=void 0;l<s&&!K(l)&&!J(l)&&(u=vt(l),!K(c=l+u)&&!J(c));){if(S(l)){a.push(C());break}if(!Ht(c))break;if(u&&a.push(_t()),a.push(Vt()),S(c))break}return h(e,a,r,n)}());return h(e,a,r,n)}function K(e){return e>=s?0:o[e].type===a.Newline||o[e].type===a.Semicolon?1:0}function Q(){var e=i.DeclDelimType,t=o[l],r=t.ln,n=t.col;return l++,h(e,"\n",r,n)}function X(e){var t,r=e;return e>=s||o[e++].type!==a.ExclamationMark?0:((t=vt(e))&&(e+=t),"default"===o[e].value?(o[r].defaultEnd=e,e-r+1):0)}function Y(){var e=i.DefaultType,t=o[l],r=t.ln,n=t.col,a=d(l,t.defaultEnd);return l=t.defaultEnd+1,h(e,a,r,n)}function J(e){return e<s&&o[e].type===a.Comma?1:0}function Z(){var e=i.DelimType,t=o[l],r=t.ln,n=t.col;return l++,h(e,",",r,n)}function ee(e){var t,r=Ie(e);return e>=s||!r||e+r>=s?0:(t=function(e){return-1!==["em","ex","ch","rem","vh","vw","vmin","vmax","px","mm","q","cm","in","pt","pc","deg","grad","rad","turn","s","ms","Hz","kHz","dpi","dpcm","dppx"].indexOf(o[e].value)?1:0}(e+r))?r+t:0}function te(){var e=i.DimensionType,t=o[l],r=t.ln,n=t.col;return h(e,[Le(),Pt()],r,n)}function re(e){var t=e;return e>=s||"expression"!==o[e++].value||e>=s||o[e].type!==a.LeftParenthesis?0:o[e].right-t+1}function ne(){var e=i.ExpressionType,t=o[l],r=t.ln,n=t.col,a=d(1+ ++l,o[l].right-1),s=f(a,r,n,1);return s[0]===r&&(s[1]+=11),l=o[l].right+1,h(e,a,r,n,s)}function ie(e){if(e>=s)return 0;var t=void 0;return(t=function(e){var t=e,r=void 0;return e>=s?0:(r=w(e))?(e+=r,"extend"!==o[t+1].value?0:(r=vt(e))&&(r=Jt(e+=r))&&(r=vt(e+=r))&&(r=Fe(e+=r))?(e+=r)-t:0):0}(e))?o[e].extend_child=1:(t=function(e){var t=e,r=void 0;return e>=s?0:(r=w(e))?(e+=r,"extend"!==o[t+1].value?0:(r=vt(e))&&(r=Jt(e+=r))?(e+=r)-t:0):0}(e))&&(o[e].extend_child=2),t}function ae(){var e,t,r,n,a=o[l].extend_child;return 1===a?(e=i.ExtendType,r=(t=o[l]).ln,n=t.col,h(e,[].concat(T(),yt(),Zt(),yt(),qe()),r,n)):2===a?function(){var e=i.ExtendType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(T(),yt(),Zt()),r,n)}():void 0}function oe(e){var t,r=e;return e>=s?0:(t=_e(e))&&(e+=t)<s&&o[e].type===a.LeftParenthesis?o[e].right-r+1:0}function se(){var e=i.FunctionType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(ge(),v()),r,n)}function le(e){var t,r=0;if(e>=s)return 0;if(!(t=oe(e)))return 0;for(e+=t;e<s&&o[e].type===a.FullStop;)r++,e++;return 3===r?t+r:0}function ce(){var e=i.FunctionsListType,t=o[l],r=t.ln,n=t.col,a=[se()],s=f(a,r,n,3);return l+=3,h(e,a,r,n,s)}function ue(e){var t,r=e;return e>=s||o[e++].type!==a.ExclamationMark?0:((t=vt(e))&&(e+=t),"global"===o[e].value?(o[r].globalEnd=e,e-r+1):0)}function de(){var e=i.GlobalType,t=o[l],r=t.ln,n=t.col,a=d(l,t.globalEnd);return l=t.globalEnd+1,h(e,a,r,n)}function pe(e){var t=e;if(e>=s)return 0;if(o[e].type===a.HyphenMinus&&o[e+1].type===a.DecimalNumber)return 0;if(o[e].type===a.HyphenMinus&&e++,we(e))return o[t].ident_last=e-1,e-t;if(o[e].type!==a.LowLine&&o[e].type!==a.Identifier)return 0;for(e++;e<s&&(o[e].type===a.HyphenMinus||o[e].type===a.LowLine||o[e].type===a.Identifier||o[e].type===a.DecimalNumber);e++);return o[t].ident_last=e-1,e-t}function fe(){var e=i.IdentType,t=o[l],r=t.ln,n=t.col,a=d(l,o[l].ident_last);return l=o[l].ident_last+1,h(e,a,r,n)}function he(e){var t=e;if(e>=s)return 0;for(;e<s&&(o[e].type===a.HyphenMinus||o[e].type===a.LowLine||o[e].type===a.Identifier||o[e].type===a.DecimalNumber);e++);return o[t].ident_last=e-1,e-t}function _e(e){for(var t=e,r=void 0,n=!1;e<s;)if(r=we(e))o[e].ii_type=1,e+=r,n=!0;else if(r=pe(e))o[e].ii_type=2,e+=r,n=!1;else{if(!n||!(r=he(e)))break;o[e].ii_type=3,e+=r,n=!1}return e-t}function ge(){for(var e=[];l<s;){var t=o[l].ii_type;if(1===t)e.push(Te());else{if(2!==t&&3!==t)break;e.push(fe())}}return e}function me(e){var t,r=e;return e>=s||o[e++].type!==a.ExclamationMark?0:((t=vt(e))&&(e+=t),"important"===o[e].value?(o[r].importantEnd=e,e-r+1):0)}function ve(){var e=i.ImportantType,t=o[l],r=t.ln,n=t.col,a=d(l,t.importantEnd);return l=t.importantEnd+1,h(e,a,r,n)}function ye(e){var t=void 0;return e>=s?0:((t=function(e){var t=e,r=void 0;return(r=w(e))?(e+=r,"include"!==o[t+1].value?0:(r=vt(e))&&(r=_e(e+=r))?((r=vt(e+=r))&&(e+=r),(r=m(e))?((r=vt(e+=r))&&(e+=r),(r=Se(e))?(e+=r)-t:0):0):0):0}(e))?o[e].include_type=9:(t=function(e){var t=e,r=void 0;return(r=w(e))?(e+=r,"include"!==o[t+1].value?0:(r=vt(e))&&(r=_e(e+=r))?((r=vt(e+=r))&&(e+=r),(r=m(e))?((r=vt(e+=r))&&(e+=r),(r=S(e))?(e+=r)-t:0):0):0):0}(e))?o[e].include_type=1:(t=function(e){var t=e,r=void 0;return(r=w(e))?(e+=r,"include"!==o[t+1].value?0:(r=vt(e))&&(r=_e(e+=r))?((r=vt(e+=r))&&(e+=r),(r=m(e))?(e+=r)-t:0):0):0}(e))?o[e].include_type=2:(t=function(e){var t=e,r=void 0;return(r=w(e))?(e+=r,"include"!==o[t+1].value?0:(r=vt(e))&&(r=_e(e+=r))?((r=vt(e+=r))&&(e+=r),(r=S(e))?(e+=r)-t:0):0):0}(e))?o[e].include_type=3:(t=function(e){var t=e,r=void 0;return(r=w(e))?(e+=r,"include"!==o[t+1].value?0:(r=vt(e))&&(r=_e(e+=r))?(e+=r)-t:0):0}(e))?o[e].include_type=4:(t=function(e){var t=e,r=void 0;return o[e].type!==a.PlusSign?0:(r=_e(++e))?((r=vt(e+=r))&&(e+=r),(r=m(e))?((r=vt(e+=r))&&(e+=r),(r=Se(e))?(e+=r)-t:0):0):0}(e))?o[e].include_type=10:(t=function(e){var t=e,r=void 0;return o[e].type!==a.PlusSign?0:(r=_e(++e))?((r=vt(e+=r))&&(e+=r),(r=m(e))?((r=vt(e+=r))&&(e+=r),(r=S(e))?(e+=r)-t:0):0):0}(e))?o[e].include_type=5:(t=function(e){var t=e,r=void 0;return o[e].type!==a.PlusSign?0:(r=_e(++e))?((r=vt(e+=r))&&(e+=r),(r=m(e))?(e+=r)-t:0):0}(e))?o[e].include_type=6:(t=function(e){var t=e,r=void 0;return o[e].type!==a.PlusSign?0:(r=_e(++e))?((r=vt(e+=r))&&(e+=r),(r=S(e))?(e+=r)-t:0):0}(e))?o[e].include_type=7:(t=function(e){var t,r=e;return o[e].type!==a.PlusSign?0:(t=_e(++e))?(e+=t)-r:0}(e))&&(o[e].include_type=8),t)}function be(){var e=o[l].include_type;return 1===e?function(){var e=i.IncludeType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(T(),yt(),ge(),yt(),v(),yt(),C()),r,n)}():2===e?function(){var e=i.IncludeType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(T(),yt(),ge(),yt(),v()),r,n)}():3===e?function(){var e=i.IncludeType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(T(),yt(),ge(),yt(),C()),r,n)}():4===e?function(){var e=i.IncludeType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(T(),yt(),ge()),r,n)}():5===e?function(){var e=i.IncludeType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(Ne(),ge(),yt(),v(),yt(),C()),r,n)}():6===e?function(){var e=i.IncludeType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(Ne(),ge(),yt(),v()),r,n)}():7===e?function(){var e=i.IncludeType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(Ne(),ge(),yt(),C()),r,n)}():8===e?function(){var e=i.IncludeType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(Ne(),ge()),r,n)}():9===e?function(){var e=i.IncludeType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(T(),yt(),ge(),yt(),v(),yt(),Ce()),r,n)}():10===e?function(){var e=i.IncludeType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(Ne(),ge(),yt(),v(),yt(),Ce()),r,n)}():void 0}function we(e){var t=e,r=void 0;if(e>=s)return 0;if(o[e].type!==a.NumberSign||!o[e+1]||o[e+1].type!==a.LeftCurlyBracket)return 0;for(e+=2;o[e].type!==a.RightCurlyBracket;){if(!(r=y(e)))return 0;e+=r}return o[e].type===a.RightCurlyBracket?e-t+1:0}function Te(){var e=i.InterpolationType,t=o[l],r=t.ln,n=t.col,c=[];for(l+=2;l<s&&o[l].type!==a.RightCurlyBracket;){var u=b();"string"==typeof u.content?c.push(u):c=c.concat(u)}var d=f(c,r,n,1);return l++,h(e,c,r,n,d)}function xe(e){var t=e,r=void 0;return e>=s?0:(r=function(e){var t=e,r=void 0;if(!(r=Me(e)))return 0;for((r=vt(e+=r)&&o[e].type!==a.Newline)&&(e+=r);e<s;){var n=e,i=e,l=void 0;if(!(l=J(i)))break;if((l=vt(i+=l))&&(i+=l),(l=vt(i))&&(i+=l),(l=vt(i))&&(i+=l),!(l=Me(i)))break;(l=vt(i+=l)&&o[i].type!==a.Newline)&&(i+=l),e+=i-n}return o[t].selectorsGroupEnd=e,e-t}(e))?((r=vt(e+=r))&&(e+=r),(r=S(e))?(e+=r)-t:0):0}function ke(){var e=i.RulesetType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(function(){var e=[],t=o[l].selectorsGroupEnd;for(e.push(Ae()),vt(l)&&o[l].type!==a.Newline&&(e=e.concat(yt()));l<t;)e=e.concat(Z(),yt(),yt(),yt(),Ae()),vt(l)&&o[l].type!==a.Newline&&(e=e.concat(yt()));return e}(),yt(),C()),r,n)}function Se(e){if(e>=s)return 0;var t=o[e].block_end,r=e,n=void 0;if(!t)return 0;for((n=vt(e))&&(e+=n),(n=xe(e))&&(e+=n);e<t;)if(n=vt(e))e+=n;else if(n=xe(e))e+=n;else{if(!(n=x(e)))break;e+=n}return e!==t+1?0:t+1-r}function Ce(){for(var e=i.BlockType,t=o[l],r=t.ln,n=t.col,a=t.block_end,s=[];l<a;)if(vt(l))s=s.concat(yt());else if(xe(l))s.push(ke());else{if(!x(l))break;s.push(k())}return h(e,s,r,n)}function Me(e){var t=e,r=void 0;if(e>=s)return 0;if(r=pe(e)){var n=p(e,r);if("from"!==n&&"to"!==n)return 0;e+=r,o[t].keyframesSelectorType=1}else if(r=We(e))e+=r,o[t].keyframesSelectorType=2;else{if(!(r=we(e)))return 0;e+=r,o[t].keyframesSelectorType=3}return e-t}function Ae(){var e=i.KeyframesSelectorType,t=i.SelectorType,r=o[l],n=r.ln,a=r.col,s=[];1===r.keyframesSelectorType?s.push(fe()):2===r.keyframesSelectorType?s.push(Ge()):3===r.keyframesSelectorType&&s.push(Te());var c=h(e,s,n,a);return h(t,[c],n,a)}function Oe(e){var t=e,r=void 0;if(e>=s)return 0;if(!(r=w(e)))return 0;if(e+=r,["for","each","while"].indexOf(o[t+1].value)<0)return 0;for(;e<s;){if(r=S(e)){e+=r;break}if(!(r=Wt(e)||Ie(e)||we(e)||pe(e)||vt(e)||Re(e)||D(e)||Tt(e)))return 0;e+=r}return e-t}function Ee(){var e=i.LoopType,t=o[l],r=t.ln,n=t.col,a=[];for(a.push(T());l<s;){if(S(l)){a.push(C());break}Wt(l)?a.push(Gt()):Ie(l)?a.push(Le()):we(l)?a.push(Te()):pe(l)?a.push(fe()):Re(l)?a.push(Ne()):D(l)?a.push(j()):vt(l)?a=a.concat(yt()):Tt(l)&&a.push(xt())}return h(e,a,r,n)}function Pe(e){return je(e)||function(e){var t=e,r=void 0;if(e>=s)return 0;if(o[e].type!==a.EqualsSign)return 0;if((r=vt(++e))&&(e+=r),!(r=_e(e)))return 0;if((r=vt(e+=r))&&(e+=r),r=S(e))e+=r;else{if((r=m(e))&&(e+=r),(r=vt(e))&&(e+=r),!(r=S(e)))return 0;e+=r}return e-t}(e)}function De(){return je(l)?(e=i.MixinType,r=(t=o[l]).ln,n=t.col,a=[].concat(T(),yt()),_e(l)&&(a=a.concat(ge())),a=a.concat(yt()),S(l)?a.push(C()):(m(l)&&a.push(v()),(a=a.concat(yt())).push(C())),h(e,a,r,n)):function(){var e=i.MixinType,t=o[l],r=t.ln,n=t.col,a=[].concat(Ne(),yt());return _e(l)&&(a=a.concat(ge())),a=a.concat(yt()),S(l)?a.push(C()):(m(l)&&a.push(v()),(a=a.concat(yt())).push(C())),h(e,a,r,n)}();var e,t,r,n,a}function je(e){var t=e,r=void 0;if(e>=s)return 0;if(!(r=w(e))||"mixin"!==o[e+1].value)return 0;if((r=vt(e+=r))&&(e+=r),!(r=_e(e)))return 0;if((r=vt(e+=r))&&(e+=r),r=S(e))e+=r;else{if((r=m(e))&&(e+=r),(r=vt(e))&&(e+=r),!(r=S(e)))return 0;e+=r}return e-t}function Ie(e){return e>=s?0:o[e].number_l?o[e].number_l:e<s&&o[e].type===a.DecimalNumber&&(!o[e+1]||o[e+1]&&o[e+1].type!==a.FullStop)?(o[e].number_l=1,1):e<s&&o[e].type===a.DecimalNumber&&o[e+1]&&o[e+1].type===a.FullStop&&(!o[e+2]||o[e+2].type!==a.DecimalNumber)||e<s&&o[e].type===a.FullStop&&o[e+1].type===a.DecimalNumber?(o[e].number_l=2,2):e<s&&o[e].type===a.DecimalNumber&&o[e+1]&&o[e+1].type===a.FullStop&&o[e+2]&&o[e+2].type===a.DecimalNumber?(o[e].number_l=3,3):0}function Le(){for(var e=i.NumberType,t=o[l],r=t.ln,n=t.col,a=o[l].number_l,s="",c=0;c<a;c++)s+=o[l+c].value;return l+=a,h(e,s,r,n)}function Re(e){if(e>=s)return 0;switch(o[e].type){case a.Solidus:case a.PercentSign:case a.Comma:case a.Colon:case a.EqualsSign:case a.EqualitySign:case a.InequalitySign:case a.LessThanSign:case a.GreaterThanSign:case a.Asterisk:return 1}return 0}function Ne(){var e=i.OperatorType,t=o[l],r=t.ln,n=t.col,a=t.value;return l++,h(e,a,r,n)}function Fe(e){var t,r=e;return e>=s||o[e++].type!==a.ExclamationMark?0:((t=vt(e))&&(e+=t),"optional"===o[e].value?(o[r].optionalEnd=e,e-r+1):0)}function qe(){var e=i.OptionalType,t=o[l],r=t.ln,n=t.col,a=d(l,t.optionalEnd);return l=t.optionalEnd+1,h(e,a,r,n)}function Ue(e){if(e>=s)return 0;var t=e,r=o[e].right,n=void 0;if(o[e].type!==a.LeftParenthesis)return 0;if(++e<r){if(!(n=St(e)))return 0;e+=n}return++e-t}function ze(){var e=i.ParenthesesType,t=o[l],r=t.ln,n=t.col,a=t.right,s=[];++l<a&&(s=Ct());var c=f(s,r,n,1);return l++,h(e,s,r,n,c)}function Be(e){return e<s&&o[e].type===a.Ampersand?1:0}function $e(){var e=i.ParentSelectorType,t=o[l],r=t.ln,n=t.col;return l++,h(e,"&",r,n)}function He(e){var t=e,r=void 0;if(e>=s)return 0;for(;e<s&&(r=_e(e)||he(e));)e+=r;return e-t}function Ve(e){var t=e,r=void 0;return e>=s?0:(r=Be(e))?((r=He(e+=r))&&(e+=r),e-t):0}function We(e){var t,r=e;return e>=s?0:(t=Ke(e))?(e+=t)>=s||o[e].type!==a.PercentSign?0:++e-r:0}function Ge(){var e=i.PercentageType,t=o[l],r=t.ln,n=t.col,a=Qe(),s=f(a,r,n,1);return l++,h(e,a,r,n,s)}function Ke(e){for(var t=e,r=void 0;e<s&&(r=we(e)||Ie(e));)e+=r;return e-t}function Qe(){for(var e=[];l<s;)if(we(l))e.push(Te());else{if(!Ie(l))break;e.push(Le())}return e}function Xe(e){var t,r=e;return e>=s?0:o[r].placeholder_l?o[r].placeholder_l:o[e].type!==a.PercentSign?0:(t=_e(++e))?(e+=t,o[r].placeholder_l=e-r,e-r):0}function Ye(){var e=i.PlaceholderType,t=o[l],r=t.ln,n=t.col,a=[];return l++,h(e,a=a.concat(ge()),r,n)}function Je(e){var t=e,r=void 0;return e>=s||"progid:DXImageTransform.Microsoft."!==p(e,6)?0:(r=_e(e+=6))?((r=vt(e+=r))&&(e+=r),o[e].type!==a.LeftParenthesis?0:(o[t].progid_end=o[e].right,(e=o[e].right+1)-t)):0}function Ze(){var e=i.ProgidType,t=o[l],r=t.ln,n=t.col,a=t.progid_end,s=d(l,a);return l=a+1,h(e,s,r,n)}function et(e){var t=e,r=void 0;return(r=function(e){var t,r=e;return e>=s?0:(t=_e(e))?(e+=t)-r:0}(e))?o[t].propertyType=1:(r=function(e){return rt(e)}(e))?o[t].propertyType=2:(r=function(e){var t,r=e;return e>=s?0:(t=Wt(e))?(e+=t)-r:0}(e))&&(o[t].propertyType=3),r}function tt(){var e=o[l].propertyType;return 1===e?function(){var e=i.PropertyType,t=o[l],r=t.ln,n=t.col;return h(e,ge(),r,n)}():2===e?nt():3===e?function(){var e=i.PropertyType,t=o[l],r=t.ln,n=t.col;return h(e,[Gt()],r,n)}():void 0}function rt(e){var t,r=e;return e>=s||o[e].type!==a.HyphenMinus||o[e+1]&&o[e+1].type!==a.HyphenMinus?0:(t=pe(e+=2))?(e+=t)-r:0}function nt(){var e=i.CustomPropertyType,t=o[l],r=t.ln,n=t.col;return l+=2,h(e,[fe()],r,n)}function it(e){return e<s&&o[e].type===a.Colon?1:0}function at(){var e=i.PropertyDelimType,t=o[l],r=t.ln,n=t.col;return l++,h(e,":",r,n)}function ot(e){return lt(e)||ut(e)}function st(){return lt(l)?ct():ut(l)?dt():void 0}function lt(e){var t=void 0;if(e>=s||o[e].type!==a.Colon||e+1>=s||o[e+1].type!==a.Colon)return 0;if(t=function(e){var t=e,r=void 0;if((e+=2)>=s)return 0;if(!(r=pe(e)))return 0;if((e+=r)>=s||o[e].type!==a.LeftParenthesis)return 0;var n=o[e].right;return(r=vt(++e))&&(e+=r),(r=Jt(e))?((r=vt(e+=r))&&(e+=r),e!==n?0:++e-t):0}(e))o[e].pseudoElementType=1;else{if(!(t=function(e){var t,r=e;return(t=_e(e+=2))?(e+=t)-r:0}(e)))return 0;o[e].pseudoElementType=2}return t}function ct(){var e,t,r,n,a=o[l].pseudoElementType;return 1===a?function(){var e=i.PseudoeType,t=o[l],r=t.ln,n=t.col,a=[];l+=2,a.push(fe());var s=i.ArgumentsType,c=o[l],u=c.ln,d=c.col;l++;var p=[].concat(yt(),Zt(),yt()),_=h(s,p,u,d,f(p,u,d,1));return a.push(_),l++,h(e,a,r,n)}():2===a?(e=i.PseudoeType,r=(t=o[l]).ln,n=t.col,l+=2,h(e,ge(),r,n)):void 0}function ut(e){var t=void 0;if(e>=s||o[e].type!==a.Colon)return 0;if(t=function(e){var t=e,r=void 0;if(++e>=s)return 0;if(!(r=_e(e)))return 0;if((e+=r)>=s||o[e].type!==a.LeftParenthesis)return 0;var n=o[e].right;return(r=vt(++e))&&(e+=r),(r=Mt(e))&&(e+=r),(r=Ke(e))&&(e+=r),e>=s?0:("n"===o[e].value&&e++,(r=vt(e))&&(e+=r),e>=s||o[e].type!==a.PlusSign&&o[e].type!==a.HyphenMinus?0:((r=vt(++e))&&(e+=r),(r=Ke(e))?((r=vt(e+=r))&&(e+=r),e!==n?0:++e-t):0))}(e))o[e].pseudoClassType=3;else if(t=function(e){var t=e,r=void 0;if(++e>=s)return 0;if(!(r=_e(e)))return 0;if((e+=r)>=s)return 0;if(o[e].type!==a.LeftParenthesis)return 0;var n=o[e].right;return(r=vt(++e))&&(e+=r),(r=Mt(e))&&(e+=r),(r=we(e))&&(e+=r),o[e].type===a.DecimalNumber&&e++,"n"!==o[e].value?0:((r=vt(++e))&&(e+=r),e!==n?0:++e-t)}(e))o[e].pseudoClassType=4;else if(t=function(e){var t=e,r=void 0;if(++e>=s)return 0;if(!(r=_e(e)))return 0;if((e+=r)>=s)return 0;if(o[e].type!==a.LeftParenthesis)return 0;var n=o[e].right;return(r=vt(++e))&&(e+=r),(r=Mt(e))&&(e+=r),o[e].type!==a.DecimalNumber?0:((r=vt(++e))&&(e+=r),e!==n?0:++e-t)}(e))o[e].pseudoClassType=5;else if(t=function(e){var t=e,r=void 0;if(++e>=s)return 0;if(!(r=_e(e)))return 0;if((e+=r)>=s||o[e].type!==a.LeftParenthesis)return 0;var n=o[e].right;return(r=vt(++e))&&(e+=r),(r=Jt(e))?((r=vt(e+=r))&&(e+=r),e!==n?0:++e-t):0}(e))o[e].pseudoClassType=1;else if(t=function(e){var t=e,r=void 0;if(++e>=s)return 0;if(!(r=_e(e)))return 0;if((e+=r)>=s||o[e].type!==a.LeftParenthesis)return 0;var n=o[e].right;return(r=vt(++e))&&(e+=r),(r=_e(e))?((r=vt(e+=r))&&(e+=r),e!==n?0:++e-t):0}(e))o[e].pseudoClassType=2;else{if(!(t=function(e){var t,r=e;return++e>=s?0:(t=_e(e))?(e+=t)-r:0}(e)))return 0;o[e].pseudoClassType=6}return t}function dt(){var e,t,r,n,a=o[l].pseudoClassType;return 1===a?function(){var e=i.PseudocType,t=o[l],r=t.ln,n=t.col,a=[];l++,a=a.concat(ge());var s=i.ArgumentsType,c=o[l],u=c.ln,d=c.col;l++;var p=[].concat(yt(),Zt(),yt()),_=h(s,p,u,d,f(p,u,d,1));return a.push(_),l++,h(e,a,r,n)}():2===a?function(){var e=i.PseudocType,t=o[l],r=t.ln,n=t.col,a=[];l++,a=a.concat(ge());var s=o[l].ln,c=o[l].col;l++;var u=[].concat(yt(),ge(),yt()),d=f(u,s,c,1),p=h(i.ArgumentsType,u,s,c,d);return a.push(p),l++,h(e,a,r,n)}():3===a?function(){var e=i.PseudocType,t=o[l],r=t.ln,n=t.col,a=[];l++,a=a.concat(ge());var s=o[l].ln,c=o[l].col,u=[];l++,u=u.concat(yt()),Mt(l)&&u.push(At()),Ke(l)&&(u=u.concat(Qe()));var d=o[l];if("n"===d.value){var p=d.ln,_=d.col,g=d.value,m=h(i.IdentType,g,p,_);u.push(m),l++}u=u.concat(yt()),Mt(l)&&u.push(At()),u=u.concat(yt()),Ke(l)&&(u=u.concat(Qe()));var v=f(u=u.concat(yt()),s,c,1),y=h(i.ArgumentsType,u,s,c,v);return a.push(y),l++,h(e,a,r,n)}():4===a?function(){var e=i.PseudocType,t=o[l],r=t.ln,n=t.col,a=[];l++,a=a.concat(ge());var s=o[l].ln,c=o[l].col,u=[];l++,u=u.concat(yt()),Mt(l)&&u.push(At()),we(l)&&u.push(Te()),Ie(l)&&u.push(Le()),pe(l)&&u.push(fe());var d=f(u=u.concat(yt()),s,c,1),p=h(i.ArgumentsType,u,s,c,d);return a.push(p),l++,h(e,a,r,n)}():5===a?function(){var e=i.PseudocType,t=o[l],r=t.ln,n=t.col,a=[];l++,a=a.concat(ge());var s=o[l].ln,c=o[l].col,u=[];l++,u=u.concat(yt()),Mt(l)&&u.push(At()),Ie(l)&&u.push(Le());var d=f(u=u.concat(yt()),s,c,1),p=h(i.ArgumentsType,u,s,c,d);return a.push(p),l++,h(e,a,r,n)}():6===a?(e=i.PseudocType,r=(t=o[l]).ln,n=t.col,l++,h(e,ge(),r,n)):void 0}function pt(e){var t=e,r=void 0;if(e>=s)return 0;if(!(r=Jt(e)))return 0;if((r=vt(e+=r))&&(e+=r),r=S(e))e+=r;else{if(!(r=vt(e)))return 0;if(!(r=S(e+=r)))return 0;e+=r}return e-t}function ft(){var e=i.RulesetType,t=o[l],r=t.ln,n=t.col,a=[].concat(Zt(),yt());return S(l)?a.push(C()):a=a.concat(yt(),C()),h(e,a,r,n)}function ht(e){return e<s&&o[e].ws?o[e].ws_last-e+1:0}function _t(){var e=i.SType,t=o[l],r=t.ln,n=t.col,a=d(l,o[l].ws_last);return l=o[l].ws_last+1,h(e,a,r,n)}function gt(e){if(!o[e])return 0;for(var t=void 0,r=0;e<s&&((t=ht(e))||(t=I(e))||(t=R(e)));)e+=t,r+=t;return r||0}function mt(){var e=[];if(l>=s)return e;for(;l<s;)if(ht(l))e.push(_t());else if(I(l))e.push(L());else{if(!R(l))break;e.push(N())}return e}function vt(e){if(e>=s)return 0;for(var t=void 0,r=0,n=o[e].ln;e<s&&o[e].ln===n;){if(t=ht(e))o[e].sc_child=1;else if(t=I(e))o[e].sc_child=2;else{if(!(t=R(e)))break;o[e].sc_child=3}if(r+=t,o[e+=t]&&o[e].type===a.Newline)break}return r||0}function yt(){var e=[];if(l>=s)return e;for(var t=o[l].ln;l<s&&o[l].ln===t;){if(ht(l))e.push(_t());else if(I(l))e.push(L());else{if(!R(l))break;e.push(N())}if(o[l]&&o[l].type===a.Newline)break}return e}function bt(e){var t=e,r=void 0;if(e>=s)return 0;if(o[e].type!==a.NumberSign)return 0;if(!(r=_e(++e)||he(e)))return 0;for(e+=r;e<s&&(r=_e(e)||he(e));)e+=r;return o[t].shashEnd=e,e-t}function wt(){var e=i.ShashType,t=o[l],r=t.ln,n=t.col,a=t.shashEnd,s=[];for(l++;l<a;)if(_e(l))s=s.concat(ge());else{if(!he(l))break;s.push(fe())}return h(e,s,r,n)}function Tt(e){return e>=s?0:o[e].type===a.StringSQ||o[e].type===a.StringDQ?1:0}function xt(){var e=i.StringType,t=o[l],r=t.ln,n=t.col,a=t.value;return l++,h(e,a,r,n)}function kt(e){return Xt(e)||Re(e)||_(e)||vt(e)}function St(e){var t=e,r=void 0;if(e>=s)return 0;for(;o[e-1].type!==a.Newline&&(r=kt(e));)e+=r;return e-t}function Ct(){for(var e=[],t=void 0;o[l-1].type!==a.Newline&&(t=Xt(l)?Yt():Re(l)?Ne():_(l)?g():vt(l)?yt():void 0);)"string"==typeof t.content?e.push(t):e=e.concat(t);return e}function Mt(e){return e>=s?0:o[e].type===a.HyphenMinus||o[e].type===a.PlusSign?1:0}function At(){var e=i.OperatorType,t=o[l],r=t.ln,n=t.col,a=t.value;return l++,h(e,a,r,n)}function Ot(e){var t=e,r=void 0;if(e>=s)return 0;if(!(r=Dt(e)))return 0;for(e+=r;e<s;){var n=vt(e),i=J(e+n);if(!i)break;var a=vt(e+n+i);if(!(r=Dt(e+n+i+a)))break;e+=n+i+a+r}return e-t}function Et(){for(var e=i.UnicodeRangeType,t=o[l],r=t.ln,n=t.col,a=[];l<s;)if(vt(l))a=a.concat(yt());else if(J(l))a.push(Z());else{if(!Dt(l))break;a.push(jt())}return h(e,a,r,n)}function Pt(){var e=i.IdentType,t=o[l],r=t.ln,n=t.col,a=t.value;return l++,h(e,a,r,n)}function Dt(e){var t=e,r=void 0;if(e>=s)return 0;if("U"!==o[e].value&&"u"!==o[e].value)return 0;if((e+=1)>=s)return 0;if("+"!==o[e].value)return 0;for(e+=1;e<s;)if(r=pe(e))e+=r;else if(r=Ie(e))e+=r;else if(r=Mt(e))e+=r;else{if(!(r=It(e)))break;e+=r}return o[t].urangeEnd=e-1,e-t}function jt(){var e,t=l,r=i.UrangeType,n=o[l],a=n.ln,s=n.col;return e=d(t,o[t].urangeEnd),l=o[t].urangeEnd+1,h(r,e,a,s)}function It(e){var t=e;if(e>=s)return 0;for(;e<s&&o[e].type===a.QuestionMark;)e+=1;return e-t}function Lt(e){var t=e,r=void 0;if(e>=s||"url"!==o[e].value)return 0;if(++e>=s||o[e].type!==a.LeftParenthesis)return 0;var n=o[e];for(e++;e<n.right;)if(r=Ut(e))e+=r,o[t].uriType=1;else{if(!(r=zt(e)))return 0;e+=r,o[t].uriType=2}return++e-t}function Rt(){var e=l,t=i.UriType,r=o[e],n=r.ln,a=r.col,s=[],c=void 0,u=o[e].uriType;return l+=2,1===u?s=s.concat(function(){var e=l,t=[];for(vt(l)&&(t=t.concat(yt()));l<o[e].uri_end;)if(we(l))t.push(Te());else{if(!Ft(l))break;t.push(qt())}return vt(l)&&(t=t.concat(yt())),t}()):2===u?s=s.concat(function(){for(var e=l,t=[];l<o[e].uri_end;)if(vt(l))t=t.concat(yt());else if(Mt(l))t.push(At());else{if(!Ht(l))break;t.push(Vt())}return t}()):c=f(s,n,a,4),c||(c=f(s,n,a,1)),l++,h(t,s,n,a,c)}function Nt(e){var t=e,r=void 0;if(r=pe(e))e+=r;else if(r=Ie(e))e+=r;else switch(o[e].type){case a.ExclamationMark:case a.NumberSign:case a.DollarSign:case a.PercentSign:case a.Ampersand:case a.Asterisk:case a.PlusSign:case a.Comma:case a.HyphenMinus:case a.FullStop:case a.Solidus:case a.Colon:case a.Semicolon:case a.LessThanSign:case a.EqualsSign:case a.GreaterThanSign:case a.QuotationMark:case a.CommercialAt:case a.LeftSquareBracket:case a.RightSquareBracket:case a.CircumflexAccent:case a.LowLine:case a.LeftCurlyBracket:case a.VerticalLine:case a.RightCurlyBracket:case a.Tilde:e+=1;break;default:return 0}return e-t}function Ft(e){for(var t=e,r=void 0;e<s&&!we(e)&&!Wt(e)&&(r=Nt(e));)e+=r;return o[t].uri_raw_end=e,e-t}function qt(){for(var e=l,t=i.RawType,r=o[e],n=r.ln,a=r.col,s=void 0;l<o[e].uri_raw_end&&!we(l)&&!Wt(l)&&(s=Nt(l));)l+=s;return h(t,d(e,l-1),n,a)}function Ut(e){var t=e,r=void 0;for((r=vt(e))&&(e+=r);e<s&&(r=we(e)||Ft(e));)e+=r;return(r=vt(e))&&(e+=r),e<o[t-1].right?0:(o[t].uri_end=e,e-t)}function zt(e){for(var t=e,r=void 0;e<s;)if(r=vt(e))e+=r;else if(r=Tt(e))e+=r;else if(r=oe(e))e+=r;else if(r=Mt(e))e+=r;else if(r=_e(e))e+=r;else{if(!(r=Wt(e)))break;e+=r}return e<o[t-1].right?0:(o[t].uri_end=e,e-t)}function Bt(e){for(var t=e,r=void 0,n=void 0;e<s&&!K(e);){if(r=S(e)){e+=r;break}if((r=Ht(e+(n=ht(e))))&&(e+=r+n),!r||S(e-r))break}return e-t}function $t(){for(var e=i.ValueType,t=o[l],r=t.ln,n=t.col,a=[],c=void 0,u=void 0;l<s&&!K(l)&&(u=ht(l),!K(c=l+u));){if(S(l)){a.push(C());break}if(!Ht(c))break;if(u&&a.push(_t()),a.push(Vt()),S(c))break}return h(e,a,r,n)}function Ht(e){var t=void 0;return(t=we(e))?o[e].value_child=1:(t=Wt(e))?o[e].value_child=2:(t=Xt(e))?o[e].value_child=3:(t=S(e))?o[e].value_child=4:(t=w(e))?o[e].value_child=5:(t=Re(e))?o[e].value_child=6:(t=me(e))?o[e].value_child=7:(t=ue(e))?o[e].value_child=8:(t=X(e))?o[e].value_child=9:(t=Je(e))?o[e].value_child=10:(t=_(e))?o[e].value_child=11:(t=Be(e))&&(o[e].value_child=12),t}function Vt(){var e=o[l].value_child;return 1===e?Te():2===e?Gt():3===e?Yt():4===e?C():5===e?T():6===e?Ne():7===e?ve():8===e?de():9===e?Y():10===e?Ze():11===e?g():12===e?$e():void 0}function Wt(e){var t,r=e;return e>=s||o[e].type!==a.DollarSign?0:(t=pe(++e))?(e+=t)-r:0}function Gt(){var e=i.VariableType,t=o[l],r=t.ln,n=t.col;return l++,h(e,[fe()],r,n)}function Kt(e){var t,r=0;if(e>=s)return 0;if(!(t=Wt(e)))return 0;for(e+=t;e<s&&o[e].type===a.FullStop;)r++,e++;return 3===r?t+r:0}function Qt(){var e=i.VariablesListType,t=o[l],r=t.ln,n=t.col,a=[Gt()],s=f(a,r,n,3);return l+=3,h(e,a,r,n,s)}function Xt(e){var t,r=e;return e>=s||o[e].type!==a.NumberSign?0:(t=function(e){return o[e].type===a.Identifier?1:o[e].type!==a.DecimalNumber?0:++e<s&&o[e].type===a.Identifier?2:1}(++e))?(e+=t)-r:0}function Yt(){var e,t=i.VhashType,r=o[l],n=r.ln,c=r.col,u=(e=o[++l].value,o[l++].type===a.DecimalNumber&&l<s&&o[l].type===a.Identifier&&(e+=o[l++].value),e);return h(t,u,n,c,f(u,n,c+1))}function Jt(e){if(e>=s)return 0;var t=e,r=void 0;if(!(r=er(e)))return 0;for(e+=r;e<s;){var n=vt(e),i=J(e+n);if(!i)break;var a=gt(e+n+i),l=a?gt(e+n+i+a):0;if(!(r=er(e+n+i+a+l)))break;e+=n+i+a+l+r}return o[t].selectorsGroupEnd=e,e-t}function Zt(){var e=[],t=o[l].selectorsGroupEnd;for(e.push(tr());l<t;)e=e.concat(mt(),Z(),mt(),tr());return e}function er(e){var t=void 0;return(t=function(e){if(e>=s)return 0;var t=e,r=void 0;if(!(r=rr(e)))return 0;for(e+=r;e<s;){var n=vt(e),i=D(e+n);if(!n&&!i)break;if(i&&(n=vt(e+=n+i)),!(r=rr(e+n)))break;e+=n+r}return o[t].selectorEnd=e,e-t}(e))?o[e].selectorType=1:(t=function(e){if(e>=s)return 0;var t=e,r=void 0;if(!(r=D(e)))return 0;for(e+=r;e<s;){var n=vt(e);if(!(r=rr(e+n)))break;var i=vt(e+=n+r),a=D(e+i);if(!i&&!a)break;a&&(e+=i+a)}return o[t].selectorEnd=e,e-t}(e))&&(o[e].selectorType=2),t}function tr(){return 1===o[l].selectorType?function(){for(var e=i.SelectorType,t=o[l],r=t.ln,n=t.col,a=t.selectorEnd,s=nr();l<a;)vt(l)?s=s.concat(yt()):D(l)?s.push(j()):rr(l)&&(s=s.concat(nr()));return h(e,s,r,n)}():function(){for(var e=i.SelectorType,t=o[l],r=t.ln,n=t.col,a=t.selectorEnd,s=[j()];l<a;)vt(l)?s=s.concat(yt()):D(l)?s.push(j()):rr(l)&&(s=s.concat(nr()));return h(e,s,r,n)}()}function rr(e){var t=void 0;return(t=function(e){if(e>=s)return 0;var t,r=e;if(!(t=ir(e)||or(e)||Xe(e)||Ve(e)))return 0;for(e+=t;e<s;){var n=bt(e)||E(e)||lr(e)||ot(e)||Xe(e)||we(e);if(!n)break;e+=n}return o[r].compoundSelectorEnd=e,e-r}(e))?o[e].compoundSelectorType=1:(t=function(e){if(e>=s)return 0;for(var t=e;e<s;){var r=bt(e)||E(e)||lr(e)||ot(e)||Xe(e)||we(e);if(!r)break;e+=r}return o[t].compoundSelectorEnd=e,e-t}(e))&&(o[e].compoundSelectorType=2),t}function nr(){var e=o[l].compoundSelectorType;return 1===e?function(){var e,t=[],r=o[l].compoundSelectorEnd;for(ir(l)?t.push(ar()):or(l)?t.push(sr()):Xe(l)?t.push(Ye()):Ve(l)&&(t=t.concat((e=[$e()],He(l)&&e.push(function(){for(var e=i.ParentSelectorExtensionType,t=o[l],r=t.ln,n=t.col,a=[];l<s;)if(_e(l))a=a.concat(ge());else{if(!he(l))break;a.push(fe())}return h(e,a,r,n)}()),e)));l<r;)if(bt(l))t.push(wt());else if(E(l))t.push(P());else if(lr(l))t.push(cr());else if(ot(l))t.push(st());else if(Xe(l))t.push(Ye());else{if(!we(l))break;t.push(Te())}return t}():2===e?function(){for(var e=[],t=o[l].compoundSelectorEnd;l<t;)if(bt(l))e.push(wt());else if(E(l))e.push(P());else if(lr(l))e.push(cr());else if(ot(l))e.push(st());else if(Xe(l))e.push(Ye());else{if(!we(l))break;e.push(Te())}return e}():void 0}function ir(e){if(e>=s)return 0;var t,r=e;return(t=fr(e))&&(e+=t),o[e].type!==a.Asterisk?0:++e-r}function ar(){var e=i.UniversalSelectorType,t=o[l],r=t.ln,n=t.col,a=[],s=void 0;return fr(l)&&(a.push(hr()),s=f(a,r,n,1)),l++,h(e,a,r,n,s)}function or(e){if(e>=s)return 0;var t=e,r=void 0;return(r=fr(e))&&(e+=r),(r=_e(e))?(e+=r)-t:0}function sr(){var e=i.TypeSelectorType,t=o[l],r=t.ln,n=t.col,a=[];return fr(l)&&a.push(hr()),h(e,a=a.concat(ge()),r,n)}function lr(e){var t=void 0;return(t=function(e){var t=e;if(o[e].type!==a.LeftSquareBracket)return 0;var r=void 0;return(r=vt(++e))&&(e+=r),(r=ur(e))?((r=vt(e+=r))&&(e+=r),(r=function(e){var t=void 0;return(t=function(e){var t=e,r=o[e].type;return r!==a.Tilde&&r!==a.VerticalLine&&r!==a.CircumflexAccent&&r!==a.DollarSign&&r!==a.Asterisk||o[++e].type!==a.EqualsSign?0:++e-t}(e))?o[e].attributeMatchType=1:(t=function(e){return o[e].type===a.EqualsSign?1:0}(e))&&(o[e].attributeMatchType=2),t}(e))?((r=vt(e+=r))&&(e+=r),(r=function(e){return Tt(e)||_e(e)}(e))?((r=vt(e+=r))&&(e+=r),(r=pr(e))&&(r=vt(e+=r))&&(e+=r),o[e].type!==a.RightSquareBracket?0:++e-t):0):0):0}(e))?o[e].attributeSelectorType=1:(t=function(e){var t=e;if(o[e].type!==a.LeftSquareBracket)return 0;var r=void 0;return(r=vt(++e))&&(e+=r),(r=ur(e))?((r=vt(e+=r))&&(e+=r),o[e].type!==a.RightSquareBracket?0:++e-t):0}(e))&&(o[e].attributeSelectorType=2),t}function cr(){return 1===o[l].attributeSelectorType?(e=i.AttributeSelectorType,r=(t=o[l]).ln,n=t.col,l++,a=(a=[]).concat(yt(),dr(),yt(),1===o[l].attributeMatchType?function(){var e=i.AttributeMatchType,t=o[l],r=t.ln,n=t.col,a=o[l].value+o[l+1].value;return l+=2,h(e,a,r,n)}():function(){var e=i.AttributeMatchType,t=o[l],r=t.ln,n=t.col;return l++,h(e,"=",r,n)}(),yt(),function(){var e=i.AttributeValueType,t=o[l],r=t.ln,n=t.col,a=[];return Tt(l)?a.push(xt()):a=a.concat(ge()),h(e,a,r,n)}(),yt()),pr(l)&&(a.push(function(){var e=i.AttributeFlagsType,t=o[l],r=t.ln,n=t.col;return h(e,ge(),r,n)}()),a=a.concat(yt())),l++,h(e,a,r,n,f(a,r,n,1))):function(){var e=i.AttributeSelectorType,t=o[l],r=t.ln,n=t.col,a=[];return l++,a=a.concat(yt(),dr(),yt()),l++,h(e,a,r,n,f(a,r,n,1))}();var e,t,r,n,a}function ur(e){var t=e,r=void 0;return(r=fr(e))&&(e+=r),(r=_e(e))?(e+=r)-t:0}function dr(){var e=i.AttributeNameType,t=o[l],r=t.ln,n=t.col,a=[];return fr(l)&&a.push(hr()),h(e,a=a.concat(ge()),r,n)}function pr(e){return _e(e)}function fr(e){if(e>=s)return 0;var t=void 0;return(t=function(e){var t=e,r=void 0;return(r=function(e){if(e>=s)return 0;var t=void 0;return o[e].type===a.Asterisk?1:(t=_e(e))?t:0}(e))?((r=I(e+=r))&&(e+=r),(r=_r(e))?(e+=r)-t:0):0}(e))?o[e].namePrefixType=1:(t=function(e){return _r(e)}(e))&&(o[e].namePrefixType=2),t}function hr(){return 1===o[l].namePrefixType?(e=i.NamePrefixType,r=(t=o[l]).ln,n=t.col,(s=[]).push(function(){var e=i.NamespacePrefixType,t=o[l],r=t.ln,n=t.col,s=[];if(t.type===a.Asterisk){var c=h(i.IdentType,"*",r,n);s.push(c),l++}else _e(l)&&(s=s.concat(ge()));return h(e,s,r,n)}()),I(l)&&s.push(L()),s.push(gr()),h(e,s,r,n)):function(){var e=i.NamePrefixType,t=o[l],r=t.ln,n=t.col;return h(e,[gr()],r,n)}();var e,t,r,n,s}function _r(e){return e>=s||o[e].type!==a.VerticalLine||o[e+1]&&o[e+1].type===a.EqualsSign?0:1}function gr(){var e=i.NamespaceSeparatorType,t=o[l],r=t.ln,n=t.col;return l++,h(e,"|",r,n)}e.exports=function(e,t){return s=(o=e).length,l=0,c[t]()}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(13),i=[],a=!1,o=void 0,s=void 0,l=0,c=0,u=1,d=1,p={" ":n.Space,"\n":n.Newline,"\r":n.Newline,"\t":n.Tab,"!":n.ExclamationMark,'"':n.QuotationMark,"#":n.NumberSign,$:n.DollarSign,"%":n.PercentSign,"&":n.Ampersand,"'":n.Apostrophe,"(":n.LeftParenthesis,")":n.RightParenthesis,"*":n.Asterisk,"+":n.PlusSign,",":n.Comma,"-":n.HyphenMinus,".":n.FullStop,"/":n.Solidus,":":n.Colon,";":n.Semicolon,"<":n.LessThanSign,"=":n.EqualsSign,"==":n.EqualitySign,"!=":n.InequalitySign,">":n.GreaterThanSign,"?":n.QuestionMark,"@":n.CommercialAt,"[":n.LeftSquareBracket,"]":n.RightSquareBracket,"^":n.CircumflexAccent,_:n.LowLine,"{":n.LeftCurlyBracket,"|":n.VerticalLine,"}":n.RightCurlyBracket,"~":n.Tilde,"`":n.Backtick};function f(e,t,r){i.push({tn:c++,ln:u,col:r,type:e,value:t})}function h(e){return"0123456789".indexOf(e)>=0}function _(e){for(var t=l;l<e.length&&" "===e.charAt(l);l++);f(n.Space,e.substring(t,l--),d),d+=l-t}function g(e,t){var r=l;for(l++;l<e.length;l++)if("\\"===e.charAt(l))l++;else if(e.charAt(l)===t)break;f('"'===t?n.StringDQ:n.StringSQ,e.substring(r,l+1),d),d+=l-r}function m(e){for(var t=l;l<e.length&&h(e.charAt(l));l++);f(n.DecimalNumber,e.substring(t,l--),d),d+=l-t}function v(e){for(var t=l;"/"===e.charAt(l);)l++;for(;l<e.length;l++)if("\\"===e.charAt(l))l++;else if(e.charAt(l)in p)break;var r=e.substring(t,l--);a||"url"!==r||"("!==e.charAt(l+1)||(a=!0),f(n.Identifier,r,d),d+=l-t}function y(e){for(var t=l,r=d,i=0,a=l-1;a>-1&&" "===e.charAt(a);a--)i++;for(l+=2;l<e.length;l++){var o=e.charAt(l);if("\n"===o){var s=void 0,c=0;for(s=l+1;s<e.length&&" "===e.charAt(s);s++)c++;if(!(c>i)){l--;break}d=0,l+=s-l}else if("*"===o&&"/"===e.charAt(l+1)){l++;break}}"\r"===e.charAt(l)&&l--;var p=e.substring(t,l+1);f(n.CommentML,p,r);var h=p.split("\n");h.length>1?(u+=h.length-1,d=h[h.length-1].length):d+=l-t}function b(e){var t,r=l,i=d,a=0,o=!1;for(t=l-1;t>-1;t--){if(" "!==e.charAt(t)){if("\n"===e.charAt(t)){o=!0;break}break}a++}if(-1===t&&(o=!0),o){for(l+=2;l<e.length;l++)if("\n"===e.charAt(l)){var s=0;for(t=l+1;t<e.length&&" "===e.charAt(t);t++)s++;if(!(s>a))break;d=0,l+=t-l}}else for(l+=2;l<e.length&&"\n"!==e.charAt(l)&&"\r"!==e.charAt(l);l++);"\r"===e.charAt(l-1)&&l--;var c=e.substring(r,l--);f(n.CommentSL,c,i);var p=c.split("\n");p.length>1?(u+=p.length-1,d=p[p.length-1].length):d+=l-r}return function(e){for(l=0;l<e.length;d++,l++)o=e.charAt(l),s=e.charAt(l+1),"/"===o&&"*"===s?y(e):a||"/"!==o||"/"!==s?'"'===o||"'"===o?g(e,o):" "===o?_(e):"="===o&&"="===s?(f(n.EqualitySign,"==",d),l++,d++):"!"===o&&"="===s?(f(n.InequalitySign,"!=",d),l++,d++):o in p?("\r"===o&&"\n"===s||"\n"===o?("\r"===o?(f(n.Newline,"\r\n",d),l++):"\n"===o&&f(p[o],o,d),u++,d=0):"\r"!==o&&"\n"!==o&&f(p[o],o,d),")"===o?a=!1:"\t"===o&&t>1&&(d+=t-1)):h(o)?m(e):v(e):b(e);return i}(e)}},function(e,t,r){"use strict";t.__esModule=!0,t.default={mark:r(26),parse:r(27),stringify:r(6),tokenizer:r(28)},e.exports=t.default},function(e,t,r){"use strict";var n=r(13);e.exports=function(e){!function(e){for(var t=e.length,r=[],i=[],a=[],o=void 0,s=0;s<t;s++)switch((o=e[s]).type){case n.LeftParenthesis:r.push(s);break;case n.RightParenthesis:r.length&&(o.left=r.pop(),e[o.left].right=s);break;case n.LeftSquareBracket:i.push(s);break;case n.RightSquareBracket:i.length&&(o.left=i.pop(),e[o.left].right=s);break;case n.LeftCurlyBracket:a.push(s);break;case n.RightCurlyBracket:a.length&&(o.left=a.pop(),e[o.left].right=s)}}(e),function(e){for(var t=e.length,r=-1,i=-1,a=void 0,o=0;o<t;o++)switch((a=e[o]).type){case n.Space:case n.Tab:case n.Newline:a.ws=!0,a.sc=!0,-1===r&&(r=o),-1===i&&(i=o);break;case n.CommentML:case n.CommentSL:-1!==r&&(e[r].ws_last=o-1,r=-1),a.sc=!0;break;default:-1!==r&&(e[r].ws_last=o-1,r=-1),-1!==i&&(e[i].sc_last=o-1,i=-1)}-1!==r&&(e[r].ws_last=o-1),-1!==i&&(e[i].sc_last=o-1)}(e)}},function(e,t,r){"use strict";var n=r(1),i=r(15),a=r(13),o=void 0,s=void 0,l=void 0,c={arguments:function(){return m(l)&&v()},atkeyword:function(){return w(l)&&T()},atrule:function(){return x(l)&&k()},attributeSelector:function(){return ir(l)&&ar()},block:function(){return S(l)&&C()},brackets:function(){return A(l)&&O()},class:function(){return E(l)&&P()},combinator:function(){return D(l)&&j()},commentML:function(){return I(l)&&L()},commentSL:function(){return R(l)&&N()},condition:function(){return F(l)&&U()},conditionalStatement:function(){return z(l)&&B()},declaration:function(){return $(l)&&H()},declDelim:function(){return G(l)&&K()},default:function(){return Q(l)&&X()},delim:function(){return Y(l)&&J()},dimension:function(){return Z(l)&&ee()},expression:function(){return te(l)&&re()},extend:function(){return ne(l)&&ie()},function:function(){return ae(l)&&oe()},global:function(){return ce(l)&&ue()},ident:function(){return de(l)&&pe()},important:function(){return ge(l)&&me()},include:function(){return ve(l)&&ye()},interpolation:function(){return be(l)&&we()},loop:function(){return Ae(l)&&Oe()},mixin:function(){return Ee(l)&&Pe()},namespace:function(){return((c=l)<s&&o[c].type===a.VerticalLine?1:0)&&(e=i.NamespaceType,r=(t=o[l]).ln,n=t.col,l++,h(e,"|",r,n));var e,t,r,n,c},number:function(){return De(l)&&je()},operator:function(){return Ie(l)&&Le()},optional:function(){return Re(l)&&Ne()},parentheses:function(){return Fe(l)&&qe()},parentselector:function(){return Ue(l)&&ze()},percentage:function(){return He(l)&&Ve()},placeholder:function(){return Ke(l)&&Qe()},progid:function(){return Xe(l)&&Ye()},property:function(){return Je(l)&&Ze()},propertyDelim:function(){return rt(l)&&nt()},pseudoc:function(){return lt(l)&&ct()},pseudoe:function(){return ot(l)&&st()},ruleset:function(){return ut(l)&&dt()},s:function(){return pt(l)&&ft()},selector:function(){return Xt(l)&&Yt()},shash:function(){return gt(l)&&mt()},string:function(){return vt(l)&&yt()},stylesheet:function(){return function(e){for(var t=e,r=void 0;e<s;)(r=ht(e))?o[e].stylesheet_child=1:(r=ut(e))?o[e].stylesheet_child=2:(r=ve(e))?o[e].stylesheet_child=3:(r=ne(e))?o[e].stylesheet_child=4:(r=Ee(e))?o[e].stylesheet_child=5:(r=Ae(e))?o[e].stylesheet_child=6:(r=z(e))?o[e].stylesheet_child=7:(r=x(e))?o[e].stylesheet_child=8:(r=$(e))?o[e].stylesheet_child=9:(r=G(e))?o[e].stylesheet_child=10:u(e),e+=r;return e-t}(l)&&function(){for(var e=i.StylesheetType,t=o[l],r=t.ln,n=t.col,a=[];l<s;){var c=o[l].stylesheet_child;1===c&&(a=a.concat(_t())),2===c&&a.push(dt()),3===c&&a.push(ye()),4===c&&a.push(ie()),5===c&&a.push(Pe()),6===c&&a.push(Oe()),7===c&&a.push(B()),8===c&&a.push(k()),9===c&&a.push(H()),10===c&&a.push(K())}return h(e,a,r,n)}()},typeSelector:function(){return rr(l)&&nr()},unary:function(){return xt(l)&&kt()},unicodeRange:function(){return St(l)&&Ct()},universalSelector:function(){return er(l)&&tr()},urange:function(){return At(l)&&Ot()},uri:function(){return Pt(l)&&Dt()},value:function(){return Ft(l)&&qt()},variable:function(){return Bt(l)&&$t()},variableslist:function(){return Ht(l)&&Vt()},vhash:function(){return Wt(l)&&Gt()}};function u(e){throw{line:o[e].ln,syntax:"scss"}}function d(e,t){for(var r="",n=e;n<t+1;n++)r+=o[n].value;return r}function p(e,t){if(!(e+t-1>=s)){for(var r="",n=0;n<t;n++)r+=o[e+n].value;return r}}function f(e,t,r,n){return"string"==typeof e?function(e,t,r,n){var i=[];if(!e)return i=[t,r],n&&(i[1]+=n-1),i;var a=e.lastIndexOf("\n"),o=a===e.length-1,s=e.split("\n"),l=s.length-1,c=0===l||1===l?-1:e.length-s[l-1].length-2,u=o?l-1:l;return i[0]=t+u,u=o?-1!==c?e.length-c:e.length-1:0!==l?e.length-a-r-1:e.length-1,i[1]=r+u,n?(o?(i[0]++,i[1]=n):i[1]+=n,i):i}(e,t,r,n):function(e,t,r,n){var i=void 0;if(0===e.length)i=[t,r];else{var a=e[e.length-1];i=a.hasOwnProperty("end")?[a.end.line,a.end.column]:f(a.content,t,r)}return n?(o[l-1]&&"Newline"!==o[l-1].type?i[1]+=n:(i[0]++,i[1]=1),i):i}(e,t,r,n)}function h(e,t,r,i,a){return a||(a=f(t,r,i)),new n({type:e,content:t,start:{line:r,column:i},end:{line:a[0],column:a[1]},syntax:"scss"})}function _(e){var t=void 0;return(t=A(e))?o[e].any_child=1:(t=Fe(e))?o[e].any_child=2:(t=vt(e))?o[e].any_child=3:(t=Ht(e))?o[e].any_child=4:(t=Bt(e))?o[e].any_child=5:(t=Ke(e))?o[e].any_child=6:(t=He(e))?o[e].any_child=7:(t=Z(e))?o[e].any_child=8:(t=St(e))?o[e].any_child=9:(t=De(e))?o[e].any_child=10:(t=Pt(e))?o[e].any_child=11:(t=te(e))?o[e].any_child=12:(t=se(e))?o[e].any_child=13:(t=ae(e))?o[e].any_child=14:(t=be(e))?o[e].any_child=15:(t=de(e))?o[e].any_child=16:(t=E(e))?o[e].any_child=17:(t=xt(e))?o[e].any_child=18:(t=Ue(e))?o[e].any_child=19:(t=ge(e))?o[e].any_child=20:(t=ce(e))?o[e].any_child=21:(t=Q(e))?o[e].any_child=22:(t=Re(e))&&(o[e].any_child=23),t}function g(){var e=o[l].any_child;return 1===e?O():2===e?qe():3===e?yt():4===e?Vt():5===e?$t():6===e?Qe():7===e?Ve():8===e?ee():9===e?Ct():10===e?je():11===e?Dt():12===e?re():13===e?le():14===e?oe():15===e?we():16===e?pe():17===e?P():18===e?kt():19===e?ze():20===e?me():21===e?ue():22===e?X():23===e?Ne():void 0}function m(e){var t=e,r=void 0;if(e>=s||o[e].type!==a.LeftParenthesis)return 0;for(e++;e<o[t].right;){if(!(r=y(e)))return 0;e+=r}return o[t].right-t+1}function v(){var e=i.ArgumentsType,t=o[l],r=t.ln,n=t.col,c=[],d=void 0;for(l++;l<s&&o[l].type!==a.RightParenthesis;)V(l)?c.push(W()):y(l)?"string"==typeof(d=b()).content?c.push(d):c=c.concat(d):E(l)?c.push(P()):u(l);var p=f(c,r,n,1);return l++,h(e,c,r,n,p)}function y(e){var t=void 0;return(t=A(e))?o[e].argument_child=1:(t=Fe(e))?o[e].argument_child=2:(t=V(e))?o[e].argument_child=3:(t=se(e))?o[e].argument_child=4:(t=ae(e))?o[e].argument_child=5:(t=Ht(e))?o[e].argument_child=6:(t=Bt(e))?o[e].argument_child=7:(t=ht(e))?o[e].argument_child=8:(t=Y(e))?o[e].argument_child=9:(t=G(e))?o[e].argument_child=10:(t=vt(e))?o[e].argument_child=11:(t=He(e))?o[e].argument_child=12:(t=Z(e))?o[e].argument_child=13:(t=De(e))?o[e].argument_child=14:(t=Pt(e))?o[e].argument_child=15:(t=be(e))?o[e].argument_child=16:(t=de(e))?o[e].argument_child=17:(t=Wt(e))?o[e].argument_child=18:(t=et(e))?o[e].argument_child=19:(t=Ie(e))?o[e].argument_child=20:(t=xt(e))?o[e].argument_child=21:(t=Ue(e))?o[e].argument_child=22:(t=ge(e))?o[e].argument_child=23:(t=ce(e))?o[e].argument_child=24:(t=Q(e))?o[e].argument_child=25:(t=Re(e))&&(o[e].argument_child=26),t}function b(){var e=o[l].argument_child;return 1===e?O():2===e?qe():3===e?W():4===e?le():5===e?oe():6===e?Vt():7===e?$t():8===e?_t():9===e?J():10===e?K():11===e?yt():12===e?Ve():13===e?ee():14===e?je():15===e?Dt():16===e?we():17===e?pe():18===e?Gt():19===e?tt():20===e?Le():21===e?kt():22===e?ze():23===e?me():24===e?ue():25===e?X():26===e?Ne():void 0}function w(e){var t;return e>=s||o[e++].type!==a.CommercialAt?0:(t=he(e))?t+1:0}function T(){var e=i.AtkeywordType,t=o[l],r=t.ln,n=t.col;return l++,h(e,_e(),r,n)}function x(e){var t=void 0;if(e>=s)return 0;if(void 0!==o[e].atrule_l)return o[e].atrule_l;if(t=function(e){var t=e,r=void 0;return e>=s?0:(r=w(e))?-1===p((e+=r)-r,r).toLowerCase().indexOf("keyframes")?0:(r=ht(e))&&(r=he(e+=r)||lt(e))?((r=ht(e+=r))&&(e+=r),(r=ke(e))?(e+=r)-t:0):0:0}(e))o[e].atrule_type=4;else if(t=function(e){var t=e,r=void 0;return e>=s?0:(r=w(e))?((r=wt(e+=r))&&(e+=r),e<s&&o[e].type===a.LeftCurlyBracket?((r=function(e){var t=e,r=void 0;if(e>=s)return 0;for((r=ht(e))&&(e+=r);e<s;){if(r=ht(e))o[e].atrulers_child=1;else if(r=x(e))o[e].atrulers_child=2;else{if(!(r=ut(e)))break;o[e].atrulers_child=3}e+=r}return e<s&&(o[e].atrulers_end=1),(r=ht(e))&&(e+=r),e-t}(++e))&&(e+=r),e<s&&o[e].type===a.RightCurlyBracket?++e-t:0):0):0}(e))o[e].atrule_type=1;else if(t=function(e){var t=e,r=void 0;return e>=s?0:(r=w(e))?((r=wt(e+=r))&&(e+=r),(r=S(e))?(e+=r)-t:0):0}(e))o[e].atrule_type=2;else{if(!(t=function(e){var t=e,r=void 0;return e>=s?0:(r=w(e))?((r=wt(e+=r))&&(e+=r),e-t):0}(e)))return 0;o[e].atrule_type=3}return o[e].atrule_l=t,t}function k(){var e,t,r,n,a,c=o[l].atrule_type;return 1===c?(e=i.AtruleType,r=(t=o[l]).ln,n=t.col,a=[].concat(T(),Tt(),function(){var e=i.BlockType,t=o[l],r=t.ln,n=t.col,a=[];for(l++,a=a.concat(_t());l<s&&!o[l].atrulers_end;){var c=o[l].atrulers_child;if(1===c)a=a.concat(_t());else if(2===c)a.push(k());else{if(3!==c)break;a.push(dt())}}var u=f(a=a.concat(_t()),r,n,1);return l++,h(e,a,r,n,u)}()),h(e,a,r,n)):2===c?function(){var e=i.AtruleType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(T(),Tt(),C()),r,n)}():3===c?function(){var e=i.AtruleType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(T(),Tt()),r,n)}():4===c?function(){var e=i.AtruleType,t=o[l],r=t.ln,n=t.col,a=[].concat(T(),_t());return he(l)?a=a.concat(_e()):lt(l)&&(a=a.concat(ct())),h(e,a=a.concat(_t(),Se()),r,n)}():void 0}function S(e){return e<s&&o[e].type===a.LeftCurlyBracket?o[e].right-e+1:0}function C(){var e,t=i.BlockType,r=o[l],n=r.ln,a=r.col,s=o[l].right,c=[];for(l++;l<s;)M(l)?c=c.concat((void 0,1===(e=o[l].bd_type)?function(){var e=_t(),t=void 0;switch(o[l].bd_kind){case 1:t=B();break;case 2:t=ye();break;case 3:t=Oe();break;case 4:t=ie();break;case 5:t=H();break;case 6:t=k();break;case 7:t=dt()}return e.concat(t,_t(),K(),_t())}():2===e?function(){var e=_t(),t=void 0;switch(o[l].bd_kind){case 1:t=B();break;case 2:t=ye();break;case 3:t=Oe();break;case 4:t=ie();break;case 5:t=H();break;case 6:t=k();break;case 7:t=dt();break;case 8:t=Pe()}return e.concat(t,_t())}():3===e?[].concat(_t(),K(),_t()):4===e?_t():void 0)):u(l);var d=f(c,n,a,1);return l=s+1,h(t,c,n,a,d)}function M(e){var t=void 0;if(e>=s)return 0;if(t=function(e){var t=e,r=void 0;if((r=ht(e))&&(e+=r),r=z(e))o[e].bd_kind=1;else if(r=ve(e))o[e].bd_kind=2;else if(r=ne(e))o[e].bd_kind=4;else if(r=Ae(e))o[e].bd_kind=3;else if(r=x(e))o[e].bd_kind=6;else if(r=ut(e))o[e].bd_kind=7;else{if(!(r=$(e)))return 0;o[e].bd_kind=5}return(e+=r)<s&&(r=G(e))?((r=ht(e+=r))&&(e+=r),e-t):0}(e))o[e].bd_type=1;else if(t=function(e){var t=e,r=void 0;if((r=ht(e))&&(e+=r),r=z(e))o[e].bd_kind=1;else if(r=ve(e))o[e].bd_kind=2;else if(r=ne(e))o[e].bd_kind=4;else if(r=Ee(e))o[e].bd_kind=8;else if(r=Ae(e))o[e].bd_kind=3;else if(r=x(e))o[e].bd_kind=6;else if(r=ut(e))o[e].bd_kind=7;else{if(!(r=$(e)))return 0;o[e].bd_kind=5}return(r=ht(e+=r))&&(e+=r),e-t}(e))o[e].bd_type=2;else if(t=function(e){var t=e,r=void 0;return(r=ht(e))&&(e+=r),(r=G(e))?((r=ht(e+=r))&&(e+=r),e-t):0}(e))o[e].bd_type=3;else{if(!(t=function(e){return ht(e)}(e)))return 0;o[e].bd_type=4}return t}function A(e){if(e>=s)return 0;var t=e;if(o[e].type!==a.LeftSquareBracket)return 0;if(++e<o[t].right){var r=wt(e);if(!r)return 0;e+=r}return++e-t}function O(){var e=i.BracketsType,t=o[l],r=t.ln,n=t.col,a=t.right,s=[];++l<a&&(s=Tt());var c=f(s,r,n,1);return l++,h(e,s,r,n,c)}function E(e){var t=e,r=void 0;if(e>=s)return 0;if(o[e].class_l)return o[e].class_l;if(o[e].type!==a.FullStop)return 0;if(!(r=he(++e)))return 0;for(e+=r;e<s&&(r=he(e));)o[t].class_l=r+1,e+=r;return o[t].classEnd=e,e-t}function P(){var e=i.ClassType,t=o[l],r=t.ln,n=t.col,a=t.classEnd,s=[];for(l++;l<a&&he(l);)s=s.concat(_e());return h(e,s,r,n)}function D(e){if(e>=s)return 0;var t=void 0;return(t=function(e){return e<s&&o[e++].type===a.GreaterThanSign&&e<s&&o[e++].type===a.GreaterThanSign&&e<s&&o[e++].type===a.GreaterThanSign?3:0}(e))?o[e].combinatorType=1:(t=function(e){return e+1>=s?0:o[e].type===a.VerticalLine&&o[e+1].type===a.VerticalLine||o[e].type===a.GreaterThanSign&&o[e+1].type===a.GreaterThanSign?2:0}(e))?o[e].combinatorType=2:(t=function(e){var t=o[e].type;return t===a.PlusSign||t===a.GreaterThanSign||t===a.Tilde?1:0}(e))?o[e].combinatorType=3:(t=function(e){var t,r=e;return o[e].type!==a.Solidus?0:(t=de(++e))?o[e+=t].type!==a.Solidus?0:++e-r:0}(e))&&(o[e].combinatorType=4),t}function j(){var e=o[l].combinatorType;return 1===e?function(){var e=i.CombinatorType,t=o[l],r=t.ln,n=t.col;return l+=3,h(e,">>>",r,n)}():2===e?function(){var e=i.CombinatorType,t=o[l],r=t.ln,n=t.col,a=""+t.value+o[l+1].value;return l+=2,h(e,a,r,n)}():3===e?function(){var e=i.CombinatorType,t=o[l],r=t.ln,n=t.col,a=t.value;return l++,h(e,a,r,n)}():4===e?function(){var e=i.CombinatorType,t=o[l],r=t.ln,n=t.col;l++;var a=pe();return l++,h(e,"/"+a.content+"/",r,n)}():void 0}function I(e){return e<s&&o[e].type===a.CommentML?1:0}function L(){var e=i.CommentMLType,t=o[l],r=t.ln,n=t.col,a=o[l].value.substring(2),s=a.length;"*"===a.charAt(s-2)&&"/"===a.charAt(s-1)&&(a=a.substring(0,s-2));var c=f(a,r,n,2);return c[0]===r&&(c[1]+=2),l++,h(e,a,r,n,c)}function R(e){return e<s&&o[e].type===a.CommentSL?1:0}function N(){var e=i.CommentSLType,t=o[l],r=t.ln,n=t.col,a=o[l++].value.substring(2);return h(e,a,r,n,f(a,r,n+2))}function F(e){var t=e,r=void 0,n=void 0;if(e>=s)return 0;if(!(r=w(e)))return 0;if(e+=r,["if","else"].indexOf(o[t+1].value)<0)return 0;for(;e<s&&!(r=S(e))&&(r=q(e+(n=ht(e))));)e+=r+n;return e-t}function q(e){return Bt(e)||De(e)||be(e)||de(e)||Ie(e)||D(e)||vt(e)}function U(){var e=i.ConditionType,t=o[l],r=t.ln,n=t.col,a=[],c=void 0;for(a.push(T());l<s&&!S(l)&&(c=ht(l),q(l+c));)c&&(a=a.concat(_t())),a.push(Bt(l)?$t():De(l)?je():be(l)?we():de(l)?pe():Ie(l)?Le():D(l)?j():vt(l)?yt():void 0);return h(e,a,r,n)}function z(e){var t=e,r=void 0;return e>=s?0:(r=F(e))?((r=ht(e+=r))&&(e+=r),(r=S(e))?(e+=r)-t:0):0}function B(){var e=i.ConditionalStatementType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(U(),_t(),C()),r,n)}function $(e){var t=e,r=void 0;return e>=s?0:(r=Je(e))?((r=ht(e+=r))&&(e+=r),(r=rt(e))?((r=ht(++e))&&(e+=r),(r=Ft(e))?(e+=r)-t:0):0):0}function H(){var e=i.DeclarationType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(Ze(),_t(),nt(),_t(),qt()),r,n)}function V(e){var t=e,r=void 0;return e>=s?0:(r=Je(e))?((r=ht(e+=r))&&(e+=r),(r=rt(e))?((r=ht(++e))&&(e+=r),(r=function(e){for(var t=e,r=void 0,n=void 0;e<s&&!G(e)&&!Y(e)&&((r=Ut(e+(n=ht(e))))&&(e+=r+n),r&&!S(e-r)););return e-t}(e))?(e+=r)-t:0):0):0}function W(){var e=i.DeclarationType,t=o[l],r=t.ln,n=t.col,a=[].concat(Ze(),_t(),nt(),_t(),function(){for(var e=i.ValueType,t=o[l],r=t.ln,n=t.col,a=[],c=void 0,u=void 0;l<s&&(u=ht(l),!G(c=l+u)&&!Y(c))&&Ut(c)&&(u&&(a=a.concat(_t())),a.push(zt()),!S(c)););return h(e,a,r,n)}());return h(e,a,r,n)}function G(e){return e<s&&o[e].type===a.Semicolon?1:0}function K(){var e=i.DeclDelimType,t=o[l],r=t.ln,n=t.col;return l++,h(e,";",r,n)}function Q(e){var t,r=e;return e>=s||o[e++].type!==a.ExclamationMark?0:((t=ht(e))&&(e+=t),"default"===o[e].value?(o[r].defaultEnd=e,e-r+1):0)}function X(){var e=i.DefaultType,t=o[l],r=t.ln,n=t.col,a=d(l,t.defaultEnd);return l=t.defaultEnd+1,h(e,a,r,n)}function Y(e){return e<s&&o[e].type===a.Comma?1:0}function J(){var e=i.DelimType,t=o[l],r=t.ln,n=t.col;return l++,h(e,",",r,n)}function Z(e){var t,r=De(e);return e>=s||!r||e+r>=s?0:(t=function(e){return-1!==["em","ex","ch","rem","vh","vw","vmin","vmax","px","mm","q","cm","in","pt","pc","deg","grad","rad","turn","s","ms","Hz","kHz","dpi","dpcm","dppx"].indexOf(o[e].value)?1:0}(e+r))?r+t:0}function ee(){var e=i.DimensionType,t=o[l],r=t.ln,n=t.col;return h(e,[je(),Mt()],r,n)}function te(e){var t=e;return e>=s||"expression"!==o[e++].value||e>=s||o[e].type!==a.LeftParenthesis?0:o[e].right-t+1}function re(){var e=i.ExpressionType,t=o[l],r=t.ln,n=t.col,a=d(1+ ++l,o[l].right-1),s=f(a,r,n,1);return s[0]===r&&(s[1]+=11),l=o[l].right+1,h(e,a,r,n,s)}function ne(e){if(e>=s)return 0;var t=void 0;return(t=function(e){var t=e,r=void 0;return e>=s?0:(r=w(e))?(e+=r,"extend"!==o[t+1].value?0:(r=ht(e))&&(r=Kt(e+=r))&&(r=ht(e+=r))&&(r=Re(e+=r))?(e+=r)-t:0):0}(e))?o[e].extend_child=1:(t=function(e){var t=e,r=void 0;return e>=s?0:(r=w(e))?(e+=r,"extend"!==o[t+1].value?0:(r=ht(e))&&(r=Kt(e+=r))?(e+=r)-t:0):0}(e))&&(o[e].extend_child=2),t}function ie(){var e,t,r,n,a=o[l].extend_child;return 1===a?(e=i.ExtendType,r=(t=o[l]).ln,n=t.col,h(e,[].concat(T(),_t(),Qt(),_t(),Ne()),r,n)):2===a?function(){var e=i.ExtendType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(T(),_t(),Qt()),r,n)}():void 0}function ae(e){var t,r=e;return e>=s?0:(t=he(e))&&(e+=t)<s&&o[e].type===a.LeftParenthesis?o[e].right-r+1:0}function oe(){var e=i.FunctionType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(_e(),v()),r,n)}function se(e){var t,r=0;if(e>=s)return 0;if(!(t=ae(e)))return 0;for(e+=t;e<s&&o[e].type===a.FullStop;)r++,e++;return 3===r?t+r:0}function le(){var e=i.FunctionsListType,t=o[l],r=t.ln,n=t.col,a=[oe()],s=f(a,r,n,3);return l+=3,h(e,a,r,n,s)}function ce(e){var t,r=e;return e>=s||o[e++].type!==a.ExclamationMark?0:((t=ht(e))&&(e+=t),"global"===o[e].value?(o[r].globalEnd=e,e-r+1):0)}function ue(){var e=i.GlobalType,t=o[l],r=t.ln,n=t.col,a=d(l,t.globalEnd);return l=t.globalEnd+1,h(e,a,r,n)}function de(e){var t=e;if(e>=s)return 0;if(o[e].type===a.HyphenMinus&&o[e+1].type===a.DecimalNumber)return 0;if(o[e].type===a.HyphenMinus&&e++,be(e))return o[t].ident_last=e-1,e-t;if(o[e].type!==a.LowLine&&o[e].type!==a.Identifier)return 0;for(e++;e<s&&(o[e].type===a.HyphenMinus||o[e].type===a.LowLine||o[e].type===a.Identifier||o[e].type===a.DecimalNumber);e++);return o[t].ident_last=e-1,e-t}function pe(){var e=i.IdentType,t=o[l],r=t.ln,n=t.col,a=d(l,o[l].ident_last);return l=o[l].ident_last+1,h(e,a,r,n)}function fe(e){var t=e;if(e>=s)return 0;for(;e<s&&(o[e].type===a.HyphenMinus||o[e].type===a.LowLine||o[e].type===a.Identifier||o[e].type===a.DecimalNumber);e++);return o[t].ident_last=e-1,e-t}function he(e){for(var t=e,r=void 0,n=!1;e<s;)if(r=be(e))o[e].ii_type=1,e+=r,n=!0;else if(r=de(e))o[e].ii_type=2,e+=r,n=!1;else{if(!n||!(r=fe(e)))break;o[e].ii_type=3,e+=r,n=!1}return e-t}function _e(){for(var e=[];l<s;){var t=o[l].ii_type;if(1===t)e.push(we());else{if(2!==t&&3!==t)break;e.push(pe())}}return e}function ge(e){var t,r=e;return e>=s||o[e++].type!==a.ExclamationMark?0:((t=ht(e))&&(e+=t),"important"===o[e].value?(o[r].importantEnd=e,e-r+1):0)}function me(){var e=i.ImportantType,t=o[l],r=t.ln,n=t.col,a=d(l,t.importantEnd);return l=t.importantEnd+1,h(e,a,r,n)}function ve(e){var t=void 0;return e>=s?0:((t=function(e){var t=e,r=void 0;return(r=w(e))?(e+=r,"include"!==o[t+1].value?0:(r=ht(e))&&(r=he(e+=r))?((r=ht(e+=r))&&(e+=r),(r=m(e))?((r=ht(e+=r))&&(e+=r),(r=ke(e))?(e+=r)-t:0):0):0):0}(e))?o[e].include_type=1:(t=function(e){var t=e,r=void 0;return(r=w(e))?(e+=r,"include"!==o[t+1].value?0:(r=ht(e))&&(r=he(e+=r))?((r=ht(e+=r))&&(e+=r),(r=m(e))?((r=ht(e+=r))&&(e+=r),(r=S(e))?(e+=r)-t:0):0):0):0}(e))?o[e].include_type=2:(t=function(e){var t=e,r=void 0;return(r=w(e))?(e+=r,"include"!==o[t+1].value?0:(r=ht(e))&&(r=he(e+=r))?((r=ht(e+=r))&&(e+=r),(r=m(e))?(e+=r)-t:0):0):0}(e))?o[e].include_type=3:(t=function(e){var t=e,r=void 0;return(r=w(e))?(e+=r,"include"!==o[t+1].value?0:(r=ht(e))&&(r=he(e+=r))?((r=ht(e+=r))&&(e+=r),(r=S(e))?(e+=r)-t:0):0):0}(e))?o[e].include_type=4:(t=function(e){var t=e,r=void 0;return(r=w(e))?(e+=r,"include"!==o[t+1].value?0:(r=ht(e))&&(r=he(e+=r))?(e+=r)-t:0):0}(e))&&(o[e].include_type=5),t)}function ye(){var e=o[l].include_type;return 1===e?function(){var e=i.IncludeType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(T(),_t(),_e(),_t(),v(),_t(),Se()),r,n)}():2===e?function(){var e=i.IncludeType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(T(),_t(),_e(),_t(),v(),_t(),C()),r,n)}():3===e?function(){var e=i.IncludeType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(T(),_t(),_e(),_t(),v()),r,n)}():4===e?function(){var e=i.IncludeType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(T(),_t(),_e(),_t(),C()),r,n)}():5===e?function(){var e=i.IncludeType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(T(),_t(),_e()),r,n)}():void 0}function be(e){var t=e,r=void 0;if(e>=s)return 0;if(o[e].type!==a.NumberSign||!o[e+1]||o[e+1].type!==a.LeftCurlyBracket)return 0;for(e+=2;o[e].type!==a.RightCurlyBracket;){if(!(r=y(e)))return 0;e+=r}return o[e].type===a.RightCurlyBracket?e-t+1:0}function we(){var e=i.InterpolationType,t=o[l],r=t.ln,n=t.col,c=[];for(l+=2;l<s&&o[l].type!==a.RightCurlyBracket;){var u=b();"string"==typeof u.content?c.push(u):c=c.concat(u)}var d=f(c,r,n,1);return l++,h(e,c,r,n,d)}function Te(e){var t=e,r=void 0;return e>=s?0:(r=function(e){var t=e,r=void 0;if(!(r=Ce(e)))return 0;for(e+=r;e<s;){var n=ht(e),i=Y(e+n);if(!i)break;var a=ht(e+n+i);if(!(r=Ce(e+n+i+a)))break;e+=n+i+a+r}return o[t].selectorsGroupEnd=e,e-t}(e))?((r=ht(e+=r))&&(e+=r),(r=S(e))?(e+=r)-t:0):0}function xe(){var e=i.RulesetType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(function(){var e=[],t=o[l].selectorsGroupEnd;for(e.push(Me());l<t;)e=e.concat(_t(),J(),_t(),Me());return e}(),_t(),C()),r,n)}function ke(e){var t=e,r=void 0;if(!(e<s&&o[e].type===a.LeftCurlyBracket))return 0;for((r=ht(++e))&&(e+=r),(r=Te(e))&&(e+=r);o[e].type!==a.RightCurlyBracket;)if(r=ht(e))e+=r;else if(r=Te(e))e+=r;else{if(!(r=x(e)))break;(r=ht(e+=r))&&(e+=r),(r=G(e))&&(e+=r)}return e<s&&o[e].type===a.RightCurlyBracket?++e-t:0}function Se(){var e=i.BlockType,t=o[l],r=t.ln,n=t.col,a=t.right,s=[];for(l++;l<a;)if(ht(l))s=s.concat(_t());else if(Te(l))s.push(xe());else{if(!x(l))break;s.push(k()),ht(l)&&(s=s.concat(_t())),G(l)&&s.push(K())}var c=f(s,r,n,1);return l++,h(e,s,r,n,c)}function Ce(e){var t=e,r=void 0;if(e>=s)return 0;if(r=de(e)){var n=p(e,r);if("from"!==n&&"to"!==n)return 0;e+=r,o[t].keyframesSelectorType=1}else if(r=He(e))e+=r,o[t].keyframesSelectorType=2;else{if(!(r=be(e)))return 0;e+=r,o[t].keyframesSelectorType=3}return e-t}function Me(){var e=i.KeyframesSelectorType,t=i.SelectorType,r=o[l],n=r.ln,a=r.col,s=[];1===r.keyframesSelectorType?s.push(pe()):2===r.keyframesSelectorType?s.push(Ve()):3===r.keyframesSelectorType&&s.push(we());var c=h(e,s,n,a);return h(t,[c],n,a)}function Ae(e){var t=e,r=void 0;if(e>=s)return 0;if(!(r=w(e)))return 0;if(e+=r,["for","each","while"].indexOf(o[t+1].value)<0)return 0;for(;e<s;){if(r=S(e)){e+=r;break}if(!(r=Bt(e)||De(e)||be(e)||de(e)||ht(e)||Ie(e)||D(e)||vt(e)))return 0;e+=r}return e-t}function Oe(){var e=i.LoopType,t=o[l],r=t.ln,n=t.col,a=[];for(a.push(T());l<s;){if(S(l)){a.push(C());break}Bt(l)?a.push($t()):De(l)?a.push(je()):be(l)?a.push(we()):de(l)?a.push(pe()):Ie(l)?a.push(Le()):D(l)?a.push(j()):ht(l)?a=a.concat(_t()):vt(l)&&a.push(yt())}return h(e,a,r,n)}function Ee(e){var t=e,r=void 0;return e>=s?0:(r=w(e))&&"mixin"===o[e+1].value?((r=ht(e+=r))&&(e+=r),(r=he(e))?((r=ht(e+=r))&&(e+=r),(r=m(e))&&(e+=r),(r=ht(e))&&(e+=r),(r=S(e))?(e+=r)-t:0):0):0}function Pe(){var e=i.MixinType,t=o[l],r=t.ln,n=t.col,a=[].concat(T(),_t());return he(l)&&(a=a.concat(_e())),a=a.concat(_t()),m(l)&&a.push(v()),a=a.concat(_t()),S(l)&&a.push(C()),h(e,a,r,n)}function De(e){return e>=s?0:o[e].number_l?o[e].number_l:e<s&&o[e].type===a.DecimalNumber&&(!o[e+1]||o[e+1]&&o[e+1].type!==a.FullStop)?(o[e].number_l=1,1):e<s&&o[e].type===a.DecimalNumber&&o[e+1]&&o[e+1].type===a.FullStop&&(!o[e+2]||o[e+2].type!==a.DecimalNumber)||e<s&&o[e].type===a.FullStop&&o[e+1].type===a.DecimalNumber?(o[e].number_l=2,2):e<s&&o[e].type===a.DecimalNumber&&o[e+1]&&o[e+1].type===a.FullStop&&o[e+2]&&o[e+2].type===a.DecimalNumber?(o[e].number_l=3,3):0}function je(){for(var e=i.NumberType,t=o[l],r=t.ln,n=t.col,a=o[l].number_l,s="",c=0;c<a;c++)s+=o[l+c].value;return l+=a,h(e,s,r,n)}function Ie(e){if(e>=s)return 0;switch(o[e].type){case a.Solidus:case a.PercentSign:case a.Comma:case a.Colon:case a.EqualsSign:case a.EqualitySign:case a.InequalitySign:case a.LessThanSign:case a.GreaterThanSign:case a.Asterisk:return 1}return 0}function Le(){var e=i.OperatorType,t=o[l],r=t.ln,n=t.col,a=t.value;return l++,h(e,a,r,n)}function Re(e){var t,r=e;return e>=s||o[e++].type!==a.ExclamationMark?0:((t=ht(e))&&(e+=t),"optional"===o[e].value?(o[r].optionalEnd=e,e-r+1):0)}function Ne(){var e=i.OptionalType,t=o[l],r=t.ln,n=t.col,a=d(l,t.optionalEnd);return l=t.optionalEnd+1,h(e,a,r,n)}function Fe(e){if(e>=s)return 0;var t=e,r=o[e].right,n=void 0;if(o[e].type!==a.LeftParenthesis)return 0;if(++e<r){if(!(n=wt(e)))return 0;e+=n}return++e-t}function qe(){var e=i.ParenthesesType,t=o[l],r=t.ln,n=t.col,a=t.right,s=[];++l<a&&(s=Tt());var c=f(s,r,n,1);return l++,h(e,s,r,n,c)}function Ue(e){return e<s&&o[e].type===a.Ampersand?1:0}function ze(){var e=i.ParentSelectorType,t=o[l],r=t.ln,n=t.col;return l++,h(e,"&",r,n)}function Be(e){var t=e,r=void 0;if(e>=s)return 0;for(;e<s&&(r=he(e)||fe(e));)e+=r;return e-t}function $e(e){var t=e,r=void 0;return e>=s?0:(r=Ue(e))?((r=Be(e+=r))&&(e+=r),e-t):0}function He(e){var t,r=e;return e>=s?0:(t=We(e))?(e+=t)>=s||o[e].type!==a.PercentSign?0:++e-r:0}function Ve(){var e=i.PercentageType,t=o[l],r=t.ln,n=t.col,a=Ge(),s=f(a,r,n,1);return l++,h(e,a,r,n,s)}function We(e){for(var t=e,r=void 0;e<s&&(r=be(e)||De(e));)e+=r;return e-t}function Ge(){for(var e=[];l<s;)if(be(l))e.push(we());else{if(!De(l))break;e.push(je())}return e}function Ke(e){var t,r=e;return e>=s?0:o[r].placeholder_l?o[r].placeholder_l:o[e].type!==a.PercentSign?0:(t=he(++e))?(e+=t,o[r].placeholder_l=e-r,e-r):0}function Qe(){var e=i.PlaceholderType,t=o[l],r=t.ln,n=t.col,a=[];return l++,h(e,a=a.concat(_e()),r,n)}function Xe(e){var t=e,r=void 0;return e>=s||"progid:DXImageTransform.Microsoft."!==p(e,6)?0:(r=he(e+=6))?((r=ht(e+=r))&&(e+=r),o[e].type!==a.LeftParenthesis?0:(o[t].progid_end=o[e].right,(e=o[e].right+1)-t)):0}function Ye(){var e=i.ProgidType,t=o[l],r=t.ln,n=t.col,a=t.progid_end,s=d(l,a);return l=a+1,h(e,s,r,n)}function Je(e){var t=e,r=void 0;return(r=function(e){var t,r=e;return e>=s?0:(t=he(e))?(e+=t)-r:0}(e))?o[t].propertyType=1:(r=function(e){return et(e)}(e))?o[t].propertyType=2:(r=function(e){var t,r=e;return e>=s?0:(t=Bt(e))?(e+=t)-r:0}(e))&&(o[t].propertyType=3),r}function Ze(){var e=o[l].propertyType;return 1===e?function(){var e=i.PropertyType,t=o[l],r=t.ln,n=t.col;return h(e,_e(),r,n)}():2===e?tt():3===e?function(){var e=i.PropertyType,t=o[l],r=t.ln,n=t.col;return h(e,[$t()],r,n)}():void 0}function et(e){var t,r=e;return e>=s||o[e].type!==a.HyphenMinus||o[e+1]&&o[e+1].type!==a.HyphenMinus?0:(t=de(e+=2))?(e+=t)-r:0}function tt(){var e=i.CustomPropertyType,t=o[l],r=t.ln,n=t.col;return l+=2,h(e,[pe()],r,n)}function rt(e){return e<s&&o[e].type===a.Colon?1:0}function nt(){var e=i.PropertyDelimType,t=o[l],r=t.ln,n=t.col;return l++,h(e,":",r,n)}function it(e){return ot(e)||lt(e)}function at(){return ot(l)?st():lt(l)?ct():void 0}function ot(e){var t=void 0;if(e>=s||o[e].type!==a.Colon||e>=s||o[e+1].type!==a.Colon)return 0;if(t=function(e){var t=e,r=void 0;if((e+=2)>=s)return 0;if(!(r=de(e)))return 0;if((e+=r)>=s||o[e].type!==a.LeftParenthesis)return 0;var n=o[e].right;return(r=ht(++e))&&(e+=r),(r=Kt(e))?((r=ht(e+=r))&&(e+=r),e!==n?0:++e-t):0}(e))o[e].pseudoElementType=1;else{if(!(t=function(e){var t,r=e;return(t=he(e+=2))?(e+=t)-r:0}(e)))return 0;o[e].pseudoElementType=2}return t}function st(){var e,t,r,n,a=o[l].pseudoElementType;return 1===a?function(){var e=i.PseudoeType,t=o[l],r=t.ln,n=t.col,a=[];l+=2,a.push(pe());var s=i.ArgumentsType,c=o[l],u=c.ln,d=c.col;l++;var p=[].concat(_t(),Qt(),_t()),_=h(s,p,u,d,f(p,u,d,1));return a.push(_),l++,h(e,a,r,n)}():2===a?(e=i.PseudoeType,r=(t=o[l]).ln,n=t.col,l+=2,h(e,_e(),r,n)):void 0}function lt(e){var t=void 0;if(e>=s||o[e].type!==a.Colon)return 0;if(t=function(e){var t=e,r=void 0;if(++e>=s)return 0;if(!(r=he(e)))return 0;if((e+=r)>=s||o[e].type!==a.LeftParenthesis)return 0;var n=o[e].right;return(r=ht(++e))&&(e+=r),(r=xt(e))&&(e+=r),(r=We(e))&&(e+=r),e>=s?0:("n"===o[e].value&&e++,(r=ht(e))&&(e+=r),e>=s||o[e].type!==a.PlusSign&&o[e].type!==a.HyphenMinus?0:((r=ht(++e))&&(e+=r),(r=We(e))?((r=ht(e+=r))&&(e+=r),e!==n?0:++e-t):0))}(e))o[e].pseudoClassType=3;else if(t=function(e){var t=e,r=void 0;if(++e>=s)return 0;if(!(r=he(e)))return 0;if((e+=r)>=s)return 0;if(o[e].type!==a.LeftParenthesis)return 0;var n=o[e].right;return(r=ht(++e))&&(e+=r),(r=xt(e))&&(e+=r),(r=be(e))&&(e+=r),o[e].type===a.DecimalNumber&&e++,"n"!==o[e].value?0:((r=ht(++e))&&(e+=r),e!==n?0:++e-t)}(e))o[e].pseudoClassType=4;else if(t=function(e){var t=e,r=void 0;if(++e>=s)return 0;if(!(r=he(e)))return 0;if((e+=r)>=s)return 0;if(o[e].type!==a.LeftParenthesis)return 0;var n=o[e].right;return(r=ht(++e))&&(e+=r),(r=xt(e))&&(e+=r),o[e].type!==a.DecimalNumber?0:((r=ht(++e))&&(e+=r),e!==n?0:++e-t)}(e))o[e].pseudoClassType=5;else if(t=function(e){var t=e,r=void 0;if(++e>=s)return 0;if(!(r=he(e)))return 0;if((e+=r)>=s||o[e].type!==a.LeftParenthesis)return 0;var n=o[e].right;return(r=ht(++e))&&(e+=r),(r=Kt(e))?((r=ht(e+=r))&&(e+=r),e!==n?0:++e-t):0}(e))o[e].pseudoClassType=1;else if(t=function(e){var t=e,r=void 0;if(++e>=s)return 0;if(!(r=he(e)))return 0;if((e+=r)>=s||o[e].type!==a.LeftParenthesis)return 0;var n=o[e].right;return(r=ht(++e))&&(e+=r),(r=he(e))?((r=ht(e+=r))&&(e+=r),e!==n?0:++e-t):0}(e))o[e].pseudoClassType=2;else{if(!(t=function(e){var t,r=e;return++e>=s?0:(t=he(e))?(e+=t)-r:0}(e)))return 0;o[e].pseudoClassType=6}return t}function ct(){var e,t,r,n,a=o[l].pseudoClassType;return 1===a?function(){var e=i.PseudocType,t=o[l],r=t.ln,n=t.col,a=[];l++,a=a.concat(_e());var s=i.ArgumentsType,c=o[l],u=c.ln,d=c.col;l++;var p=[].concat(_t(),Qt(),_t()),_=h(s,p,u,d,f(p,u,d,1));return a.push(_),l++,h(e,a,r,n)}():2===a?function(){var e=i.PseudocType,t=o[l],r=t.ln,n=t.col,a=[];l++,a=a.concat(_e());var s=o[l].ln,c=o[l].col;l++;var u=[].concat(_t(),_e(),_t()),d=f(u,s,c,1),p=h(i.ArgumentsType,u,s,c,d);return a.push(p),l++,h(e,a,r,n)}():3===a?function(){var e=i.PseudocType,t=o[l],r=t.ln,n=t.col,a=[];l++,a=a.concat(_e());var s=o[l].ln,c=o[l].col,u=[];l++,u=u.concat(_t()),xt(l)&&u.push(kt()),We(l)&&(u=u.concat(Ge()));var d=o[l];if("n"===d.value){var p=d.ln,_=d.col,g=d.value,m=h(i.IdentType,g,p,_);u.push(m),l++}u=u.concat(_t()),xt(l)&&u.push(kt()),u=u.concat(_t()),We(l)&&(u=u.concat(Ge()));var v=f(u=u.concat(_t()),s,c,1),y=h(i.ArgumentsType,u,s,c,v);return a.push(y),l++,h(e,a,r,n)}():4===a?function(){var e=i.PseudocType,t=o[l],r=t.ln,n=t.col,a=[];l++,a=a.concat(_e());var s=o[l].ln,c=o[l].col,u=[];l++,u=u.concat(_t()),xt(l)&&u.push(kt()),be(l)&&u.push(we()),De(l)&&u.push(je()),de(l)&&u.push(pe());var d=f(u=u.concat(_t()),s,c,1),p=h(i.ArgumentsType,u,s,c,d);return a.push(p),l++,h(e,a,r,n)}():5===a?function(){var e=i.PseudocType,t=o[l],r=t.ln,n=t.col,a=[];l++,a=a.concat(_e());var s=o[l].ln,c=o[l].col,u=[];l++,u=u.concat(_t()),xt(l)&&u.push(kt()),De(l)&&u.push(je());var d=f(u=u.concat(_t()),s,c,1),p=h(i.ArgumentsType,u,s,c,d);return a.push(p),l++,h(e,a,r,n)}():6===a?(e=i.PseudocType,r=(t=o[l]).ln,n=t.col,l++,h(e,_e(),r,n)):void 0}function ut(e){var t=e,r=void 0;return e>=s?0:(r=Kt(e))?((r=ht(e+=r))&&(e+=r),(r=S(e))?(e+=r)-t:0):0}function dt(){var e=i.RulesetType,t=o[l],r=t.ln,n=t.col;return h(e,[].concat(Qt(),_t(),C()),r,n)}function pt(e){return e<s&&o[e].ws?o[e].ws_last-e+1:0}function ft(){var e=i.SType,t=o[l],r=t.ln,n=t.col,a=d(l,o[l].ws_last);return l=o[l].ws_last+1,h(e,a,r,n)}function ht(e){if(e>=s)return 0;for(var t=void 0,r=0;e<s;){if(t=pt(e))o[e].sc_child=1;else if(t=I(e))o[e].sc_child=2;else{if(!(t=R(e)))break;o[e].sc_child=3}e+=t,r+=t}return r||0}function _t(){var e=[];if(l>=s)return e;for(;l<s;){var t=o[l].sc_child;if(1===t)e.push(ft());else if(2===t)e.push(L());else{if(3!==t)break;e.push(N())}}return e}function gt(e){var t=e,r=void 0;if(e>=s)return 0;if(o[e].type!==a.NumberSign)return 0;if(!(r=he(++e)||fe(e)))return 0;for(e+=r;e<s&&(r=he(e)||fe(e));)e+=r;return o[t].shashEnd=e,e-t}function mt(){var e=i.ShashType,t=o[l],r=t.ln,n=t.col,a=t.shashEnd,s=[];for(l++;l<a;)if(he(l))s=s.concat(_e());else{if(!fe(l))break;s.push(pe())}return h(e,s,r,n)}function vt(e){return e>=s?0:o[e].type===a.StringSQ||o[e].type===a.StringDQ?1:0}function yt(){var e=i.StringType,t=o[l],r=t.ln,n=t.col,a=t.value;return l++,h(e,a,r,n)}function bt(e){var t=void 0;return(t=Wt(e))?o[e].tset_child=1:(t=Ie(e))?o[e].tset_child=2:(t=_(e))?o[e].tset_child=3:(t=ht(e))&&(o[e].tset_child=4),t}function wt(e){var t=e,r=void 0;if(e>=s)return 0;for(;r=bt(e);)e+=r;return o[t].tsets_end=e,e-t}function Tt(){var e=[],t=void 0;if(l>=s)return e;for(var r,n=o[l].tsets_end;l<n;)"string"==typeof(t=1===(r=o[l].tset_child)?Gt():2===r?Le():3===r?g():4===r?_t():void 0).content?e.push(t):e=e.concat(t);return e}function xt(e){return e>=s?0:o[e].type===a.HyphenMinus||o[e].type===a.PlusSign?1:0}function kt(){var e=i.OperatorType,t=o[l],r=t.ln,n=t.col,a=t.value;return l++,h(e,a,r,n)}function St(e){var t=e,r=void 0;if(e>=s)return 0;if(!(r=At(e)))return 0;for(e+=r;e<s;){var n=ht(e),i=Y(e+n);if(!i)break;var a=ht(e+n+i);if(!(r=At(e+n+i+a)))break;e+=n+i+a+r}return e-t}function Ct(){for(var e=i.UnicodeRangeType,t=o[l],r=t.ln,n=t.col,a=[];l<s;)if(ht(l))a=a.concat(_t());else if(Y(l))a.push(J());else{if(!At(l))break;a.push(Ot())}return h(e,a,r,n)}function Mt(){var e=i.IdentType,t=o[l],r=t.ln,n=t.col,a=t.value;return l++,h(e,a,r,n)}function At(e){var t=e,r=void 0;if(e>=s)return 0;if("U"!==o[e].value&&"u"!==o[e].value)return 0;if((e+=1)>=s)return 0;if("+"!==o[e].value)return 0;for(e+=1;e<s;)if(r=de(e))e+=r;else if(r=De(e))e+=r;else if(r=xt(e))e+=r;else{if(!(r=Et(e)))break;e+=r}return o[t].urangeEnd=e-1,e-t}function Ot(){var e,t=l,r=i.UrangeType,n=o[l],a=n.ln,s=n.col;return e=d(t,o[t].urangeEnd),l=o[t].urangeEnd+1,h(r,e,a,s)}function Et(e){var t=e;if(e>=s)return 0;for(;e<s&&o[e].type===a.QuestionMark;)e+=1;return e-t}function Pt(e){var t=e,r=void 0;if(e>=s||"url"!==o[e].value)return 0;if(++e>=s||o[e].type!==a.LeftParenthesis)return 0;var n=o[e];for(e++;e<n.right;)if(r=Rt(e))e+=r,o[t].uriType=1;else{if(!(r=Nt(e)))return 0;e+=r,o[t].uriType=2}return++e-t}function Dt(){var e=l,t=i.UriType,r=o[e],n=r.ln,a=r.col,s=[],c=void 0,u=o[e].uriType;return l+=2,1===u?s=s.concat(function(){var e=l,t=[];for(ht(l)&&(t=t.concat(_t()));l<o[e].uri_end;)if(be(l))t.push(we());else{if(!It(l))break;t.push(Lt())}return ht(l)&&(t=t.concat(_t())),t}()):2===u?s=s.concat(function(){for(var e=l,t=[];l<o[e].uri_end;)if(ht(l))t=t.concat(_t());else if(xt(l))t.push(kt());else{if(!Ut(l))break;t.push(zt())}return t}()):c=f(s,n,a,4),c||(c=f(s,n,a,1)),l++,h(t,s,n,a,c)}function jt(e){var t=e,r=void 0;if(r=de(e))e+=r;else if(r=De(e))e+=r;else switch(o[e].type){case a.ExclamationMark:case a.NumberSign:case a.DollarSign:case a.PercentSign:case a.Ampersand:case a.Asterisk:case a.PlusSign:case a.Comma:case a.HyphenMinus:case a.FullStop:case a.Solidus:case a.Colon:case a.Semicolon:case a.LessThanSign:case a.EqualsSign:case a.GreaterThanSign:case a.QuotationMark:case a.CommercialAt:case a.LeftSquareBracket:case a.RightSquareBracket:case a.CircumflexAccent:case a.LowLine:case a.LeftCurlyBracket:case a.VerticalLine:case a.RightCurlyBracket:case a.Tilde:e+=1;break;default:return 0}return e-t}function It(e){for(var t=e,r=void 0;e<s&&!be(e)&&!Bt(e)&&(r=jt(e));)e+=r;return o[t].uri_raw_end=e,e-t}function Lt(){for(var e=l,t=i.RawType,r=o[e],n=r.ln,a=r.col,s=void 0;l<o[e].uri_raw_end&&!be(l)&&!Bt(l)&&(s=jt(l));)l+=s;return h(t,d(e,l-1),n,a)}function Rt(e){var t=e,r=void 0;for((r=ht(e))&&(e+=r);e<s&&(r=be(e)||It(e));)e+=r;return(r=ht(e))&&(e+=r),e<o[t-1].right?0:(o[t].uri_end=e,e-t)}function Nt(e){for(var t=e,r=void 0;e<s;)if(r=ht(e))e+=r;else if(r=vt(e))e+=r;else if(r=ae(e))e+=r;else if(r=xt(e))e+=r;else if(r=he(e))e+=r;else{if(!(r=Bt(e)))break;e+=r}return e<o[t-1].right?0:(o[t].uri_end=e,e-t)}function Ft(e){for(var t=e,r=void 0,n=void 0;e<s&&!G(e)&&((r=Ut(e+(n=ht(e))))&&(e+=r+n),r&&!S(e-r)););return o[t].value_end=e,e-t}function qt(){for(var e=i.ValueType,t=o[l],r=t.ln,n=t.col,a=o[l].value_end,s=[],c=void 0,u=void 0;l<a&&(u=ht(l),!G(c=l+u))&&Ut(c)&&(u&&(s=s.concat(_t())),s.push(zt()),!S(c)););return h(e,s,r,n)}function Ut(e){var t=void 0;return(t=be(e))?o[e].value_child=1:(t=Bt(e))?o[e].value_child=2:(t=Wt(e))?o[e].value_child=3:(t=S(e))?o[e].value_child=4:(t=w(e))?o[e].value_child=5:(t=Ie(e))?o[e].value_child=6:(t=ge(e))?o[e].value_child=7:(t=ce(e))?o[e].value_child=8:(t=Q(e))?o[e].value_child=9:(t=Xe(e))?o[e].value_child=10:(t=_(e))?o[e].value_child=11:(t=Ue(e))&&(o[e].value_child=12),t}function zt(){var e=o[l].value_child;return 1===e?we():2===e?$t():3===e?Gt():4===e?C():5===e?T():6===e?Le():7===e?me():8===e?ue():9===e?X():10===e?Ye():11===e?g():12===e?ze():void 0}function Bt(e){var t,r=e;return e>=s||o[e].type!==a.DollarSign?0:(t=de(++e))?(e+=t)-r:0}function $t(){var e=i.VariableType,t=o[l],r=t.ln,n=t.col;return l++,h(e,[pe()],r,n)}function Ht(e){var t,r=0;if(e>=s)return 0;if(!(t=Bt(e)))return 0;for(e+=t;e<s&&o[e].type===a.FullStop;)r++,e++;return 3===r?t+r:0}function Vt(){var e=i.VariablesListType,t=o[l],r=t.ln,n=t.col,a=[$t()],s=f(a,r,n,3);return l+=3,h(e,a,r,n,s)}function Wt(e){var t,r=e;return e>=s||o[e].type!==a.NumberSign?0:(t=function(e){return o[e].type===a.Identifier?1:o[e].type!==a.DecimalNumber?0:++e<s&&o[e].type===a.Identifier?2:1}(++e))?(e+=t)-r:0}function Gt(){var e,t=i.VhashType,r=o[l],n=r.ln,c=r.col,u=(e=o[++l].value,o[l++].type===a.DecimalNumber&&l<s&&o[l].type===a.Identifier&&(e+=o[l++].value),e);return h(t,u,n,c,f(u,n,c+1))}function Kt(e){if(e>=s)return 0;var t,r=e,n=0,i=0;if(!(t=Xt(e)))return 0;for(e+=t,n++;e<s;){var a=e,l=e,c=void 0,u=ht(l);if(!(c=Y(l+u)))break;i++,(c=ht(l+=u+c))&&(l+=c),(c=Xt(l))&&(l+=c,n++),e+=l-a}return o[r].selectorsGroupEnd=e,o[r].selectorsGroupSelectorCount=n,o[r].selectorsGroupDelimCount=i,e-r}function Qt(){var e=[],t=0,r=0,n=o[l].selectorsGroupEnd,i=o[l].selectorsGroupSelectorCount,a=o[l].selectorsGroupDelimCount;for(e.push(Yt()),t++;l<n;)r<a&&(r++,e=(e=(e=e.concat(_t())).concat(J())).concat(_t()),t<i&&(e=e.concat(Yt()),t++));return e}function Xt(e){var t=void 0;return(t=function(e){if(e>=s)return 0;var t=e,r=void 0;if(!(r=Jt(e)))return 0;for(e+=r;e<s;){var n=ht(e),i=D(e+n);if(!n&&!i)break;if(i&&(n=ht(e+=n+i)),!(r=Jt(e+n)))break;e+=n+r}return o[t].selectorEnd=e,e-t}(e))?o[e].selectorType=1:(t=function(e){if(e>=s)return 0;var t=e,r=void 0;if(!(r=D(e)))return 0;for(e+=r;e<s;){var n=ht(e);if(!(r=Jt(e+n)))break;var i=ht(e+=n+r),a=D(e+i);if(!i&&!a)break;a&&(e+=i+a)}return o[t].selectorEnd=e,e-t}(e))&&(o[e].selectorType=2),t}function Yt(){return 1===o[l].selectorType?function(){for(var e=i.SelectorType,t=o[l],r=t.ln,n=t.col,a=t.selectorEnd,s=Zt();l<a;)ht(l)?s=s.concat(_t()):D(l)?s.push(j()):Jt(l)&&(s=s.concat(Zt()));return h(e,s,r,n)}():function(){for(var e=i.SelectorType,t=o[l],r=t.ln,n=t.col,a=t.selectorEnd,s=[j()];l<a;)ht(l)?s=s.concat(_t()):D(l)?s.push(j()):Jt(l)&&(s=s.concat(Zt()));return h(e,s,r,n)}()}function Jt(e){var t=void 0;return(t=function(e){if(e>=s)return 0;var t,r=e;if(!(t=er(e)||rr(e)||Ke(e)||$e(e)))return 0;for(e+=t;e<s;){var n=gt(e)||E(e)||ir(e)||it(e)||Ke(e)||be(e);if(!n)break;e+=n}return o[r].compoundSelectorEnd=e,e-r}(e))?o[e].compoundSelectorType=1:(t=function(e){if(e>=s)return 0;for(var t=e;e<s;){var r=gt(e)||E(e)||ir(e)||it(e)||Ke(e)||be(e);if(!r)break;e+=r}return o[t].compoundSelectorEnd=e,e-t}(e))&&(o[e].compoundSelectorType=2),t}function Zt(){var e=o[l].compoundSelectorType;return 1===e?function(){var e,t=[],r=o[l].compoundSelectorEnd;for(er(l)?t.push(tr()):rr(l)?t.push(nr()):Ke(l)?t.push(Qe()):$e(l)&&(t=t.concat((e=[ze()],Be(l)&&e.push(function(){for(var e=i.ParentSelectorExtensionType,t=o[l],r=t.ln,n=t.col,a=[];l<s;)if(he(l))a=a.concat(_e());else{if(!fe(l))break;a.push(pe())}return h(e,a,r,n)}()),e)));l<r;)if(gt(l))t.push(mt());else if(E(l))t.push(P());else if(ir(l))t.push(ar());else if(it(l))t.push(at());else if(Ke(l))t.push(Qe());else{if(!be(l))break;t.push(we())}return t}():2===e?function(){for(var e=[],t=o[l].compoundSelectorEnd;l<t;)if(gt(l))e.push(mt());else if(E(l))e.push(P());else if(ir(l))e.push(ar());else if(it(l))e.push(at());else if(Ke(l))e.push(Qe());else{if(!be(l))break;e.push(we())}return e}():void 0}function er(e){if(e>=s)return 0;var t,r=e;return(t=cr(e))&&(e+=t),o[e].type!==a.Asterisk?0:++e-r}function tr(){var e=i.UniversalSelectorType,t=o[l],r=t.ln,n=t.col,a=[],s=void 0;return cr(l)&&(a.push(ur()),s=f(a,r,n,1)),l++,h(e,a,r,n,s)}function rr(e){if(e>=s)return 0;var t=e,r=void 0;return(r=cr(e))&&(e+=r),(r=he(e))?(e+=r)-t:0}function nr(){var e=i.TypeSelectorType,t=o[l],r=t.ln,n=t.col,a=[];return cr(l)&&a.push(ur()),h(e,a=a.concat(_e()),r,n)}function ir(e){var t=void 0;return(t=function(e){var t=e;if(o[e].type!==a.LeftSquareBracket)return 0;var r=void 0;return(r=ht(++e))&&(e+=r),(r=or(e))?((r=ht(e+=r))&&(e+=r),(r=function(e){var t=void 0;return(t=function(e){var t=e,r=o[e].type;return r!==a.Tilde&&r!==a.VerticalLine&&r!==a.CircumflexAccent&&r!==a.DollarSign&&r!==a.Asterisk||o[++e].type!==a.EqualsSign?0:++e-t}(e))?o[e].attributeMatchType=1:(t=function(e){return o[e].type===a.EqualsSign?1:0}(e))&&(o[e].attributeMatchType=2),t}(e))?((r=ht(e+=r))&&(e+=r),(r=function(e){return vt(e)||he(e)}(e))?((r=ht(e+=r))&&(e+=r),(r=lr(e))&&(r=ht(e+=r))&&(e+=r),o[e].type!==a.RightSquareBracket?0:++e-t):0):0):0}(e))?o[e].attributeSelectorType=1:(t=function(e){var t=e;if(o[e].type!==a.LeftSquareBracket)return 0;var r=void 0;return(r=ht(++e))&&(e+=r),(r=or(e))?((r=ht(e+=r))&&(e+=r),o[e].type!==a.RightSquareBracket?0:++e-t):0}(e))&&(o[e].attributeSelectorType=2),t}function ar(){return 1===o[l].attributeSelectorType?(e=i.AttributeSelectorType,r=(t=o[l]).ln,n=t.col,l++,a=(a=[]).concat(_t(),sr(),_t(),1===o[l].attributeMatchType?function(){var e=i.AttributeMatchType,t=o[l],r=t.ln,n=t.col,a=o[l].value+o[l+1].value;return l+=2,h(e,a,r,n)}():function(){var e=i.AttributeMatchType,t=o[l],r=t.ln,n=t.col;return l++,h(e,"=",r,n)}(),_t(),function(){var e=i.AttributeValueType,t=o[l],r=t.ln,n=t.col,a=[];return vt(l)?a.push(yt()):a=a.concat(_e()),h(e,a,r,n)}(),_t()),lr(l)&&(a.push(function(){var e=i.AttributeFlagsType,t=o[l],r=t.ln,n=t.col;return h(e,_e(),r,n)}()),a=a.concat(_t())),l++,h(e,a,r,n,f(a,r,n,1))):function(){var e=i.AttributeSelectorType,t=o[l],r=t.ln,n=t.col,a=[];return l++,a=a.concat(_t(),sr(),_t()),l++,h(e,a,r,n,f(a,r,n,1))}();var e,t,r,n,a}function or(e){var t=e,r=void 0;return(r=cr(e))&&(e+=r),(r=he(e))?(e+=r)-t:0}function sr(){var e=i.AttributeNameType,t=o[l],r=t.ln,n=t.col,a=[];return cr(l)&&a.push(ur()),h(e,a=a.concat(_e()),r,n)}function lr(e){return he(e)}function cr(e){if(e>=s)return 0;var t=void 0;return(t=function(e){var t=e,r=void 0;return(r=function(e){if(e>=s)return 0;var t=void 0;return o[e].type===a.Asterisk?1:(t=he(e))?t:0}(e))?((r=I(e+=r))&&(e+=r),(r=dr(e))?(e+=r)-t:0):0}(e))?o[e].namePrefixType=1:(t=function(e){return dr(e)}(e))&&(o[e].namePrefixType=2),t}function ur(){return 1===o[l].namePrefixType?(e=i.NamePrefixType,r=(t=o[l]).ln,n=t.col,(s=[]).push(function(){var e=i.NamespacePrefixType,t=o[l],r=t.ln,n=t.col,s=[];if(t.type===a.Asterisk){var c=h(i.IdentType,"*",r,n);s.push(c),l++}else he(l)&&(s=s.concat(_e()));return h(e,s,r,n)}()),I(l)&&s.push(L()),s.push(pr()),h(e,s,r,n)):function(){var e=i.NamePrefixType,t=o[l],r=t.ln,n=t.col;return h(e,[pr()],r,n)}();var e,t,r,n,s}function dr(e){return e>=s||o[e].type!==a.VerticalLine||o[e+1]&&o[e+1].type===a.EqualsSign?0:1}function pr(){var e=i.NamespaceSeparatorType,t=o[l],r=t.ln,n=t.col;return l++,h(e,"|",r,n)}e.exports=function(e,t){return s=(o=e).length,l=0,c[t]()}},function(e,t,r){"use strict";e.exports=function(e,t){var n=r(13),i=[],a=!1,o=void 0,s=void 0,l=0,c=0,u=1,d=1,p={" ":n.Space,"\n":n.Newline,"\r":n.Newline,"\t":n.Tab,"!":n.ExclamationMark,'"':n.QuotationMark,"#":n.NumberSign,$:n.DollarSign,"%":n.PercentSign,"&":n.Ampersand,"'":n.Apostrophe,"(":n.LeftParenthesis,")":n.RightParenthesis,"*":n.Asterisk,"+":n.PlusSign,",":n.Comma,"-":n.HyphenMinus,".":n.FullStop,"/":n.Solidus,":":n.Colon,";":n.Semicolon,"<":n.LessThanSign,"=":n.EqualsSign,"==":n.EqualitySign,"!=":n.InequalitySign,">":n.GreaterThanSign,"?":n.QuestionMark,"@":n.CommercialAt,"[":n.LeftSquareBracket,"]":n.RightSquareBracket,"^":n.CircumflexAccent,_:n.LowLine,"{":n.LeftCurlyBracket,"|":n.VerticalLine,"}":n.RightCurlyBracket,"~":n.Tilde,"`":n.Backtick};function f(e,t,r){i.push({tn:c++,ln:u,col:r,type:e,value:t})}function h(e){return"0123456789".indexOf(e)>=0}function _(e){for(var t=l;l<e.length&&" "===e.charAt(l);l++);f(n.Space,e.substring(t,l--),d),d+=l-t}function g(e,t){var r=l;for(l++;l<e.length;l++)if("\\"===e.charAt(l))l++;else if(e.charAt(l)===t)break;f('"'===t?n.StringDQ:n.StringSQ,e.substring(r,l+1),d),d+=l-r}function m(e){for(var t=l;l<e.length&&h(e.charAt(l));l++);f(n.DecimalNumber,e.substring(t,l--),d),d+=l-t}function v(e){for(var t=l;"/"===e.charAt(l);)l++;for(;l<e.length;l++)if("\\"===e.charAt(l))l++;else if(e.charAt(l)in p)break;var r=e.substring(t,l--);a||"url"!==r||"("!==e.charAt(l+1)||(a=!0),f(n.Identifier,r,d),d+=l-t}function y(e){var t=l;for(l+=2;l<e.length;l++)if("*"===e.charAt(l)&&"/"===e.charAt(l+1)){l++;break}var r=e.substring(t,l+1);f(n.CommentML,r,d);var i=r.split("\n");i.length>1?(u+=i.length-1,d=i[i.length-1].length):d+=l-t}function b(e){var t=l;for(l+=2;l<e.length&&"\n"!==e.charAt(l)&&"\r"!==e.charAt(l);l++);f(n.CommentSL,e.substring(t,l--),d),d+=l-t}return function(e){for(l=0;l<e.length;d++,l++)o=e.charAt(l),s=e.charAt(l+1),"/"===o&&"*"===s?y(e):a||"/"!==o||"/"!==s?'"'===o||"'"===o?g(e,o):" "===o?_(e):"="===o&&"="===s?(f(n.EqualitySign,"==",d),l++,d++):"!"===o&&"="===s?(f(n.InequalitySign,"!=",d),l++,d++):o in p?("\r"===o&&"\n"===s||"\n"===o?("\r"===o?(f(n.Newline,"\r\n",d),l++):"\n"===o&&f(p[o],o,d),u++,d=0):"\r"!==o&&"\n"!==o&&f(p[o],o,d),")"===o?a=!1:"\t"===o&&t>1&&(d+=t-1)):h(o)?m(e):v(e):b(e);return i}(e)}},function(e,t,r){"use strict";var n=r(1),i=r(15);e.exports=function(){return new n({type:i.StylesheetType,content:[],start:[0,0],end:[0,0]})}}])},"object"==typeof r&&"object"==typeof t?t.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof r?r.gonzales=n():this.gonzales=n()},{}]},{},[1]),function(){var e,t,r=this;if(this._allready=!1,this.supported=!1,void 0!==document.getElementById&&void 0!==document.styleSheets&&void 0!==document.nodeType){this.supported=!0;var n,i=!1,a="Network Failure or Security Violation",o="Security Violation",s="Unspecified Error",l="Data is not CSS",c="unknown",u="OK",d="Discarded Duplicate",p="Stylesheet is disabled",f="Unsupported node type",h="CSSUtilities (Fatal Error):",_=h+" The specified mode is not valid",g=h+" The specified async setting is not valid",m=h+" The specified document is not a Document",v=h+" The specified base is not an absolute URL",y=h+" The specified watch setting is not valid",b=h+" The specified attributes setting is not valid",w=h+" The specified api settings are not valid",T=h+" Your Selectors API is not returning the right data",x=h+" The Selectors API is missing",k=h+" Unable to communicate with the network",S=h+' You cannot define "%var" after "api", it must be defined first',C="all",M="screen",A="none",O={azimuth:"2","border-collapse":"2","border-spacing":"2","caption-side":"2",color:"2",cursor:"2",direction:"2",elevation:"2","empty-cells":"2",fit:"3","fit-position":"3",font:"2","font-family":"2","font-size":"2","font-size-adjust":"2","font-stretch":"2","font-style":"2","font-variant":"2","font-weight":"2","hanging-punctuation":"3","hyphenate-after":"3","hyphenate-before":"3","hyphenate-character":"3","hyphenate-lines":"3","hyphenate-resource":"3",hyphens:"3","image-resolution":"3","letter-spacing":"2","line-height":"2","line-stacking":"3","line-stacking-ruby":"3","line-stacking-shift":"3","line-stacking-strategy":"3","list-style":"2","list-style-image":"2","list-style-position":"2","list-style-type":"2","marquee-direction":"3",orphans:"2","overflow-style":"3",page:"2","page-break-inside":"2",pitch:"2","pitch-range":"2","presentation-level":"3","punctuation-trim":"3",quotes:"2",richness:"2","ruby-align":"3","ruby-overhang":"3","ruby-position":"3",speak:"2","speak-header":"2","speak-numeral":"2","speak-punctuation":"2","speech-rate":"2",stress:"2","text-align":"2","text-align-last":"3","text-emphasis":"3","text-height":"3","text-indent":"2","text-justify":"3","text-outline":"3","text-replace":"?","text-shadow":"3","text-transform":"2","text-wrap":"3",visibility:"2","voice-balance":"3","voice-family":"2","voice-rate":"3","voice-pitch":"3","voice-pitch-range":"3","voice-stress":"3","voice-volume":"3",volume:"2","white-space":"2","white-space-collapse":"3",widows:"2","word-break":"3","word-spacing":"2","word-wrap":"3","-moz-force-broken-image-icon":"m","-moz-image-region":"m","-moz-stack-sizing":"m","-moz-user-input":"m","-x-system-font":"m","-xv-voice-balance":"o","-xv-voice-pitch":"o","-xv-voice-pitch-range":"o","-xv-voice-rate":"o","-xv-voice-stress":"o","-xv-voice-volume":"o","-ms-text-align-last":"e","-ms-text-justify":"e","-ms-word-break":"e","-ms-word-wrap":"e"},E={margin:["margin-top","margin-right","margin-bottom","margin-left"],padding:["padding-top","padding-right","padding-bottom","padding-left"],outline:["outline-width","outline-style","outline-color"],border:["border-width","border-style","border-color","border-top","border-right","border-bottom","border-left","border-top-width","border-right-width","border-bottom-width","border-left-width","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-color","border-right-color","border-bottom-color","border-left-color"],"border-width":["border-top-width","border-right-width","border-bottom-width","border-left-width"],"border-style":["border-top-style","border-right-style","border-bottom-style","border-left-style"],"border-color":["border-top-color","border-right-color","border-bottom-color","border-left-color"],"border-top":["border-top-width","border-top-style","border-top-color"],"border-right":["border-right-width","border-right-style","border-right-color"],"border-bottom":["border-bottom-width","border-bottom-style","border-bottom-color"],"border-left":["border-left-width","border-left-style","border-left-color"],"list-style":["list-style-type","list-style-image","list-style-position"],font:["font-weight","font-style","font-variant","font-size","line-height","font-family"],background:["background-color","background-image","background-repeat","background-attachment","background-position","background-size","background-clip","background-origin"],"line-stacking":["line-stacking-strategy","line-stacking-ruby","line-stacking-shift"],"column-rule":["column-rule-width","column-rule-style","column-rule-color"],columns:["column-width","column-count"],pause:["pause-before","pause-after"],rest:["rest-before","rest-after"],cue:["cue-before","cue-after"],mark:["mark-before","mark-after"],transition:["transition-property","transition-duration","transition-timing-function","transition-delay"],animation:["animation-name","animation-duration","animation-timing-function","animation-delay","animation-iteration-count","animation-direction"],target:["target-name","target-new","target-position"]},P=/[:]{1,2}(?:first\-(letter|line)|before|after|selection|value|choices|repeat\-(item|index)|outside|alternate|(line\-)?marker|slot\([_a-z0-9\-\+\.\\]*\))/i,D=/([:]{1,2}(?:first\-(letter|line)|before|after|selection|value|choices|repeat\-(item|index)|outside|alternate|(line\-)?marker|slot\([_a-z0-9\-\+\.\\]*\)))/gi,j=/([:](?:(link|visited|active|hover|focus|lang|root|empty|target|(en|dis)abled|checked|indeterminate|default|(in)?valid|required|optional)|((in|out\-of)\-range)|(read\-(only|write))|(first|last|only|nth)(\-last)?\-(child|of\-type))(?:\([_a-z0-9\-\+\.\\]*\))?)/gi,I=/(\[\s*[_a-z0-9-:\.\|\\]+\s*(?:[~\|\*\^\$]?=\s*[\"\'][^\"\']*[\"\'])?\s*\])/gi,L=/(#[a-z]+[_a-z0-9-:\\]*)/gi,R=/(\.[_a-z]+[_a-z0-9-:\\]*)/gi,N=/\!\s*important\s*$/i,F="undefined",q="object",U="string",z="function",B="boolean",$=!0,H=!1,V=null,W="browser",G="author",K="active",Q="cancelled",X="Apple Computer, Inc."==navigator.vendor,Y=X&&/version\/3/i.test(navigator.appVersion),J="KDE"==navigator.vendor,Z=/applewebkit/i.test(navigator.userAgent),ee=typeof document.uniqueID!=F,te=typeof window.opera!=F,re=W,ne=!0,ie=document,ae=H,oe=$,se=V,le=V,ce=H;this.define=function(e,r,i){switch(e){case"mode":if(typeof r!=U||!/^(author|browser)$/i.test(r))throw new Error(_);if((re=r)==W&&ae===V)throw new Error(y);break;case"async":if(typeof r!=B)throw new Error(g);ne=r;break;case"mtvars":this.setup_mt_vars();break;case"page":if(ce==$)throw new Error(S.replace("%var","page"));if(typeof r.nodeType==F||9!=r.nodeType)throw new Error(m);ie=r,t.cssUtilitiesPage=ie;break;case"base":if(ce==$)throw new Error(S.replace("%var","base"));if(typeof r!=U||!/^(((ht|f)tp[s]?)\:)/i.test(r))throw new Error(v);n=r;break;case"attributes":if(typeof r!=B)throw new Error(b);oe=r;break;case"watch":if(typeof r!=B&&(re!=G||r!=V))throw new Error(y);ae=r;break;case"api":if(typeof r!=B)throw new Error(w);if(typeof i!=F&&typeof i!=z)throw new Error(w);if(se=r==H?typeof ie.querySelectorAll==F:$,ce=$,typeof i==z){var a=i("*",ie);if(typeof a!=q||a==V||typeof a.length==F)throw new Error(T);le=i}}},this.setup_mt_vars=function(){e=TvrMT.MTF,t=TvrMT.TvrUi,TvrMT.TvrCom},this.init=function(e){i!==$&&(i=$,this._allready=H,se=typeof ie.querySelectorAll!=F&&se!==$?H:$,n==V&&(n=ie.location.href),this._isXML=te&&ie.documentElement.namespaceURI!=V||!te&&typeof ie.xmlVersion!=F&&ie.xmlVersion!=V,this._viewmedia=M,this._cssRules=V,delete this._cssRules,this._stylesheets=V,delete this._stylesheets,r._cssRules=[],r._stylesheets=[],r.ssidcounter=0,re==G?function(e){r._cssdata=[],ee&&Ae("style").length>0?function(e){ze(ne,n,(function(t){var r=Ae("style"),n=t.split(/<([^:]+:)?style[^>]*>/i);n.splice(0,1);for(var i=0;i<n.length;i++)r[i].__css=n[i].split(/<\/([^:]+:)?style>/i)[0];delete n,e()}),(function(){e()}))}(t):t();function t(){for(var t=function(){for(var e=[],t=ie.childNodes,r=0;r<t.length;r++)7==t[r].nodeType&&"xml-stylesheet"==t[r].target.toLowerCase()&&e.push(t[r]);var n=Ae("*");for(r=0;r<n.length;r++)(/link/i.test(n[r].nodeName)&&/stylesheet/i.test(n[r].getAttribute("rel"))||/style/i.test(n[r].nodeName))&&e.push(n[r]);return e}(),i=0;i<t.length;i++)de(t[i],7==t[i].nodeType?t[i].target.toLowerCase():t[i].nodeName.toLowerCase());function a(e){o(r._cssdata[e],(function(t){r._cssdata[e]=t,e+1<r._cssdata.length?a(e+1):s()}))}function o(e,t){e.href==V?t(e):pe(e.href,(function(r){r.message!=V?(e.message=r.message,e.stylenode=V,e.stylesheet=V,(e.message==l||/^[1-9]{1,3}/.test(e.message))&&(e.media=A)):e.text=fe(r.text,H),t(e)}))}function s(){function e(t){function i(n){t+1<r._cssdata.length?e(t+n):p()}if(r._cssdata[t].tested==$)i(1);else{var a=function(e){var t=[],r=/@import\s*(?:url\s*\(\s*[\'\"]?|[\'\"])([^\'\"\)]+)(?:[\'\"]|[\'\"]?\s*\))([^;]*)(;|$)/gi,i=e.match(r);if(i)for(var a=0;a<i.length;a++){var o=Ue(i[a].replace(r,"$1"),n),s=Le(Le(i[a].replace(r,"$2")).replace(/^\)/,"")),l=$;s||(l=H,s=C),t.push({href:o,media:s,hasownmedia:l})}return t}(r._cssdata[t].text);if(r._cssdata[t].tested=$,r._cssdata[t].ssid=r.ssidcounter++,a.length>0){function o(e){c(t,e,a[e],(function(e,n,s){try{if(r._cssdata[n+s].stylesheet){var l=0;if(sheetrules=r._cssdata[n+s].stylesheet.cssRules)for(var c=0;c<sheetrules.length;c++)if(3==sheetrules.item(c).type){if(s>0&&l++<s)continue;e.stylesheet=sheetrules.item(c).styleSheet;break}}}catch(e){r._cssdata[n+s].stylesheet=V}r._cssdata.splice(t+s,0,e),s+1<a.length?o(s+1):i(0)}))}o(0)}else i(1)}}e(0)}function c(e,t,n,i){var a={tested:H,owner:"@import",media:C,stylenode:r._cssdata[e].stylenode,href:n.href,text:""};try{a.stylesheet=r._cssdata[e].stylesheet}catch(e){a.stylesheet=V}a.media=n.media;for(var o=e,s=r._cssdata[o];s.href==a.href;)s=r._cssdata[o--];function c(r){r.message!=V?(a.message=r.message,a.stylenode=V,a.stylesheet=V,(a.message==l||/^[1-9]{1,3}.*$/.test(a.message))&&(a.media=A)):a.text=fe(r.text,H),i(a,e,t)}context=s.media,a.xmedia=n.hasownmedia?n.media:C,a.media=ke(context,a.media),Re(r._cssdata,n.href,"href")!=V?c({text:"",message:d}):pe(n.href,c)}function p(){for(var t=0;t<r._cssdata.length;t++){if(r._cssdata[t].href){var n=Re(r._stylesheets,r._cssdata[t].href,"href");if(n!=V&&n.message!=d){r._stylesheets.push({ssid:r._cssdata[t].ssid,href:r._cssdata[t].href,owner:r._cssdata[t].owner,media:r._cssdata[t].media,xmedia:r._cssdata[t].xmedia,stylenode:V,stylesheet:V,rules:0,message:d}),r._cssdata[t].stylenode&&(r._cssdata[t].stylenode.disabled=$);continue}}if(typeof r._cssdata[t].message==F){var i=he(r._cssdata[t]);a={ssid:r._cssdata[t].ssid,href:r._cssdata[t].href,owner:r._cssdata[t].owner,media:r._cssdata[t].media,xmedia:r._cssdata[t].xmedia,stylenode:r._cssdata[t].stylenode,rules:i,message:u};try{a.stylesheet=r._cssdata[t].stylesheet}catch(e){a.stylesheet=V}r._stylesheets.push(a)}else{var a={ssid:r._cssdata[t].ssid,href:r._cssdata[t].href,owner:r._cssdata[t].owner,media:r._cssdata[t].media,xmedia:r._cssdata[t].xmedia,stylenode:r._cssdata[t].stylenode,rules:0,message:r._cssdata[t].message};try{a.stylesheet=r._cssdata[t].stylesheet}catch(e){a.stylesheet=V}r._stylesheets.push(a)}}r._cssdata=V,delete r._cssdata,r._stylesheets.sort((function(e,t){return e.ssid-t.ssid})),r.ssidcounter=V,delete r.ssidcounter,ae===$&&Ce(),typeof e==z&&e()}0==r._cssdata.length?p():a(0)}}(a):function(e){var i=Ne(ie.styleSheets);i=t.filter_excluded_stylesheets(i);for(var a=0;a<i.length;a++)if(i[a].__ssid=r.ssidcounter++,typeof i[a].ownerNode!=F)if(Y&&/xml\-stylesheet/.test(i[a].ownerNode.nodeName))r._stylesheets.push({ssid:i[a].__ssid,href:Ue(i[a].href,n),owner:"xml-stylesheet",media:c,stylesheet:V,rules:0,message:f}),i.splice(a,1),a--;else try{_e(i[a],i[a].ownerNode.nodeName.toLowerCase(),i[a].media.length>0?Le(i[a].media.mediaText):C)}catch(e){r._stylesheets.push({ssid:i[a].__ssid,href:c,owner:c,media:c,stylesheet:V,rules:0,message:s}),i.splice(a,1),a--}else typeof i[a].owningElement!=F&&me(i[a],i[a].owningElement.nodeName.toLowerCase(),""!=Le(i[a].media)?Le(i[a].media):C);r._stylesheets.sort((function(e,t){return e.ssid-t.ssid})),r.ssidcounter=V,delete r.ssidcounter,ae==$&&Ce();typeof e==z&&e()}(a));function a(){i=H,CSSUtilities._allready=$,typeof e==z?(CSSUtilities.initcallback=e,CSSUtilities.initcallback()):(CSSUtilities.initcallback=V,delete CSSUtilities.initcallback)}},this.getElementsBySelector=function(e){return Me(e)},this.getCSSStyleSheets=function(){var e=Ee(arguments,[]);return e.onfinished=Ie(e.onfinished),Oe(),ue(e.onfinished,(function(){return r._stylesheets}))},this.getCSSRules=function(){var e=Ee(arguments,["element","media","accept","altstates"]);return e.element=Pe(e.element,"getCSSRules"),e.media=De(e.media),e.accept=je(e.accept),e.altstates==V&&(e.altstates=H),e.onfinished=Ie(e.onfinished),Oe(),ue(e.onfinished,(function(){return ve(e.element,e.media,e.accept,e.altstates)}))},this.getCSSStyleSheetRules=function(){var e=Ee(arguments,["media","accept","ssid"]);if(e.media=De(e.media),e.accept=je(e.accept),typeof e.accept.properties!=F&&typeof e.accept.css==F){e.accept.css="";var t=$}if(e.ssid===V&&(e.ssid=-1),e.onfinished=Ie(e.onfinished),Oe(),-1!==e.ssid&&Re(this._stylesheets,e.ssid,"ssid")==V)throw new Error("CSSUtilities.%method has an invalid Stylesheet ID".replace("%method","getCSSStyleSheetRules"));return ue(e.onfinished,(function(){for(var n=[],i=0;i<r._cssRules.length;i++){var a={};if(Se(e.media,r._cssRules[i])){if(-1!==e.ssid&&r._cssRules[i].ssid!==e.ssid)continue;for(var o in r._cssRules[i])r._cssRules[i].hasOwnProperty(o)&&("*"!=e.accept&&typeof e.accept[o]==F||(a[o]=r._cssRules[i][o]));"*"!=e.accept&&typeof e.accept.index==F||(a.index=i),n.push(a)}}if(typeof e.accept.properties==F&&"*"!==e.accept||(n=ye(n,H)),typeof t!=F)for(i=0;i<n.length;i++)n[i].css=V,delete n[i].css;return n}))},this.getCSSProperties=function(){var e=Ee(arguments,["element","media"]);return e.element=Pe(e.element,"getCSSProperties"),e.media=De(e.media),e.onfinished=Ie(e.onfinished),Oe(),ue(e.onfinished,(function(){var t={},r=ve(e.element,e.media,"properties",H);if(0==r.length)return V;for(var n=0;n<r.length;n++)for(var i in r[n].properties)r[n].properties.hasOwnProperty(i)&&r[n].properties[i].status==K&&(t[i]=r[n].properties[i].value);return t}))},this.getCSSSelectors=function(){var e=Ee(arguments,["element","media","directonly"]);return e.element=Pe(e.element,"getCSSSelectors"),e.media=De(e.media),e.directonly==V&&(e.directonly=$),e.onfinished=Ie(e.onfinished),Oe(),ue(e.onfinished,(function(){for(var t=[],r=ve(e.element,e.media,"selector",$),n=0;n<r.length;n++)for(var i=Te(r[n].selector),a=0;a<i.length;a++)Re(t,i[a])==V&&t.push(i[a]);if(e.directonly==H){for(var o=e.element,s=[o];o.parentNode;)s.push(o.parentNode),o=o.parentNode;for(n=0;n<t.length;n++){var l=H;for(a=0;a<s.length;a++){if((u=Me(t[n].replace(j,""))).length>0)for(var c=0;c<u.length;c++)if(u[c]==s[a]){l=$;break}if(l==$)break}l==H&&(t.splice(n,1),n--)}return t}for(i=[],n=0;n<t.length;n++){var u;if((u=Me(t[n].replace(j,""))).length>0)for(a=0;a<u.length;a++)if(u[a]==e.element){i.push(t[n]);break}}return i}))},this.getCSSSelectorSpecificity=function(){var e=Ee(arguments,["selector","element"]);if(typeof e.selector!=U||e.selector==V||""==Le(e.selector))throw new Error("CSSUtilities.%method requires a valid Selector reference".replace("%method","getCSSSelectorSpecificity"));if(-1!=e.selector.indexOf(","))throw new Error("CSSUtilities.%method can only process one Selector at a time".replace("%method","getCSSSelectorSpecificity"));return e.element!=V&&(e.element=Pe(e.element,"getCSSSelectorSpecificity")),e.onfinished=Ie(e.onfinished),Oe(),ue(e.onfinished,(function(){if(e.selector=Le(e.selector),e.element!=V){var t=H,r=e.selector.replace(j,""),n=Me(r);if(n.length>0)for(var i=0;i<n.length;i++)if(n[i]==e.element){t=$;break}if(""==r&&e.selector.match(j)&&(t=$),t==H){for(var a=e.element,o=[a];a.parentNode;)o.push(a),a=a.parentNode;for(var s=0;s<o.length;s++){if(n.length>0)for(i=0;i<n.length;i++)if(n[i]==o[s]){t=$;break}if(t==$)break}return t==$?[0,0,0,0]:V}}return function(e){var t=[0,0,0,0];if(""===e)return t[0]+=1,t;var r=e.replace(I,"");(n=r.match(L))&&(t[1]+=n.length);(n=r.match(R))&&(t[2]+=n.length);(n=e.match(I))&&(t[2]+=n.length);(n=r.match(j))&&(t[2]+=n.length);var n,i=r.replace(j,"").replace(D,"").replace(/(:not)/gi,"").replace(/(^|\()([_a-z0-9-\.\\]+\|)/gi,"$1").replace(L,"").replace(R,"");(n=i.match(/([_a-z0-9-:\\]+)/gi))&&(t[3]+=n.length);(n=r.match(D))&&(t[3]+=n.length);return t}(e.selector)}))}}function ue(e,t){if(r._allready===$||e!=V){if(e==V)return t();if(r._allready===$)e(t());else var n=window.setInterval((function(){r._allready===$&&(window.clearInterval(n),e(t()))}),200)}}function de(e,t){var i={tested:H,owner:t,media:C,stylenode:e,stylesheet:e.styleSheet||e.sheet,href:V,text:""};if(/xml\-stylesheet/.test(t))for(var a={},o=e.data.match(/([a-z]+=[\'\"][^\'\"]*[\'\"])/gm),s=0;s<o.length;s++)o[s]=o[s].split("="),a[o[s][0]]=o[s][1].substr(1,o[s][1].length-2);if((X||J||Z)&&!/xml\-stylesheet/.test(t))var l=e.disabled;else{var c=e[typeof e.styleSheet!=F?"styleSheet":"sheet"];l=c==V?$:c.disabled}if(te&&l&&e.sheet.media.length>0){var u=e.sheet.media.mediaText;e.sheet.media.mediaText=r._viewmedia,l=e.sheet.disabled,e.sheet.media.mediaText=u}if(ae!==V&&l&&(i.message=p),/xml\-stylesheet/.test(t))i.href=Ue(a.href,n);else if(/link/i.test(t))i.href=Ue(e.getAttribute("href",2),n);else if(!l||ae===V)if(ee)typeof e.__css==F?i.message="Network Failure":i.text+=fe(e.__css,H);else{o="";var d=e.childNodes;for(s=0;s<d.length;s++)switch(d[s].nodeType){case 3:o+=d[s].nodeValue;break;case 4:o+="<![CDATA["+d[s].nodeValue+"]]>";break;case 8:o+="\x3c!--"+d[s].nodeValue+"--\x3e"}i.text+=fe(o,H)}/xml\-stylesheet/.test(t)?i.media=typeof a.media!=F?a.media:C:i.media=e.getAttribute("media")?e.getAttribute("media"):C,i.media=i.media.split(/,\s*/).join(", "),i.xmedia=i.media,r._cssdata.push(i)}function pe(e,t){var r={text:"",message:V};ze(ne,e,(function(e,n){if(typeof n!=U||""==Le(n)||/^(text\/css)/.test(n))r.text=e;else{if(/^(text\/html)/.test(n)){var i=e.match(/<title>([1-9]{1,3}[^<]+)<\/title>/i);i&&i.length>=2&&(r.message=i[1])}r.message==V&&(r.message=l)}t(r)}),(function(e){r.message=e,t(r)}))}function fe(e,t){if(e=e.replace(/(\/\*([^*]|(\*+([^*\/])))*\*+\/)/gm,""),r._isXML||(e=e.replace(/(<\!\[CDATA\[([^\]]|(\]+([^>])))*\]+>)/gm,"")),r._isXML&&!(X||J||Z)&&(e=e.replace(/(<\!\-\-([^\-]|(\-+([^>])))*\-+>)/gm,"")),e=(e=(e=e.replace(/[\t]+/g," ").replace(/[ ][ ]/g," ")).replace(/[\r\n]/g,"")).replace(/@(charset|namespace)[^;]+;/gim,""),typeof t!=F&&t==$)e=e.replace(/@import[^;]+;/gim,"");else if(/@import[^;]+;/i.test(e))for(var n=e.replace(/(@import[^;]+;)/gim,"{SPLIT}$1{SPLIT}").split("{SPLIT}"),i=(e="",V),a=0;a<n.length;a++)""!=Le(n[a])&&(/@import[^;]+;/i.test(n[a])?(i===V&&(i=H),i===H&&(e+=n[a])):(i=$,e+=n[a]));return Le(e=(e=e.replace(/@(font\-face|page)[^\}]+\}/gim,"")).replace(/(<\!\-\-)|(\-\->)|(<\!\[CDATA\[)|(\]\]>)/gm,""))}function he(e){var t=e.text.match(/(content:[^;]+;)/gim);if(t)for(var n=0;n<t.length;n++)e.text=e.text.replace(t[n],"[G"+n+"]");e.text=Le(fe(e.text,$)).split("}");for(var i=0;i<e.text.length;i++){e.text[i]=Le(e.text[i]).split("{");for(var a=0;a<e.text[i].length;a++)e.text[i][a]=Le(e.text[i][a])}if(t)for(n=0;n<t.length;n++)for(i=0;i<e.text.length;i++)for(a=0;a<e.text[i].length;a++)e.text[i][a]=e.text[i][a].replace("[G"+n+"]",t[n]);var o=0,s=e.media,l=e.xmedia,c=e.owner;for(i=0;i<e.text.length;i++)if(2==e.text[i].length)r._cssRules.push({selector:e.text[i][0],css:e.text[i][1],media:s,xmedia:l,owner:c.toLowerCase(),href:e.href,ssid:e.ssid}),o++;else if(3==e.text[i].length){c="@media",l=s=Le(e.text[i][0].replace("@media","")).toLowerCase();var u=e.media;""==u&&(u=C),s=ke(u,s),r._cssRules.push({selector:e.text[i][1],css:e.text[i][2],media:s,xmedia:l,owner:c,href:e.href,ssid:e.ssid}),o++}else 1==e.text[i].length&&(s=e.media,l=e.xmedia,c=e.owner);return o}function _e(e,t,i){if(e.href&&e.href!=n){var a=Ue(e.href,n);if(Re(r._stylesheets,a,"href")!=V)return r._stylesheets.push({ssid:e.__ssid,href:a,owner:t,media:i,stylesheet:V,rules:0,message:d}),void(e.disabled=$)}try{var s=e.disabled;if(te&&s&&e.media.length>0){var l=e.media.mediaText;e.media.mediaText=r._viewmedia,s=e.disabled,e.media.mediaText=l}if(s)f=0,m=p;else{for(var c=e.cssRules,f=0,h=0;h<c.length;h++)if(1==c.item(h).type)f++;else if(4==c.item(h).type)for(var _=c.item(h).cssRules,g=0;g<_.length;g++)1==_.item(g).type&&f++;var m=u}r._stylesheets.push({ssid:e.__ssid,href:e.href&&e.href!=n?Ue(e.href,n):V,owner:t,media:i,stylesheet:e,rules:f,message:m}),s||ge(e,e.cssRules,t,i)}catch(a){r._stylesheets.push({ssid:e.__ssid,href:e.href&&e.href!=n?Ue(e.href,n):V,owner:t,media:i,stylesheet:V,rules:0,message:o})}}function ge(e,t,i,a){for(l=0;l<t.length;l++)if(3==(c=t.item(l)).type){if(""==(a=c.media.mediaText))try{a=c.parentStyleSheet.media.mediaText}catch(e){a=c.parentStyleSheet.ownerRule.media.mediaText}""==a&&(a=C),a=a.toLowerCase();for(var o=c.parentStyleSheet;o;){try{var s=o.media.mediaText}catch(e){s=o.ownerRule.media.mediaText}""==s&&(s=C),a=ke(s,a),o=(X||J||Z)&&!o.parentStyleSheet&&o.ownerRule?o.ownerRule.parentStyleSheet:o.parentStyleSheet}c.styleSheet.__ssid=r.ssidcounter++,_e(c.styleSheet,"@import",a)}for(var l=0;l<t.length;l++){var c=t.item(l);if(1==c.type){/^(xml\-stylesheet|link|(([a-z]+:)?style))$/i.test(i)&&(""==(a=c.parentStyleSheet.media.mediaText)&&(a=C),a=a.toLowerCase());var u=c.style.cssText.replace(/[\r\n]/g," ");u=u.split(";");for(var d=0;d<u.length;d++){for(u[d]=u[d].split(":");u[d].length>2;)u[d][1]+=":"+u[d].pop();1!=u[d].length?("important"!=c.style.getPropertyPriority(Le(u[d][0]))||N.test(u[d][1])||(u[d][1]+=" !important"),u[d]=u[d].join(":")):(u.splice(d,1),d--)}u=u.join(";"),r._cssRules.push({selector:c.selectorText,css:u,media:a,owner:i,href:e.href==V?V:Ue(e.href,n),ssid:e.__ssid,idAttr:e.ownerNode.id})}}for(l=0;l<t.length;l++)if(4==(c=t.item(l)).type){""==(a=c.media.mediaText)&&(a=c.parentStyleSheet.media.mediaText),""==a&&(a=C),a=a.toLowerCase();for(o=c.parentStyleSheet;o;){try{s=o.media.mediaText}catch(e){s=o.ownerRule.media.mediaText}""==s&&(s=C),a=ke(s,a),o=(X||J||Z)&&!o.parentStyleSheet&&o.ownerRule?o.ownerRule.parentStyleSheet:o.parentStyleSheet}ge(e,c.cssRules,"@media",a)}}function me(e,t,i,a){if(e.href){var s=Ue(e.href,n);if(Re(r._stylesheets,s,"href")!=V)return r._stylesheets.push({ssid:e.__ssid,href:s,owner:t,media:i,stylesheet:V,rules:0,message:d}),void(e.disabled=$)}var l=[],c=e.disabled;if(!c)for(var f=0;f<e.imports.length;f++)if(0!=e.imports[f].rules.length){""==(i=Le(e.media))&&(i=C);var h=Ue(e.imports[f].href,n);l.push({sheet:e.imports[f],owner:"@import",media:i,href:h})}if(l.length>0)for(f=0;f<l.length;f++)l[f].sheet.__ssid=r.ssidcounter++,me(l[f].sheet,l[f].owner,l[f].media,l[f].href);try{if(c)x=p;else{var _=e.cssText,g=(_=(_=_.replace(/@(import|charset|namespace)[^;]+;/gim,"")).replace(/@(font\-face|page)[^\}]+\}/gim,"")).match(/(content\s*:\s*[\'\"].*(;|$))/gim);if(g)for(var m=0;m<g.length;m++)_=_.replace(g[m],"[G"+m+"]");_=Le(_).split("}");for(f=0;f<_.length;f++){_[f]=Le(_[f]).split("{");for(var v=0;v<_[f].length;v++)_[f][v]=Le(_[f][v])}if(g)for(m=0;m<g.length;m++)for(f=0;f<_.length;f++)for(v=0;v<_[f].length;v++)_[f][v]=_[f][v].replace("[G"+m+"]",g[m]);typeof a==F&&(a=e.href==V||""==e.href?V:Ue(e.href,n));var y=[],b=e.media;""==b&&(b=C);var w=t;for(f=0;f<_.length;f++)if(2==_[f].length)y.push({selector:_[f][0],css:_[f][1],media:b,owner:w,href:a,ssid:e.__ssid});else if(3==_[f].length){b=Le(_[f][0].replace("@media","")).toLowerCase(),w="@media";var T=e.media;""==T&&(T=C),b=ke(T,b),y.push({selector:_[f][1],css:_[f][2],media:b,owner:w,href:a,ssid:e.__ssid})}else 1==_[f].length&&(""==(b=e.media)&&(b=C),w=t);var x=u}if(!c)var k=function(e){for(var t=0,n=0;n<e.length;n++)""!=e[n].selector&&"UNKNOWN"!=e[n].selector&&-1==e[n].selector.indexOf(":unknown")&&(r._cssRules.push({selector:be(e[n].selector),css:we(e[n].css),media:e[n].media,owner:e[n].owner,href:e[n].href,ssid:e[n].ssid}),t++);return t}(y);r._stylesheets.push({ssid:e.__ssid,href:e.href?Ue(e.href,n):V,owner:t,media:i,stylesheet:e,rules:c?0:k,message:x})}catch(a){r._stylesheets.push({ssid:e.__ssid,href:e.href?Ue(e.href,n):V,owner:t,media:i,stylesheet:V,rules:0,message:o})}}function ve(e,t,n,i,a,o,s){if(n=je(n),typeof a!=F&&a!=V||(a=[]),typeof o!=F&&o!=V||(o=H),typeof s==F||s==V){if(s=[e],oe==$&&e.getAttribute("style")){var l=function(e){if(ee)try{var t=e.outerHTML.split(">")[0].match(/.*style\s*=\s*\"([^\"]*)\".*/im),r=t?we(t[1]):""}catch(e){r=""}else r=e.getAttribute("style");if(""==r)return V;var n={selector:"",css:r,media:C,owner:"@style",href:V,ssid:1/0};re==G&&(n.xmedia=n.media);return n}(e);l!=V&&r._cssRules.push(l)}}else s.push(e);for(var c=0;c<r._cssRules.length;c++)if(Se(t,r._cssRules[c])){if("@style"==r._cssRules[c].owner&&e==s[0])var u=[e],d=H;else{if(i==$){d=$;for(var p=Me(r._cssRules[c].selector),f=0;f<p.length;f++)if(p[f]==e){d=H;break}}else d=H;u=Me(i==$?r._cssRules[c].selector.replace(j,""):r._cssRules[c].selector)}if(u.length>0)for(f=0;f<u.length;f++)if(u[f]==e){var h=[];if(o)for(var _=s.length-1;_>0;_--)h.push(s[_]);for(var g={idAttr:r._cssRules[c].idAttr,selector:r._cssRules[c].selector,css:r._cssRules[c].css,index:c,specificity:[0,0,0,0],inheritance:h,altstate:d},m=["media","xmedia","owner","ssid","href"],v=0;v<m.length;v++)"*"!=n&&typeof n[m[v]]==F||typeof r._cssRules[c][m[v]]!=F&&(g[m[v]]=r._cssRules[c][m[v]]);a.push(g);break}}if(e.parentNode&&1==e.parentNode.nodeType)return ve(e.parentNode,t,n,i,a,$,s);if(0==a.length)return a;for(c=0;c<a.length;c++){var y=a[c].selector.split(","),b=[];for(f=0;f<y.length;f++)if(y[f]=Le(y[f]),""===y[f])b.push([1,0,0,0]);else{var w=r.getCSSSelectorSpecificity(y[f],s[0]);null!==w&&b.push(w)}b.sort((function(e,t){return e[0]!==t[0]?t[0]-e[0]:e[1]!==t[1]?t[1]-e[1]:e[2]!==t[2]?t[2]-e[2]:t[3]-e[3]})),a[c].specificity=b[0]}if(a.sort((function(e,t){return e.specificity||(e.specificity=[0,0,0,0]),t.specificity||(t.specificity=[0,0,0,0]),e.specificity.toString()===t.specificity.toString()?e.index===t.index?t.inheritance.length-e.inheritance.length:e.index-t.index:e.specificity[0]!==t.specificity[0]?e.specificity[0]-t.specificity[0]:e.specificity[1]!==t.specificity[1]?e.specificity[1]-t.specificity[1]:e.specificity[2]!==t.specificity[2]?e.specificity[2]-t.specificity[2]:e.specificity[3]-t.specificity[3]})),"*"!==n&&typeof n.properties==F||(a=ye(a,$)),"*"!==n)for(c=0;c<a.length;c++){var T=["selector","css","index","specificity","inheritance","altstate"];for(f=0;f<T.length;f++)typeof n[T[f]]==F&&(a[c][T[f]]=V,delete a[c][T[f]])}return"@style"==r._cssRules[r._cssRules.length-1].owner&&r._cssRules.splice(r._cssRules.length-1,1),a}function ye(e,t){for(var r=0;r<e.length;r++){for(var n in e[r].properties=xe(e[r].css,{},typeof e[r].inheritance!=F&&e[r].inheritance.length>0),e[r].allproperties={},e[r].properties)e[r].allproperties[n]={value:e[r].properties[n].property,status:K};if(t)if(e[r].altstate==$)for(var i in e[r].allproperties)e[r].allproperties.hasOwnProperty(i)&&(e[r].allproperties[i].status="inactive");else for(n=0;n<r;n++)for(var a in e[n].allproperties)if(e[n].allproperties.hasOwnProperty(a)&&e[n].allproperties[a].status==K)for(var i in e[r].allproperties)if(e[r].allproperties.hasOwnProperty(i)&&e[r].allproperties[i].status==K&&a==i){e[n].allproperties[a].status=Q;break}}if(t){for(r=0;r<e.length;r++)if(!(e[r].inheritance.length>0))for(var n in e[r].allproperties)if(e[r].allproperties.hasOwnProperty(n)&&e[r].allproperties[n].status==Q&&N.test(e[r].allproperties[n].value)){for(var o=r,s=r+1;s<e.length;s++)typeof e[s].allproperties[n]!=F&&e[s].allproperties[n].status==Q&&N.test(e[s].allproperties[n].value)&&(o=s);for(s=r;s<e.length;s++)if(s==o){e[s].allproperties[n].status=K;for(var l=0;l<s;l++)typeof e[l].allproperties[n]!=F&&e[l].allproperties[n].status==K&&(e[l].allproperties[n].status=Q)}else if(typeof e[s].allproperties[n]!=F&&e[s].allproperties[n].status==K){e[s].allproperties[n].status=Q;break}}for(r=0;r<e.length;r++)for(var n in e[r].allproperties)if(e[r].allproperties.hasOwnProperty(n)&&e[r].allproperties[n].status==K&&typeof E[n]!=F)for(s=0;s<=r;s++)for(var c=0;c<E[n].length;c++){var u=E[n][c];if(typeof e[s].allproperties[u]!=F&&e[s].allproperties[u].status==K){if(s==r){var d=0;for(var p in e[s].allproperties)if(e[s].allproperties.hasOwnProperty(p)){if(p==n)var f=d;if(p==u)var h=d;d++}}(s<r||h<f)&&!N.test(e[s].allproperties[u].value)&&(e[s].allproperties[u].status=Q)}}}for(r=0;r<e.length;r++){for(var n in e[r])e[r].hasOwnProperty(n)&&("properties"!=n&&"allproperties"!=n||0!=qe(e[r][n])||(e[r][n]=V));if(e[r].properties=e[r].allproperties,delete e[r].allproperties,!t)for(var _ in e[r].properties)e[r].properties.hasOwnProperty(_)&&(e[r].properties[_]=e[r].properties[_].value)}return e}function be(e){var t=e.match(/(^|[^\(])(\[[^\]]+\])($|[^\)])/gi);if(t)for(var r=0;r<t.length;r++)"["!=t[r].charAt(0)&&(t[r]=t[r].substr(1,t[r].length-1)),"]"!=t[r].charAt(t[r].length-1)&&(t[r]=t[r].substr(0,t[r].length-1)),e=e.replace(t[r],"{a"+r+"}");var n=e.match(/([#\.][a-z]+[_a-z0-9-:\\]*)/gi);if(n)for(var i=0;i<n.length;i++)e=e.replace(n[i],"{c"+i+"}");if(e=e.replace(/([A-Z1-6]+)/g,(function(e){return e.toLowerCase()})),t)for(r=0;r<t.length;r++)e=e.replace("{a"+r+"}",t[r]);if(n)for(i=0;i<n.length;i++)e=e.replace("{c"+i+"}",n[i]);return e}function we(e){e=e.split(";");for(var t=0;t<e.length;t++){for(var r=e[t].split(":");r.length>2;)r[1]+=":"+r.pop();1!=r.length?(r[0]=Le(r[0]).toLowerCase(),r[1]=Le(r[1]),e[t]=r[0]+": "+r[1]):(e.splice(t,1),t--)}return e.join("; ")}function Te(e){var t=[];if(""==e)return t;e=e.split(",");for(var r=0;r<e.length;r++)t.push(Le(e[r]));return t}function xe(e,t,r){if(""==e)return t;e=(e=e.replace(/[\r\n]/gm,"")).split(";");for(var n=0;n<e.length;n++)if(e[n]=Le(e[n]),""!=e[n]){for(var i=e[n].split(":");i.length>2;)i[1]+=":"+i.pop();if(1!=i.length){var a=Le(i[0]);(!r||r&&typeof O[a]!=F)&&(typeof t[a]!=F&&N.test(t[a].property)&&t[a].inherited!=$&&!N.test(i[1])||(t[a]={property:Le(i[1]),inherited:r}))}}return t}function ke(e,t){var r=Fe(e,","),n=/([ \t]and.*$)/i,i=t.match(n),a=i?i[0]:"";if(t=t.replace(n,"").replace(/only[ \t]+/i,""),typeof r.all!=F)return t+a;t=t.split(",");for(var o=0;o<t.length;o++)t[o]=Le(t[o]);for(o=0;o<t.length;o++){if(t[o]==C)for(var s in r)r.hasOwnProperty(s)&&(Re(t,s)!=V||/[\(\)]/.test(s)||t.push(s));typeof r[t[o]]==F&&(t.splice(o,1),o--)}return 0==t.length&&t.push(A),t.join(", ")+a}function Se(t,r){return"all"==r.media||e.mediaMatches(r.media)}function Ce(){for(var e=[],t=0;t<r._stylesheets.length;t++){var n=re==G?r._stylesheets[t].stylenode==H||r._stylesheets[t].stylenode==V?V:X||J||Z?r._stylesheets[t].stylenode:r._stylesheets[t].stylenode[typeof r._stylesheets[t].stylenode.styleSheet!=F?"styleSheet":"sheet"]:r._stylesheets[t].stylesheet;n!=V&&e.push({stylesheet:n,disabled:n.disabled})}if((X||J||Z)&&re==W){function i(){for(var e=[],t=ie.styleSheets,r=0;r<t.length;r++)typeof t[r].ownerNode.__ident==F&&(t[r].ownerNode.__ident=(new Date).getTime()+""+Math.round(1e4*Math.random())),e.push(t[r].ownerNode.__ident);return e}var a=i(),o=window.setInterval((function(){var e=i();a.join()!=e.join()&&(window.clearInterval(o),r.init(typeof r.initcallback!=F?r.initcallback:V))}),200)}else o=window.setInterval((function(){for(var t=0;t<e.length;t++){if(e[t].stylesheet.disabled!=e[t].disabled){window.clearInterval(o),r.init(typeof r.initcallback!=F?r.initcallback:V);var n=$}if(typeof n!=F)break}}),200)}function Me(e){if(".tvr-element-overlay"==e||".tvr-hh-mode .tvr-element-overlay"==e)return[];if(P.test(e)){for(var t=e.split(","),r=0;r<t.length;r++)P.test(t[r])&&(t.splice(r,1),r--);e=t.join(",")}if(""==Le(e))return[];if(se==H)try{return Ne(ie.querySelectorAll(e))}catch(e){return[]}if(typeof le==z)try{return Ne(le(e,ie))}catch(e){return[]}try{if(typeof Selector!=z)throw new Error(x);var n=Selector(e,ie);return typeof n==F?[]:n}catch(e){if(e.message==x)throw e;return[]}}function Ae(e){try{var t=Ne(r._isXML?ie.getElementsByTagNameNS("*",e):ie.getElementsByTagName(e))}catch(e){t=[]}if("*"==e)for(var n=0;n<t.length;n++)1==t[n].nodeType&&"/"!=t[n].tagName.charAt(0)||t.splice(n--,1);return t}function Oe(){typeof r._cssRules==F&&r.init()}function Ee(e,t){t.push("onfinished");for(var r={},n=0;n<t.length;n++){if(typeof e[n]==z){for(var i=n;i<t.length;i++)r[t[i]]=V;r.onfinished=e[n];break}typeof e[n]==F?r[t[n]]=V:r[t[n]]=e[n]}return r}function Pe(e,t){if(typeof e==U&&"#"==e.charAt(0)&&(e=ie.getElementById(e.substr(1,e.length-1))),typeof e==F||e==V||typeof e.nodeType==F||1!=e.nodeType)throw new Error("CSSUtilities.%method has an invalid Element reference or ID".replace("%method",t));return e}function De(e){typeof e!=F&&""!=e&&e!=V||(e=M),/(^|,)\*(,|$)/.test(e)&&(e="all,none"),e=e.split(",");for(var t=0;t<e.length;t++)e[t]=Le(e[t]),"current"==e[t]&&(e[t]=r._viewmedia);return e}function je(e){return typeof e==F||""==e||e==V||"null"==e?e="*":typeof e==U&&"*"!==(e=Le(e))&&(e=/(,\s*\*|\*\s*,)/.test(e)?"*":Fe(e,",")),e}function Ie(e){return typeof e!=z&&(e=V),e}function Le(e){return e.replace(/^\s+|\s+$/g,"")}function Re(e,t,r){for(var n=0;n<e.length;n++)if(typeof r!=F&&typeof e[n]==q){if(e[n][r]==t)return e[n]}else if(e[n]==t)return e[n];return V}function Ne(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r]);return t}function Fe(e,t){var r={},n=(e=e.split(t))[e.length-1];if(/[ \t]and/i.test(n)){n=n.split(/[ \t]and/i),e.splice(e.length-1,1);for(var i=0;i<n.length;i++)e.push(n[i])}for(i=0;i<e.length;i++)r[Le(e[i])]="";return r}function qe(e){var t=0;for(var r in e)e.hasOwnProperty(r)&&t++;return t}function Ue(e,t){if(typeof e==F)return"";var r={protocol:(a=t.replace("//","/").split("/"))[0],host:a[1]};a.splice(0,2),r.pathname="/"+a.join("/");var n=r.protocol+"//"+r.host;if(/^(\.\/)([^\/]?)/.test(e)&&(e=e.replace(/^(\.\/)([^\/]?)/,"$2")),/(^([a-z]+)\:\/\/)/.test(e))n=e;else if("/"==e.substr(0,1))n+=e;else if(/^((\.\.\/)+)([^\/].*$)/.test(e)){var i=e.match(/^((\.\.\/)+)([^\/].*$)/);i=i[i.length-1];var a,o=e.split("../").length-1;a=(a=r.pathname.split("/")).splice(0,a.length-1);for(var s=0;s<o;s++)a=a.splice(0,a.length-1);var l="";for(s=0;s<a.length;s++)""!=a[s]&&(l+="/"+a[s]);l+="/",n+=l+=i}else{l="",a=(a=r.pathname.split("/")).splice(0,a.length-1);for(s=0;s<a.length;s++)""!=a[s]&&(l+="/"+a[s]);n+=(l+="/")+e}return n}function ze(e,t,r,n){var i=V;if(typeof window.ActiveXObject!=F)try{i=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){i=V}if(i==V&&typeof window.XMLHttpRequest!=F)try{i=new XMLHttpRequest}catch(e){i=V}if(i==V)throw new Error(k);function o(e){/(0|200|304)/.test(e.status.toString())?r(e.responseText,e.getResponseHeader("Content-Type")):n(Le(e.statusText),e.status)}if(i.open("GET",t,e),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("X-User-Agent","CSSUtilities/.103"),e==$){i.onreadystatechange=function(){4==i.readyState&&o(i)};try{i.send(V)}catch(e){n(a)}}else{var s;try{i.send(V),s=$}catch(e){s=H}s===$?o(i):n(a)}}}.apply(CSSUtilities),function e(t,r,n){function i(o,s){if(!r[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[o]={exports:{}};t[o][0].call(u.exports,(function(e){return i(t[o][1][e]||e)}),u,u.exports,e,t,r,n)}return r[o].exports}for(var a="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(e,t,r){},{}],2:[function(e,t,r){(function(e){(function(){"use strict";function r(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var r,n="",i=0,a=-1,o=0,s=0;s<=e.length;++s){if(s<e.length)r=e.charCodeAt(s);else{if(47===r)break;r=47}if(47===r){if(a===s-1||1===o);else if(a!==s-1&&2===o){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var l=n.lastIndexOf("/");if(l!==n.length-1){-1===l?(n="",i=0):i=(n=n.slice(0,l)).length-1-n.lastIndexOf("/"),a=s,o=0;continue}}else if(2===n.length||1===n.length){n="",i=0,a=s,o=0;continue}t&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+e.slice(a+1,s):n=e.slice(a+1,s),i=s-a-1;a=s,o=0}else 46===r&&-1!==o?++o:o=-1}return n}var i={resolve:function(){for(var t,i="",a=!1,o=arguments.length-1;o>=-1&&!a;o--){var s;o>=0?s=arguments[o]:(void 0===t&&(t=e.cwd()),s=t),r(s),0!==s.length&&(i=s+"/"+i,a=47===s.charCodeAt(0))}return i=n(i,!a),a?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(e){if(r(e),0===e.length)return".";var t=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!t)).length||t||(e="."),e.length>0&&i&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return r(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var n=arguments[t];r(n),n.length>0&&(void 0===e?e=n:e+="/"+n)}return void 0===e?".":i.normalize(e)},relative:function(e,t){if(r(e),r(t),e===t)return"";if((e=i.resolve(e))===(t=i.resolve(t)))return"";for(var n=1;n<e.length&&47===e.charCodeAt(n);++n);for(var a=e.length,o=a-n,s=1;s<t.length&&47===t.charCodeAt(s);++s);for(var l=t.length-s,c=o<l?o:l,u=-1,d=0;d<=c;++d){if(d===c){if(l>c){if(47===t.charCodeAt(s+d))return t.slice(s+d+1);if(0===d)return t.slice(s+d)}else o>c&&(47===e.charCodeAt(n+d)?u=d:0===d&&(u=0));break}var p=e.charCodeAt(n+d);if(p!==t.charCodeAt(s+d))break;47===p&&(u=d)}var f="";for(d=n+u+1;d<=a;++d)d!==a&&47!==e.charCodeAt(d)||(0===f.length?f+="..":f+="/..");return f.length>0?f+t.slice(s+u):(s+=u,47===t.charCodeAt(s)&&++s,t.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(r(e),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,i=-1,a=!0,o=e.length-1;o>=1;--o)if(47===(t=e.charCodeAt(o))){if(!a){i=o;break}}else a=!1;return-1===i?n?"/":".":n&&1===i?"//":e.slice(0,i)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');r(e);var n,i=0,a=-1,o=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var s=t.length-1,l=-1;for(n=e.length-1;n>=0;--n){var c=e.charCodeAt(n);if(47===c){if(!o){i=n+1;break}}else-1===l&&(o=!1,l=n+1),s>=0&&(c===t.charCodeAt(s)?-1==--s&&(a=n):(s=-1,a=l))}return i===a?a=l:-1===a&&(a=e.length),e.slice(i,a)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!o){i=n+1;break}}else-1===a&&(o=!1,a=n+1);return-1===a?"":e.slice(i,a)},extname:function(e){r(e);for(var t=-1,n=0,i=-1,a=!0,o=0,s=e.length-1;s>=0;--s){var l=e.charCodeAt(s);if(47!==l)-1===i&&(a=!1,i=s+1),46===l?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!a){n=s+1;break}}return-1===t||-1===i||0===o||1===o&&t===i-1&&t===n+1?"":e.slice(t,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+e+n:n}("/",e)},parse:function(e){r(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var n,i=e.charCodeAt(0),a=47===i;a?(t.root="/",n=1):n=0;for(var o=-1,s=0,l=-1,c=!0,u=e.length-1,d=0;u>=n;--u)if(47!==(i=e.charCodeAt(u)))-1===l&&(c=!1,l=u+1),46===i?-1===o?o=u:1!==d&&(d=1):-1!==o&&(d=-1);else if(!c){s=u+1;break}return-1===o||-1===l||0===d||1===d&&o===l-1&&o===s+1?-1!==l&&(t.base=t.name=0===s&&a?e.slice(1,l):e.slice(s,l)):(0===s&&a?(t.name=e.slice(1,o),t.base=e.slice(1,l)):(t.name=e.slice(s,o),t.base=e.slice(s,l)),t.ext=e.slice(o,l)),s>0?t.dir=e.slice(0,s-1):a&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,t.exports=i}).call(this)}).call(this,e("_process"))},{_process:3}],3:[function(e,t,r){var n,i,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var c,u=[],d=!1,p=-1;function f(){d&&c&&(d=!1,c.length?u=c.concat(u):p=-1,u.length&&h())}function h(){if(!d){var e=l(f);d=!0;for(var t=u.length;t;){for(c=u,u=[];++p<t;)c&&c[p].run();p=-1,t=u.length}c=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function _(e,t){this.fun=e,this.array=t}function g(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new _(e,t)),1!==u.length||d||l(h)},_.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=g,a.addListener=g,a.once=g,a.off=g,a.removeListener=g,a.removeAllListeners=g,a.emit=g,a.prependListener=g,a.prependOnceListener=g,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],4:[function(e,t,r){var n=e("./parser").parser;n.yy.create=function(e){return e},r.parser=n},{"./parser":5}],5:[function(e,t,r){(function(n){(function(){var i=function(){var e={trace:function(){},yy:{},symbols_:{error:2,expressions:3,selector_list:4,EOF:5,comma:6,selector:7,",":8,S:9,combinator_selector:10,simple_selector:11,element:12,constraint_list:13,padded_child_combinator:14,padded_tilde:15,padded_plus:16,">":17,ident:18,"*":19,constraint:20,class:21,hash:22,attrib:23,pseudo:24,".":25,"#":26,IDENT:27,n:28,"[":29,padded_ident:30,"]":31,"=":32,padded_ident_or_string:33,CONTAINS:34,DOES_NOT_CONTAIN:35,CONTAINS_WORD:36,CONTAINS_PREFIX:37,STARTS_WITH:38,ENDS_WITH:39,string:40,"~":41,"+":42,SINGLE_QUOTED_STRING:43,DOUBLE_QUOTED_STRING:44,":":45,func:46,ODD_ARGUMENT:47,EVEN_ARGUMENT:48,"(":49,func_arguments:50,")":51,INTEGER:52,an_plus_b:53,odd:54,even:55,negative_integer:56,signed_integer:57,positive_integer:58,unsigned_integer:59,"-":60,NEGATIVE_INTEGER:61,POSITIVE_INTEGER:62,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",8:",",9:"S",17:">",19:"*",25:".",26:"#",27:"IDENT",28:"n",29:"[",31:"]",32:"=",34:"CONTAINS",35:"DOES_NOT_CONTAIN",36:"CONTAINS_WORD",37:"CONTAINS_PREFIX",38:"STARTS_WITH",39:"ENDS_WITH",41:"~",42:"+",43:"SINGLE_QUOTED_STRING",44:"DOUBLE_QUOTED_STRING",45:":",47:"ODD_ARGUMENT",48:"EVEN_ARGUMENT",49:"(",51:")",52:"INTEGER",54:"odd",55:"even",60:"-",61:"NEGATIVE_INTEGER",62:"POSITIVE_INTEGER"},productions_:[0,[3,2],[4,3],[4,1],[6,1],[6,2],[7,1],[7,1],[11,2],[11,1],[11,1],[10,3],[10,3],[10,3],[10,3],[10,3],[10,2],[12,1],[12,1],[13,2],[13,1],[20,1],[20,1],[20,1],[20,1],[21,2],[22,2],[18,1],[18,1],[23,3],[23,5],[23,5],[23,5],[23,5],[23,5],[23,5],[23,5],[30,3],[30,2],[30,2],[30,1],[33,1],[33,3],[33,2],[33,2],[33,1],[14,3],[14,2],[14,2],[14,1],[15,3],[15,2],[15,2],[15,1],[16,3],[16,2],[16,2],[16,1],[40,1],[40,1],[24,2],[24,2],[46,2],[46,2],[46,4],[46,4],[46,3],[50,1],[50,1],[53,1],[53,1],[53,3],[53,3],[53,3],[53,3],[53,2],[53,2],[53,2],[57,1],[57,1],[56,1],[58,1],[59,1]],performAction:function(e,t,r,n,i,a,o){var s=a.length-1;switch(i){case 1:return a[s-1];case 2:a[s-2].selectors.push(a[s]),this.$=a[s-2];break;case 3:this.$=n.create({type:"selector_list",selectors:[a[s]]});break;case 8:a[s-1].constraints=a[s].constraints,this.$=a[s-1];break;case 10:this.$=n.create({type:"constraint_list",constraints:a[s].constraints});break;case 11:this.$=n.create({type:"combinator_selector",left:a[s-2],right:a[s],combinator:"child"});break;case 12:this.$=n.create({type:"combinator_selector",left:a[s-2],right:a[s],combinator:"descendant"});break;case 13:this.$=n.create({type:"previous_sibling",left:a[s-2],right:a[s]});break;case 14:this.$=n.create({type:"adjacent_sibling",left:a[s-2],right:a[s]});break;case 15:case 16:this.$=n.create({type:"immediate_child",child:a[s],combinator:"child"});break;case 17:case 18:this.$=n.create({type:"element",name:a[s],constraints:[]});break;case 19:a[s-1].constraints.push(a[s]),this.$=a[s-1];break;case 20:this.$=n.create({type:"constraint_list",constraints:[a[s]]});break;case 25:this.$={type:"class",name:a[s]};break;case 26:this.$={type:"id",name:a[s]};break;case 29:this.$=n.create({type:"has_attribute",name:a[s-1]});break;case 30:this.$=n.create({type:"attribute_equals",name:a[s-3],value:a[s-1]});break;case 31:this.$=n.create({type:"attribute_contains",name:a[s-3],value:a[s-1]});break;case 32:this.$=n.create({type:"attribute_does_not_contain",name:a[s-3],value:a[s-1]});break;case 33:this.$=n.create({type:"attribute_contains_word",name:a[s-3],value:a[s-1]});break;case 34:this.$=n.create({type:"attribute_contains_prefix",name:a[s-3],value:a[s-1]});break;case 35:this.$=n.create({type:"attribute_starts_with",name:a[s-3],value:a[s-1]});break;case 36:this.$=n.create({type:"attribute_ends_with",name:a[s-3],value:a[s-1]});break;case 37:case 39:case 44:this.$=a[s-1];break;case 38:case 40:case 43:case 45:this.$=a[s];break;case 42:this.$=a[s-2];break;case 58:case 59:this.$=a[s].substr(1,a[s].length-2);break;case 60:this.$=n.create({type:"pseudo_func",func:a[s]});break;case 61:this.$=n.create({type:"pseudo_class",name:a[s]});break;case 62:this.$={type:"function",name:a[s-1],args:{type:"odd"}};break;case 63:this.$={type:"function",name:a[s-1],args:{type:"even"}};break;case 64:case 65:this.$={type:"function",name:a[s-3],args:a[s-1]};break;case 66:this.$={type:"function",name:a[s-2]};break;case 69:this.$={type:"odd"};break;case 70:this.$={type:"even"};break;case 71:case 72:case 73:this.$={type:"an_plus_b",a:a[s-2],b:a[s]};break;case 74:this.$={type:"an_plus_b",a:-1,b:a[s]};break;case 75:this.$={type:"n_plus_b",b:a[s]};break;case 76:case 77:this.$={type:"an",a:a[s-1]};break;case 80:case 81:case 82:this.$=Number(a[s])}},table:[{3:1,4:2,7:3,10:4,11:5,12:7,13:8,17:[1,6],18:9,19:[1,10],20:11,21:14,22:15,23:16,24:17,25:[1,18],26:[1,19],27:[1,12],28:[1,13],29:[1,20],45:[1,21]},{1:[3]},{5:[1,22],6:23,8:[1,24]},{5:[2,3],8:[2,3],9:[1,26],14:25,15:27,16:28,17:[1,29],41:[1,30],42:[1,31],51:[2,3]},{5:[2,6],8:[2,6],9:[2,6],17:[2,6],41:[2,6],42:[2,6],51:[2,6]},{5:[2,7],8:[2,7],9:[2,7],17:[2,7],41:[2,7],42:[2,7],51:[2,7]},{9:[1,32],11:33,12:7,13:8,18:9,19:[1,10],20:11,21:14,22:15,23:16,24:17,25:[1,18],26:[1,19],27:[1,12],28:[1,13],29:[1,20],45:[1,21]},{5:[2,9],8:[2,9],9:[2,9],13:34,17:[2,9],20:11,21:14,22:15,23:16,24:17,25:[1,18],26:[1,19],29:[1,20],41:[2,9],42:[2,9],45:[1,21],51:[2,9]},{5:[2,10],8:[2,10],9:[2,10],17:[2,10],20:35,21:14,22:15,23:16,24:17,25:[1,18],26:[1,19],29:[1,20],41:[2,10],42:[2,10],45:[1,21],51:[2,10]},{5:[2,17],8:[2,17],9:[2,17],17:[2,17],25:[2,17],26:[2,17],29:[2,17],41:[2,17],42:[2,17],45:[2,17],51:[2,17]},{5:[2,18],8:[2,18],9:[2,18],17:[2,18],25:[2,18],26:[2,18],29:[2,18],41:[2,18],42:[2,18],45:[2,18],51:[2,18]},{5:[2,20],8:[2,20],9:[2,20],17:[2,20],25:[2,20],26:[2,20],29:[2,20],41:[2,20],42:[2,20],45:[2,20],51:[2,20]},{5:[2,27],8:[2,27],9:[2,27],17:[2,27],25:[2,27],26:[2,27],29:[2,27],31:[2,27],32:[2,27],34:[2,27],35:[2,27],36:[2,27],37:[2,27],38:[2,27],39:[2,27],41:[2,27],42:[2,27],45:[2,27],47:[2,27],48:[2,27],49:[2,27],51:[2,27]},{5:[2,28],8:[2,28],9:[2,28],17:[2,28],25:[2,28],26:[2,28],29:[2,28],31:[2,28],32:[2,28],34:[2,28],35:[2,28],36:[2,28],37:[2,28],38:[2,28],39:[2,28],41:[2,28],42:[2,28],45:[2,28],47:[2,28],48:[2,28],49:[2,28],51:[2,28]},{5:[2,21],8:[2,21],9:[2,21],17:[2,21],25:[2,21],26:[2,21],29:[2,21],41:[2,21],42:[2,21],45:[2,21],51:[2,21]},{5:[2,22],8:[2,22],9:[2,22],17:[2,22],25:[2,22],26:[2,22],29:[2,22],41:[2,22],42:[2,22],45:[2,22],51:[2,22]},{5:[2,23],8:[2,23],9:[2,23],17:[2,23],25:[2,23],26:[2,23],29:[2,23],41:[2,23],42:[2,23],45:[2,23],51:[2,23]},{5:[2,24],8:[2,24],9:[2,24],17:[2,24],25:[2,24],26:[2,24],29:[2,24],41:[2,24],42:[2,24],45:[2,24],51:[2,24]},{18:36,27:[1,12],28:[1,13]},{18:37,27:[1,12],28:[1,13]},{9:[1,39],18:40,27:[1,12],28:[1,13],30:38},{18:42,27:[1,12],28:[1,13],46:41},{1:[2,1]},{7:43,10:4,11:5,12:7,13:8,17:[1,6],18:9,19:[1,10],20:11,21:14,22:15,23:16,24:17,25:[1,18],26:[1,19],27:[1,12],28:[1,13],29:[1,20],45:[1,21]},{9:[1,44],17:[2,4],19:[2,4],25:[2,4],26:[2,4],27:[2,4],28:[2,4],29:[2,4],45:[2,4]},{11:45,12:7,13:8,18:9,19:[1,10],20:11,21:14,22:15,23:16,24:17,25:[1,18],26:[1,19],27:[1,12],28:[1,13],29:[1,20],45:[1,21]},{11:46,12:7,13:8,17:[1,47],18:9,19:[1,10],20:11,21:14,22:15,23:16,24:17,25:[1,18],26:[1,19],27:[1,12],28:[1,13],29:[1,20],41:[1,48],42:[1,49],45:[1,21]},{11:50,12:7,13:8,18:9,19:[1,10],20:11,21:14,22:15,23:16,24:17,25:[1,18],26:[1,19],27:[1,12],28:[1,13],29:[1,20],45:[1,21]},{11:51,12:7,13:8,18:9,19:[1,10],20:11,21:14,22:15,23:16,24:17,25:[1,18],26:[1,19],27:[1,12],28:[1,13],29:[1,20],45:[1,21]},{9:[1,52],19:[2,49],25:[2,49],26:[2,49],27:[2,49],28:[2,49],29:[2,49],45:[2,49]},{9:[1,53],19:[2,53],25:[2,53],26:[2,53],27:[2,53],28:[2,53],29:[2,53],45:[2,53]},{9:[1,54],19:[2,57],25:[2,57],26:[2,57],27:[2,57],28:[2,57],29:[2,57],45:[2,57]},{11:55,12:7,13:8,18:9,19:[1,10],20:11,21:14,22:15,23:16,24:17,25:[1,18],26:[1,19],27:[1,12],28:[1,13],29:[1,20],45:[1,21]},{5:[2,16],8:[2,16],9:[2,16],17:[2,16],41:[2,16],42:[2,16],51:[2,16]},{5:[2,8],8:[2,8],9:[2,8],17:[2,8],20:35,21:14,22:15,23:16,24:17,25:[1,18],26:[1,19],29:[1,20],41:[2,8],42:[2,8],45:[1,21],51:[2,8]},{5:[2,19],8:[2,19],9:[2,19],17:[2,19],25:[2,19],26:[2,19],29:[2,19],41:[2,19],42:[2,19],45:[2,19],51:[2,19]},{5:[2,25],8:[2,25],9:[2,25],17:[2,25],25:[2,25],26:[2,25],29:[2,25],41:[2,25],42:[2,25],45:[2,25],51:[2,25]},{5:[2,26],8:[2,26],9:[2,26],17:[2,26],25:[2,26],26:[2,26],29:[2,26],41:[2,26],42:[2,26],45:[2,26],51:[2,26]},{31:[1,56],32:[1,57],34:[1,58],35:[1,59],36:[1,60],37:[1,61],38:[1,62],39:[1,63]},{18:64,27:[1,12],28:[1,13]},{9:[1,65],31:[2,40],32:[2,40],34:[2,40],35:[2,40],36:[2,40],37:[2,40],38:[2,40],39:[2,40]},{5:[2,60],8:[2,60],9:[2,60],17:[2,60],25:[2,60],26:[2,60],29:[2,60],41:[2,60],42:[2,60],45:[2,60],51:[2,60]},{5:[2,61],8:[2,61],9:[2,61],17:[2,61],25:[2,61],26:[2,61],29:[2,61],41:[2,61],42:[2,61],45:[2,61],47:[1,66],48:[1,67],49:[1,68],51:[2,61]},{5:[2,2],8:[2,2],9:[1,26],14:25,15:27,16:28,17:[1,29],41:[1,30],42:[1,31],51:[2,2]},{17:[2,5],19:[2,5],25:[2,5],26:[2,5],27:[2,5],28:[2,5],29:[2,5],45:[2,5]},{5:[2,11],8:[2,11],9:[2,11],17:[2,11],41:[2,11],42:[2,11],51:[2,11]},{5:[2,12],8:[2,12],9:[2,12],17:[2,12],41:[2,12],42:[2,12],51:[2,12]},{9:[1,69],19:[2,47],25:[2,47],26:[2,47],27:[2,47],28:[2,47],29:[2,47],45:[2,47]},{9:[1,70],19:[2,51],25:[2,51],26:[2,51],27:[2,51],28:[2,51],29:[2,51],45:[2,51]},{9:[1,71],19:[2,55],25:[2,55],26:[2,55],27:[2,55],28:[2,55],29:[2,55],45:[2,55]},{5:[2,13],8:[2,13],9:[2,13],17:[2,13],41:[2,13],42:[2,13],51:[2,13]},{5:[2,14],8:[2,14],9:[2,14],17:[2,14],41:[2,14],42:[2,14],51:[2,14]},{19:[2,48],25:[2,48],26:[2,48],27:[2,48],28:[2,48],29:[2,48],45:[2,48]},{19:[2,52],25:[2,52],26:[2,52],27:[2,52],28:[2,52],29:[2,52],45:[2,52]},{19:[2,56],25:[2,56],26:[2,56],27:[2,56],28:[2,56],29:[2,56],45:[2,56]},{5:[2,15],8:[2,15],9:[2,15],17:[2,15],41:[2,15],42:[2,15],51:[2,15]},{5:[2,29],8:[2,29],9:[2,29],17:[2,29],25:[2,29],26:[2,29],29:[2,29],41:[2,29],42:[2,29],45:[2,29],51:[2,29]},{9:[1,74],18:40,27:[1,12],28:[1,13],30:73,33:72,40:75,43:[1,76],44:[1,77]},{9:[1,74],18:40,27:[1,12],28:[1,13],30:73,33:78,40:75,43:[1,76],44:[1,77]},{9:[1,74],18:40,27:[1,12],28:[1,13],30:73,33:79,40:75,43:[1,76],44:[1,77]},{9:[1,74],18:40,27:[1,12],28:[1,13],30:73,33:80,40:75,43:[1,76],44:[1,77]},{9:[1,74],18:40,27:[1,12],28:[1,13],30:73,33:81,40:75,43:[1,76],44:[1,77]},{9:[1,74],18:40,27:[1,12],28:[1,13],30:73,33:82,40:75,43:[1,76],44:[1,77]},{9:[1,74],18:40,27:[1,12],28:[1,13],30:73,33:83,40:75,43:[1,76],44:[1,77]},{9:[1,84],31:[2,38],32:[2,38],34:[2,38],35:[2,38],36:[2,38],37:[2,38],38:[2,38],39:[2,38]},{31:[2,39],32:[2,39],34:[2,39],35:[2,39],36:[2,39],37:[2,39],38:[2,39],39:[2,39]},{5:[2,62],8:[2,62],9:[2,62],17:[2,62],25:[2,62],26:[2,62],29:[2,62],41:[2,62],42:[2,62],45:[2,62],51:[2,62]},{5:[2,63],8:[2,63],9:[2,63],17:[2,63],25:[2,63],26:[2,63],29:[2,63],41:[2,63],42:[2,63],45:[2,63],51:[2,63]},{4:88,7:3,10:4,11:5,12:7,13:8,17:[1,6],18:9,19:[1,10],20:11,21:14,22:15,23:16,24:17,25:[1,18],26:[1,19],27:[1,12],28:[1,96],29:[1,20],45:[1,21],50:85,51:[1,87],52:[1,86],53:89,54:[1,90],55:[1,91],56:92,58:93,59:94,60:[1,95],61:[1,97],62:[1,98]},{19:[2,46],25:[2,46],26:[2,46],27:[2,46],28:[2,46],29:[2,46],45:[2,46]},{19:[2,50],25:[2,50],26:[2,50],27:[2,50],28:[2,50],29:[2,50],45:[2,50]},{19:[2,54],25:[2,54],26:[2,54],27:[2,54],28:[2,54],29:[2,54],45:[2,54]},{31:[1,99]},{31:[2,41]},{18:64,27:[1,12],28:[1,13],40:100,43:[1,76],44:[1,77]},{9:[1,101],31:[2,45]},{9:[2,58],31:[2,58]},{9:[2,59],31:[2,59]},{31:[1,102]},{31:[1,103]},{31:[1,104]},{31:[1,105]},{31:[1,106]},{31:[1,107]},{31:[2,37],32:[2,37],34:[2,37],35:[2,37],36:[2,37],37:[2,37],38:[2,37],39:[2,37]},{51:[1,108]},{28:[2,82],51:[1,109]},{5:[2,66],8:[2,66],9:[2,66],17:[2,66],25:[2,66],26:[2,66],29:[2,66],41:[2,66],42:[2,66],45:[2,66],51:[2,66]},{6:23,8:[1,24],51:[2,67]},{51:[2,68]},{51:[2,69]},{51:[2,70]},{28:[1,110]},{28:[1,111]},{28:[1,112]},{28:[1,113]},{8:[2,28],9:[2,28],17:[2,28],25:[2,28],26:[2,28],29:[2,28],41:[2,28],42:[2,28],45:[2,28],51:[2,28],56:116,57:114,58:115,61:[1,97],62:[1,98]},{28:[2,80],51:[2,80]},{28:[2,81],51:[2,81]},{5:[2,30],8:[2,30],9:[2,30],17:[2,30],25:[2,30],26:[2,30],29:[2,30],41:[2,30],42:[2,30],45:[2,30],51:[2,30]},{9:[1,117],31:[2,43]},{31:[2,44]},{5:[2,31],8:[2,31],9:[2,31],17:[2,31],25:[2,31],26:[2,31],29:[2,31],41:[2,31],42:[2,31],45:[2,31],51:[2,31]},{5:[2,32],8:[2,32],9:[2,32],17:[2,32],25:[2,32],26:[2,32],29:[2,32],41:[2,32],42:[2,32],45:[2,32],51:[2,32]},{5:[2,33],8:[2,33],9:[2,33],17:[2,33],25:[2,33],26:[2,33],29:[2,33],41:[2,33],42:[2,33],45:[2,33],51:[2,33]},{5:[2,34],8:[2,34],9:[2,34],17:[2,34],25:[2,34],26:[2,34],29:[2,34],41:[2,34],42:[2,34],45:[2,34],51:[2,34]},{5:[2,35],8:[2,35],9:[2,35],17:[2,35],25:[2,35],26:[2,35],29:[2,35],41:[2,35],42:[2,35],45:[2,35],51:[2,35]},{5:[2,36],8:[2,36],9:[2,36],17:[2,36],25:[2,36],26:[2,36],29:[2,36],41:[2,36],42:[2,36],45:[2,36],51:[2,36]},{5:[2,64],8:[2,64],9:[2,64],17:[2,64],25:[2,64],26:[2,64],29:[2,64],41:[2,64],42:[2,64],45:[2,64],51:[2,64]},{5:[2,65],8:[2,65],9:[2,65],17:[2,65],25:[2,65],26:[2,65],29:[2,65],41:[2,65],42:[2,65],45:[2,65],51:[2,65]},{51:[2,76],56:116,57:118,58:115,61:[1,97],62:[1,98]},{56:116,57:119,58:115,61:[1,97],62:[1,98]},{51:[2,77],56:116,57:120,58:115,61:[1,97],62:[1,98]},{56:116,57:121,58:115,61:[1,97],62:[1,98]},{51:[2,75]},{51:[2,78]},{51:[2,79]},{31:[2,42]},{51:[2,71]},{51:[2,72]},{51:[2,73]},{51:[2,74]}],defaultActions:{22:[2,1],73:[2,41],89:[2,68],90:[2,69],91:[2,70],101:[2,44],114:[2,75],115:[2,78],116:[2,79],117:[2,42],118:[2,71],119:[2,72],120:[2,73],121:[2,74]},parseError:function(e,t){if(!t.recoverable)throw new Error(e);this.trace(e)},parse:function(e){var t=this,r=[0],n=[null],i=[],a=this.table,o="",s=0,l=0,c=0,u=i.slice.call(arguments,1);this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var d=this.lexer.yylloc;i.push(d);var p=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError?this.parseError=this.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var f,h,_,g,m,v,y,b,w,T,x={};;){if(_=r[r.length-1],this.defaultActions[_]?g=this.defaultActions[_]:(null==f&&(T=void 0,"number"!=typeof(T=t.lexer.lex()||1)&&(T=t.symbols_[T]||T),f=T),g=a[_]&&a[_][f]),void 0===g||!g.length||!g[0]){var k="";for(v in w=[],a[_])this.terminals_[v]&&v>2&&w.push("'"+this.terminals_[v]+"'");k=this.lexer.showPosition?"Parse error on line "+(s+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[f]||f)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==f?"end of input":"'"+(this.terminals_[f]||f)+"'"),this.parseError(k,{text:this.lexer.match,token:this.terminals_[f]||f,line:this.lexer.yylineno,loc:d,expected:w})}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+f);switch(g[0]){case 1:r.push(f),n.push(this.lexer.yytext),i.push(this.lexer.yylloc),r.push(g[1]),f=null,h?(f=h,h=null):(l=this.lexer.yyleng,o=this.lexer.yytext,s=this.lexer.yylineno,d=this.lexer.yylloc,c>0&&c--);break;case 2:if(y=this.productions_[g[1]][1],x.$=n[n.length-y],x._$={first_line:i[i.length-(y||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(y||1)].first_column,last_column:i[i.length-1].last_column},p&&(x._$.range=[i[i.length-(y||1)].range[0],i[i.length-1].range[1]]),void 0!==(m=this.performAction.apply(x,[o,l,s,this.yy,g[1],n,i].concat(u))))return m;y&&(r=r.slice(0,-1*y*2),n=n.slice(0,-1*y),i=i.slice(0,-1*y)),r.push(this.productions_[g[1]][0]),n.push(x.$),i.push(x._$),b=a[r[r.length-2]][r[r.length-1]],r.push(b);break;case 3:return!0}}return!0}},t={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var a in i)this[a]=i[a];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),a=0;a<i.length;a++)if((r=this._input.match(this.rules[i[a]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=a,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,i[a])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(e,t,r,n){switch(r){case 0:return 28;case 1:return 27;case 2:return 5;case 3:return 36;case 4:return 34;case 5:return 37;case 6:return 35;case 7:return 38;case 8:return 39;case 9:return 43;case 10:return 44;case 11:return 62;case 12:return 61;case 13:return 52;case 14:return 47;case 15:return 48;case 16:return 26;case 17:return 8;case 18:return 25;case 19:return 29;case 20:return 31;case 21:return 32;case 22:return 45;case 23:return 49;case 24:return 51;case 25:return 17;case 26:return"'";case 27:return 19;case 28:return 41;case 29:return 42;case 30:return 60;case 31:return 9}},rules:[/^(?:n\b)/,/^(?:[_a-zA-Z][_a-zA-Z0-9-]*)/,/^(?:$)/,/^(?:~=)/,/^(?:\*=)/,/^(?:\|=)/,/^(?:!=)/,/^(?:\^=)/,/^(?:\$=)/,/^(?:"[^\n\r\f\\"]*")/,/^(?:'[^\n\r\f\\']*')/,/^(?:\+\d+)/,/^(?:-\d+)/,/^(?:\d+)/,/^(?:\(odd\))/,/^(?:\(even\))/,/^(?:#)/,/^(?:,)/,/^(?:\.)/,/^(?:\[)/,/^(?:\])/,/^(?:=)/,/^(?::)/,/^(?:\()/,/^(?:\))/,/^(?:>)/,/^(?:')/,/^(?:\*)/,/^(?:~)/,/^(?:\+)/,/^(?:-)/,/^(?:\s+)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],inclusive:!0}}};function r(){this.yy={}}return e.lexer=t,r.prototype=e,e.Parser=r,new r}();void 0!==e&&void 0!==r&&(r.parser=i,r.Parser=i.Parser,r.parse=function(){return i.parse.apply(i,arguments)},r.main=function(t){t[1]||n.exit(1);var i=e("fs").readFileSync(e("path").normalize(t[1]),"utf8");return r.parser.parse(i)},void 0!==t&&e.main===t&&r.main(n.argv.slice(1)))}).call(this)}).call(this,e("_process"))},{_process:3,fs:1,path:2}],6:[function(e,t,r){(function(){var r,n,i,a,o;r=e("bo-selector").parser,n=e("xpath-builder").dsl(),i=e("./expression"),r.yy.create=function(e){return new i(e)},(o=function(e){return a(e).toXPath()}).parse=a=function(e){return r.parse(e).render(n,"descendant")},o.xPathBuilder=n,t.exports=o,window.TvrMT.convertToXpath=o}).call(this)},{"./expression":7,"bo-selector":4,"xpath-builder":9}],7:[function(e,t,r){(function(){var r,n,i;r=e("./renderer"),(n=function(e){return i(this,e),this}).prototype.render=function(e,t){return(new r).render(this,e,t)},i=function(e,t){var r;for(r in t)!function(r){e[r]=t[r]}(r)},t.exports=n}).call(this)},{"./renderer":8}],8:[function(e,t,r){(function(){var r,n;r=e("xpath-builder").dsl(),(n=function(){return this}).prototype={render:function(e,t,r){var n;if(!(n=this[e.type]))throw new Error("No renderer for '"+e.type+"'");return n.call(this,e,t,r)},selector_list:function(e,t,r){var n,i;for(n=this.render(e.selectors[0],t,r),i=1;i<e.selectors.length;++i)n=n.union(this.render(e.selectors[i],t,r));return n},constraint_list:function(e,t,r){return this.element(e,t,r)},element:function(e,t,r){return this.applyConstraints(e,t[r].call(t,e.name||"*"))},combinator_selector:function(e,t,r){var n;return n=this.render(e.left,t,r),this.render(e.right,n,e.combinator)},immediate_child:function(e,t){return this.render(e.child,t,"child")},pseudo_func:function(e,t){var r;if(r=this[e.func.name.replace(/-/g,"_")])return r.call(this,e,t);throw new Error("Unsupported pseudo function :"+e.func.name+"()")},pseudo_class:function(e,t){var r;if(r=this[e.name.replace(/-/g,"_")])return r.call(this,e,t);throw new Error("Unsupported pseudo class :"+e.name)},has:function(e,t){return this.render(e.func.args,r,"descendant")},not:function(e,t){var r;return"constraint_list"===(r=e.func.args.selectors[0]).type?this.combineConstraints(r,t).inverse():this.matchesSelectorList(e.func.args,t).inverse()},nth_child:function(e,t){return t.nthChild(Number(e.func.args))},first_child:function(e,t){return t.firstChild()},last_child:function(e,t){return t.lastChild()},nth_last_child:function(e,t){return t.nthLastChild(Number(e.func.args))},only_child:function(e,t){return t.onlyChild()},only_of_type:function(e,t){return t.onlyOfType()},nth_of_type:function(e,t){var r;return"odd"===(r=e.func.args.type)?t.nthOfTypeOdd():"even"===r?t.nthOfTypeEven():"an"===r?t.nthOfTypeMod(Number(e.func.args.a)):"n_plus_b"===r?t.nthOfTypeMod(1,Number(e.func.args.b)):"an_plus_b"===r?t.nthOfTypeMod(Number(e.func.args.a),Number(e.func.args.b)):t.nthOfType(Number(e.func.args))},nth_last_of_type:function(e,t){var r;return"odd"===(r=e.func.args.type)?t.nthLastOfTypeOdd():"even"===r?t.nthLastOfTypeEven():"an"===r?t.nthLastOfTypeMod(Number(e.func.args.a)):"n_plus_b"===r?t.nthLastOfTypeMod(1,Number(e.func.args.b)):"an_plus_b"===r?t.nthLastOfTypeMod(Number(e.func.args.a),Number(e.func.args.b)):t.nthLastOfType(Number(e.func.args))},last_of_type:function(e,t){return t.lastOfType()},empty:function(e,t){return t.empty()},has_attribute:function(e,t){return r.attr(e.name)},attribute_equals:function(e,t){return r.attr(e.name).equals(e.value)},attribute_contains:function(e,t){return r.attr(e.name).contains(e.value)},attribute_contains_word:function(e,t){return t.concat(" ",r.attr(e.name).normalize()," ").contains(" "+e.value+" ")},attribute_contains_prefix:function(e){return r.attr(e.name).startsWith(e.value).or(r.attr(e.name).startsWith(e.value+"-"))},attribute_starts_with:function(e,t){return r.attr(e.name).startsWith(e.value)},attribute_ends_with:function(e){return r.attr(e.name).endsWith(e.value)},class:function(e){return this.attribute_contains_word({name:"class",value:e.name},r)},id:function(e){return r.attr("id").equals(e.name)},previous_sibling:function(e,t,r){var n;return n=this.render(e.left,t,r),this.applyConstraints(e.right,n.axis("following-sibling",e.right.name))},adjacent_sibling:function(e,t,r){var n;return n=this.render(e.left,t,r),this.applyConstraints(e.right,n.axis("following-sibling::*[1]/self",e.right.name))},first_of_type:function(e,t){return t.firstOfType()},matchesSelectorList:function(e,t){var n,i;if(e.selectors.length>0){for(n=this.matchesSelector(e.selectors[0],r),i=1;i<e.selectors.length;++i)n=n.or(this.matchesSelector(e.selectors[i],r));return n}return t},matchesSelector:function(e,t){return t.name().equals(e.name)},combineConstraints:function(e,t){var r,n;for(r=this.render(e.constraints[0],t),n=1;n<e.constraints.length;++n)r=r.and(this.render(e.constraints[n],r));return r},applyConstraints:function(e,t){return e.constraints.length>0?t.where(this.combineConstraints(e,t)):t}},t.exports=n}).call(this)},{"xpath-builder":9}],9:[function(e,t,r){(function(){var t,n,i,a,o,s,l,c,u,d;for(c in t=e("./expression"),n=e("./literal").Literal,i={current:function(){return new u("thisNode")},name:function(){return new u("nodeName",this.current())},descendant:function(){var e=Array.prototype.slice.call(arguments,0,arguments.length);return new u("descendant",this.current(),o(e))},child:function(){var e=Array.prototype.slice.call(arguments,0,arguments.length);return new u("child",this.current(),o(e))},axis:function(e,t){return new u("axis",this.current(),new n(e),new n(t||"*"))},nextSibling:function(){var e=Array.prototype.slice.call(arguments,0,arguments.length);return new u("nextSibling",this.current(),o(e))},previousSibling:function(){var e=Array.prototype.slice.call(arguments,0,arguments.length);return new u("previousSibling",this.current(),o(e))},anywhere:function(){var e=Array.prototype.slice.call(arguments,0,arguments.length);return new u("anywhere",o(e))},attr:function(e){return new u("attribute",this.current(),new n(e))},contains:function(e){return new u("contains",this.current(),e)},startsWith:function(e){return new u("startsWith",this.current(),e)},endsWith:function(e){return new u("endsWith",this.current(),e)},text:function(){return new u("text",this.current())},string:function(){return new u("stringFunction",this.current())},substring:function(e,t){var r;return r=[e],t&&r.push(t),new u("substringFunction",this.current(),r)},stringLength:function(){return new u("stringLengthFunction",this.current())},literal:function(e){return new n(e)},concat:function(){var e=Array.prototype.slice.call(arguments,0,arguments.length);return new u("concatFunction",e)},nthChild:function(e){return new u("nthChild",e)},nthLastChild:function(e){return new u("nthLastChild",e)},firstChild:function(){return new u("firstChild")},lastChild:function(){return new u("lastChild")},onlyChild:function(){return new u("onlyChild")},onlyOfType:function(){return new u("onlyOfType")},firstOfType:function(){return new u("nthOfType",1)},lastOfType:function(){return new u("lastOfType")},nthOfType:function(e){return new u("nthOfType",e)},nthLastOfType:function(e){return new u("nthLastOfType",e)},nthOfTypeMod:function(e,t){return new u("nthOfTypeMod",e,t||0)},nthOfTypeOdd:function(){return new u("nthOfTypeOdd")},nthOfTypeEven:function(){return new u("nthOfTypeEven")},nthLastOfTypeMod:function(e,t){return new u("nthLastOfTypeMod",e,t||0)},nthLastOfTypeOdd:function(){return new u("nthLastOfTypeOdd")},nthLastOfTypeEven:function(){return new u("nthLastOfTypeEven")},empty:function(){return new u("empty")}},a={where:function(e){return new u("where",this.current(),e)},oneOf:function(){var e=Array.prototype.slice.call(arguments,0,arguments.length);return new u("oneOf",this.current(),e)},equals:function(e){return new u("equality",this.current(),e)},is:function(e){return new u("is",this.current(),e)},or:function(e){return new u("or",this.current(),e)},and:function(e){return new u("and",this.current(),e)},union:function(){var e=this,t=Array.prototype.slice.call(arguments,0,arguments.length);return new d([e].concat(t))},inverse:function(){return new u("inverse",this.current())},stringLiteral:function(){return new u("stringLiteral",this)},normalize:function(){return new u("normalizedSpace",this.current())},n:function(){return this.normalize()},add:function(e){return new u("addition",this.current(),e)},subtract:function(e){return new u("subtraction",this.current(),e)},count:function(){return new u("countFunction",this.current())}},o=function(e){return e.map((function(e){return new n(e)}))},(s=function(){return this}).prototype=i,(l=function(){return this}).prototype=new s,a)!function(e){l.prototype[e]=a[e]}(c);u=t.createExpression(l.prototype),(d=function(e){return this.expression="union",this.args=e,this}).prototype=u.prototype,r.dsl=function(){return new s}}).call(this)},{"./expression":10,"./literal":11}],10:[function(e,t,r){(function(){var t,n;t=e("./renderer").Renderer,n=function(e){var r;return r=function(e){var t=Array.prototype.slice.call(arguments,1,arguments.length);return this.expression=e,this.args=t,this},(r.prototype=e).isExpression=!0,r.prototype.toXPath=function(e){return t.render(this,e)},r.prototype.toString=function(){return this.toXPath()},r.prototype.inspect=function(){return this.toXPath()},r.prototype.current=function(){return this},r},r.createExpression=n}).call(this)},{"./renderer":12}],11:[function(e,t,r){(function(){var e;(e=function(e){return this.value=e,this.isLiteral=!0,this}).prototype.isLiteral=!0,r.Literal=e}).call(this)},{}],12:[function(e,t,r){(function(){var e;(e=function(e){return this.type=e,this}).prototype={render:function(e){var t,r=this;return t=e.args.map((function(e){return r.convertArgument(e)})),r[e.expression].apply(r,t)},convertArgument:function(e){var t=this;return e.isExpression||e.isUnion?t.render(e):e instanceof Array?e.map((function(e){return t.convertArgument(e)})):"string"==typeof e?t.stringLiteral(e):"number"==typeof e?e:e.isLiteral?e.value:e.toString()},stringLiteral:function(e){return e.indexOf("'")>-1?"concat("+(e=e.split("'",-1).map((function(e){return"'"+e+"'"})).join(',"\'",'))+")":"'"+e+"'"},thisNode:function(){return"."},descendant:function(e,t){return 1===t.length?e+"//"+t[0]:t.length>1?e+"//*["+t.map((function(e){return"self::"+e})).join(" | ")+"]":e+"//*"},child:function(e,t){return 1===t.length?e+"/"+t[0]:t.length>1?e+"/*["+t.map((function(e){return"self::"+e})).join(" | ")+"]":e+"/*"},axis:function(e,t,r){return e+"/"+t+"::"+r},nodeName:function(e){return"name("+e+")"},where:function(e,t){return e+"["+t+"]"},attribute:function(e,t){return e+"/@"+t},equality:function(e,t){return e+" = "+t},addition:function(e,t){return e+" + "+t},subtraction:function(e,t){return e+" - "+t},is:function(e,t){var r=this;return"exact"===r.type?r.equality(e,t):r.contains(e,t)},variable:function(e){return"%{"+e+"}"},text:function(e){return e+"/text()"},normalizedSpace:function(e){return"normalize-space("+e+")"},literal:function(e){return e},union:function(){return Array.prototype.slice.call(arguments,0,arguments.length).join(" | ")},anywhere:function(e){return 1===e.length?"//"+e[0]:e.length>1?"//*["+e.map((function(e){return"self::"+e})).join(" | ")+"]":"//*"},contains:function(e,t){return"contains("+e+", "+t+")"},startsWith:function(e,t){return"starts-with("+e+", "+t+")"},endsWith:function(e,t){return"substring("+e+", string-length("+e+") - string-length("+t+") + 1, string-length("+e+")) = "+t},and:function(e,t){return"("+e+" and "+t+")"},or:function(e,t){return"("+e+" or "+t+")"},oneOf:function(e,t){return t.map((function(t){return e+" = "+t})).join(" or ")},nextSibling:function(e,t){return 1===t.length?e+"/following-sibling::*[1]/self::"+t[0]:t.length>1?e+"/following-sibling::*[1]/self::*["+t.map((function(e){return"self::"+e})).join(" | ")+"]":e+"/following-sibling::*[1]/self::*"},previousSibling:function(e,t){return 1===t.length?e+"/preceding-sibling::*[1]/self::"+t[0]:t.length>1?e+"/preceding-sibling::*[1]/self::*["+t.map((function(e){return"self::"+e})).join(" | ")+"]":e+"/preceding-sibling::*[1]/self::*"},inverse:function(e){return"not("+e+")"},stringFunction:function(e){return"string("+e+")"},substringFunction:function(e,t){return"substring("+e+", "+t.join(", ")+")"},concatFunction:function(e){return"concat("+e.join(", ")+")"},stringLengthFunction:function(e){return"string-length("+e+")"},countFunction:function(e){return"count("+e+")"},nthOfType:function(e){return"position() = "+e},nthOfTypeMod:function(e,t){return-1===e?"(position() <= "+t+") and (((position() - "+t+") mod 1) = 0)":t>0?"(position() >= "+t+") and (((position() - "+t+") mod "+e+") = 0)":"(position() mod "+e+") = 0"},nthOfTypeOdd:function(){return"(position() mod 2) = 1"},nthOfTypeEven:function(){return"(position() mod 2) = 0"},nthLastOfType:function(e){return"position() = last() - "+(e-1)},nthLastOfTypeMod:function(e,t){return-1===e?"((last() - position() + 1) <= "+t+") and ((((last() - position() + 1) - "+t+") mod 1) = 0)":t>0?"((last() - position() + 1) >= "+t+") and ((((last() - position() + 1) - "+t+") mod "+e+") = 0)":"((last() - position() + 1) mod "+e+") = 0"},nthLastOfTypeOdd:function(){return"((last() - position() + 1) >= 1) and ((((last() - position() + 1) - 1) mod 2) = 0)"},nthLastOfTypeEven:function(){return"((last() - position() + 1) mod 2) = 0"},lastOfType:function(){return"position() = last()"},nthChild:function(e){return"count(preceding-sibling::*) = "+(e-1)},nthLastChild:function(e){return"count(following-sibling::*) = "+(e-1)},firstChild:function(){return"count(preceding-sibling::*) = 0"},lastChild:function(){return"count(following-sibling::*) = 0"},onlyChild:function(){return"count(preceding-sibling::*) = 0 and count(following-sibling::*) = 0"},onlyOfType:function(){return"last() = 1"},empty:function(){return"not(node())"}},e.render=function(t,r){return void 0===r&&(r="*"),new e(r).render(t)},r.Renderer=e}).call(this)},{}]},{},[6]),MTMainAndWorker=function(){var e={TVR_TIMERS:0,setWorkerObjectRefs:function(e){this.MTloop=e.mod.MTloop},set_worker_and_main_common_reference:function(t){e=t},isDefined:function(e){return""!==e&&"undefined"!==e&&null!=e},checkObject:function(e,t,r){if(!e)return!1;for(var n=0;n<t.length;n++){if(null==e||!e.hasOwnProperty(t[n]))return!!r&&void 0;e=e[t[n]]}return e},profiler:{},log_concurrent:0,startT:function(t,r){(r||TVR_DEV_MODE&&e.TVR_TIMERS)&&(t===Object(t)&&(t=t.callee.name),e.isDefined(e.profiler[t])||(e.profiler[t]={fName:t,sT:[],eT:[],elT:[],calls:0,avg_time:0,total_time:0}),e.profiler[t].sT[++e.profiler[t].calls]=(new Date).getTime())},endT:function(t,r,n){if(n||TVR_DEV_MODE&&e.TVR_TIMERS){t===Object(t)&&(t=t.callee.name),e.profiler[t]||console.log("function timer was not started: ",t);var i=e.profiler[t].calls;e.profiler[t].eT[i]=(new Date).getTime();var a=e.profiler[t].eT[i]-e.profiler[t].sT[i];e.profiler[t].elT[i]=a,e.profiler[t].total_time=e.profiler[t].total_time+a,e.profiler[t].avg_time=e.profiler[t].total_time/i,(r||e.log_concurrent)&&e.showT(t)}},showT:function(t,r){if(TVR_DEV_MODE&&e.TVR_TIMERS){var n="";if("all"!==t)n=e.msgT(e.profiler[t],e.profiler[t].calls);else{var i=[];for(var t in e.profiler)e.profiler.hasOwnProperty(t)&&i.push(e.profiler[t]);for(var a in r=r||"avg_time",i.sort(e.firstBy(r,-1)),i)i.hasOwnProperty(a)&&(n+=e.msgT(i[a]))}console&&console.log&&console.log(n)}},msgT:function(t,r){e.isDefined(t.eT[t.calls])||(console.log(t.fName+" was not endT() finished",t),e.endT(t.fName));var n="",i=t.fName,a=t.total_time.toFixed(2),o=t.avg_time?t.avg_time.toFixed(2):a,s=r?t.elT[r]:e.isDefined(t.elT[1])?t.elT[1]:"[error]";return n+=(r=r||t.calls)+" calls\t\t"+s+"ms\t\tavg: "+o+"ms\t\ttot: "+a+"ms\t\t"+i+"\n"},clear_console:function(){void 0!==console._commandLineAPI?console.API=console._commandLineAPI:void 0!==console._inspectorCommandLineAPI?console.API=console._inspectorCommandLineAPI:void 0!==console.clear&&(console.API=console),console.API.clear()},firstBy:function(){function e(e){return e}function t(e){return"string"==typeof e?e.toLowerCase():e}function r(r,n){if(n="number"==typeof n?{direction:n}:n||{},"function"!=typeof r){var i=r;r=function(e){return e[i]?e[i]:""}}if(1===r.length){var a=r,o=n.ignoreCase?t:e;r=function(e,t){return o(a(e))<o(a(t))?-1:o(a(e))>o(a(t))?1:0}}return-1===n.direction?function(e,t){return-r(e,t)}:r}function n(e,t){return(e=r(e,t)).thenBy=i,e}function i(e,t){var i=this;return e=r(e,t),n((function(t,r){return i(t,r)||e(t,r)}))}return n}(),unique_key:function(){return Math.random().toString(16).slice(2)+(new Date).getTime()},reg:{html_tag:function(e){var t=e.tag,r=e.capParts?"(":"",n=e.capParts?")":"";return r+"<\\s*("+t+")[^>]*>"+n+r+"(?:[\\s\\S]*?)"+n+r+"<\\s*\\/\\s*(?:\\"+e.closeTagCap+")>"+n},html_att:function(e){return"("+e.att+")=(['\"]+)(?:[\\s\\S]*?)(?:['\"]+)"},builder_html_atts:function(e){return"("+e.att+")=(['\"]+)(?:[\\s\\S]*?)(?:['\"]+)"}},truncate_html_string:function(t,r,n,i,a,o){return t=t.replace(/(?=<!--)([\s\S]*?)-->/gm,""),r&&(t=t.replace(new RegExp(e.reg.html_tag({tag:r.join("|"),closeTagCap:"1"}),"gm"),"<$1>(MT truncated)</$1>")),n&&(t=t.replace(new RegExp(e.reg.html_att({att:n.join("|")}),"gm"),'$1="(MT truncated)"')),i&&(a=a||"",t=t.replace(i,a)),t},add_pseudo_placeholders_to_html_string:function(t,r,n){e.startT(arguments);var i=e.parse(t,{},{tagIndex:-1,data:{}}),a={traverseBackwards:1,data:{pseudoCount:0,pseudoCheckCount:0,hasPseudo:r},cb:{tag:[{f:e.remove_mt_ignore_and_subsequent,a:[n]},{f:e.add_pseudos}]}};return e.traverse(0,i,a),t=e.stringify(i),e.endT(arguments),t},get_all_matches:function(e,t,r,n){r=r||0;for(var i,a=[],o=(n=n||{}).autoIncrement;i=t.exec(e);){var s=i[r]?i[r]:i[r+1];void 0===s&&void 0!==o&&"[]"===i[0]&&(s=o);var l=n.itemObj?{value:s,start:i.index,end:i.index+s.length,match:i}:s;a.push(l)}return a},beautifyHTMLOpts:{html:{no_preserve_newlines:!0,max_preserve_newlines:0,indent_inner_html:!0,indent_handlebars:!0,indent_size:2,wrap_line_length:0,inline:[],extra_liners:[],unformatted:[],content_unformatted:[]}},mtArtificalClassRegex:function(){let e="(?:(?:tvr-hover-element)?\\s?tvr-trigger-el(?: tvr-element-overlay)?)|(?:tvr-element-overlay)";return new RegExp('\\s?class="(?:'+e+')?"|'+e,"g")},formatHTMLString:function(t,r,n,i,a){e.startT(arguments),t=t.replace(e.mtArtificalClassRegex(),""),t=e.truncate_html_string(t,["noscript","script","style"],!1,r.pattern,r.repl);return t=(t=(t=i(t=e.add_pseudo_placeholders_to_html_string(t,n,a),e.beautifyHTMLOpts)).replace(/<mtphtagtext>([\s\S]+?)<\/mtphtagtext>/g,"$1")).replace(/<mtphtag(::)?(.+?)\/>/g,"$1$2"),e.endT(arguments),t},beautifyHTMLString:function(t){return self.html_beautify(t,e.beautifyHTMLOpts)},voidElements:{area:1,base:1,br:1,col:1,embed:1,hr:1,img:1,input:1,link:1,meta:1,source:1,track:1,wbr:1},noPseudo:{mtbefore:1,mtafter:1,html:1,head:1,title:1,meta:1,link:1,script:1,style:1,path:1,select:1,option:1,defs:1,filter:1,feColorMatrix:1,feComponentTransfer:1,feFuncR:1,feFuncG:1,feFuncB:1,feFuncA:1,feComposite:1},parseTag:function(t,r){++r.tagIndex;var n=e.voidElements,i=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;return function(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},a=e.match(/<\/?([^\s]+?)[/\s>]/);if(a&&(t.name=a[1],t.i=r.tagIndex,(n[a[1]]||"/"===e.charAt(e.length-2))&&(t.voidElement=!0),t.name.startsWith("!--"))){var o=e.indexOf("--\x3e");return{type:"comment",comment:-1!==o?e.slice(4,o):""}}for(var s=new RegExp(i),l=null;null!==(l=s.exec(e));)if(l[0].trim())if(l[1]){var c=l[1].trim(),u=[c,""];c.indexOf("=")>-1&&(u=c.split("=")),t.attrs[u[0]]=u[1],s.lastIndex--}else l[2]&&(t.attrs[l[2]]=l[3].trim().substring(1,l[3].length-1));return t}(t)},parse:function(t,r,n){var i=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,a=/^\s*$/,o=Object.create(null);return function(t,r,n){r||(r={}),r.components||(r.components=o);var s,l=[],c=[],u=-1,d=!1;if(0!==t.indexOf("<")){var p=t.indexOf("<");l.push({type:"text",content:-1===p?t:t.substring(0,p)})}return t.replace(i,(function(i,o){if(d){if(i!=="</"+s.name+">")return;d=!1}var p,f="/"!==i.charAt(1),h=i.startsWith("\x3c!--"),_=o+i.length,g=t.charAt(_);if(h){var m=e.parseTag(i,r,n);return u<0?(l.push(m),l):((p=c[u]).children.push(m),l)}if(f&&(u++,"tag"===(s=e.parseTag(i,n)).type&&r.components[s.name]&&(s.type="component",d=!0),s.voidElement||d||!g||"<"===g||s.children.push({type:"text",content:t.slice(_,t.indexOf("<",_))}),0===u&&l.push(s),(p=c[u-1])&&p.children.push(s),c[u]=s),(!f||s.voidElement)&&(u>-1&&(s.voidElement||s.name===i.slice(2,-1))&&(u--,s=-1===u?l:c[u]),!d&&"<"!==g&&g)){p=-1===u?l:c[u].children;var v=t.indexOf("<",_),y=t.slice(_,-1===v?void 0:v);a.test(y)&&(y=" "),(v>-1&&u+p.length>=0||" "!==y)&&p.push({type:"text",content:y})}})),l}(t,r,n)},stringify:function(e){function t(e,r){switch(r.type){case"text":return e+r.content;case"tag":return e+="<"+r.name+(r.attrs?function(e){var t=[];for(var r in e)t.push(r+'="'+e[r]+'"');return t.length?" "+t.join(" "):""}(r.attrs):"")+(r.voidElement?"/>":">"),r.voidElement?e:e+r.children.reduce(t,"")+"</"+r.name+">";case"comment":return e+="\x3c!--"+r.comment+"--\x3e"}}return e.reduce((function(e,r){return e+t("",r)}),"")},traverse:function(t,r,n,i){var a,o=r.length;if(n.traverseBackwards)for(a=o-1;a>=0;a--)s(a,t,r,n,i);else for(a=0;a<o;a++)s(a,t,r,n,i);function s(t,r,n,i,a){var o=n[t],s={};if(i.arrKey=t,"tag"===o.type){if((s=e.maybe_run_callbacks("tag",o,i,a)).continue)return!0;o.children&&!s.skipChildren&&(++r,e.traverse(r,o.children,i,o),--r)}}},maybe_run_callbacks:function(t,r,n,i){var a=e.checkObject(n,["cb",t]),o={};if(a)for(var s=0;s<a.length;s++){var l=a[s],c=[r,n,i];if(c=l.a?c.concat(l.a):c,(o=l.f.apply(this,c||[]))&&o.continue)return o}return o||{}},pseudos:["after","before"],remove_mt_ignore_and_subsequent:function(t,r,n,i){var a=!1;return r.mtStuffRemoved||("mt-stuff-ignore"===e.checkObject(t,["attrs","id"])?(n.children.splice(r.arrKey,1),r.mtStuffRemoved=1,a=!0):i||"html"===t.name||"body"===t.name||(n.children.splice(r.arrKey,1),a=!0)),{continue:a}},add_pseudos:function(t,r,n){var i=e,a=i.pseudos,o=t.name;if(!t.isPH&&!i.voidElements[o]&&!i.noPseudo[o]){r.data.pseudoCheckCount++;for(var s=0;s<a.length;s++){var l=a[s];if(e.checkObject(r,["data","hasPseudo",t.i,l])){r.data.pseudoCount++;var c=t.children,u={name:"mtphtag::"+l,type:"tag",voidElement:1,isPH:1};e.convert_text_node_to_placeholder_tag(t,l),"before"===l?c.unshift(u):c.push(u)}}}},convert_text_node_to_placeholder_tag:function(e,t){for(var r=e.children,n=r.length-1;n>=0;n--){var i=r[n];"text"!==i.type||i.content.match(/^\s*$/)||(r[n]={name:"mtphtagtext",type:"tag",children:[i],voidElement:!1})}},eq_str:function(e){let t=25-name.length,r="";t=t>0?t:1;for(let e=t;e>=0;e--)r+="=";return r},getCallbacks:function(e,t){return e.cbs[t]||[]},maybeLoopSelectors:function(t,r,n,i){t.cbs.selector&&Object.entries(r).forEach((([a,o])=>{if("this"!==a){t.trail=e.get_js_object_data([n,a],i,!1,!0).levels,t.selector=o,t.selector_key=a;let s=t.targetSelector===a;(t.allSelectors||s)&&t.cbs.selector.forEach((e=>{e.item.apply(this,[t,r,n,i,a,o])}))}}))},loopUiData:function(t,r,n){let i=(r=r||TvrUi.uiData).non_section.m_query,a=i?Object.keys(i):[];return t.existingCSS||(t.existingCSS=""),t.recurse||(t.recurse={mq_key:"all-devices"}),Object.entries(r).forEach((([r,o])=>{if("non_section"!==r){t.trail=[r],t.section=o,t.section_key=r,t.recurse.mq_key="all-devices";let s=t.targetSection===r;(t.allSections||s)&&(n&&"all-devices"!==n||(e.getCallbacks(t,"section").forEach((e=>{e.item.apply(this,[t,o,r,"all-devices"])})),e.maybeLoopSelectors(t,o,r,"all-devices")),t.skipMediaQueries||a.forEach((a=>{let o=e.checkObject(i,[a,r]);t.trail=e.get_js_object_data([r],a,!1,!0).levels,(o&&!n||n===a)&&(t.recurse.mq_key=a,e.getCallbacks(t,"mq").forEach((e=>{e.item.apply(this,[t,o,r,a])})),e.maybeLoopSelectors(t,o,r,a))})))}})),t},db:{dbInstance:null,isInitialized:!1,async init(e="settingsDB",t="settings"){if(!this.isInitialized||!this.dbInstance?.objectStoreNames.contains(t))return new Promise(((r,n)=>{const i=i=>{const a=indexedDB.open(e,i);a.onupgradeneeded=e=>{const r=e.target.result;r.objectStoreNames.contains(t)||r.createObjectStore(t,{keyPath:"id"})},a.onsuccess=e=>{this.dbInstance=e.target.result,this.isInitialized=!0,r()},a.onerror=e=>{console.error("IndexedDB initialization error:",e.target.error),n(e.target.error)}},a=indexedDB.open(e);a.onsuccess=e=>{const n=e.target.result;if(n.objectStoreNames.contains(t))this.dbInstance=n,this.isInitialized=!0,r();else{const e=n.version+1;n.close(),i(e)}},a.onerror=e=>{console.error("Error checking IndexedDB version:",e.target.error),n(e.target.error)}}))},async ensureInitialized(){this.isInitialized||await this.init()},async save(e,t){return await this.ensureInitialized(),new Promise(((r,n)=>{const i=this.dbInstance.transaction([e],"readwrite").objectStore(e).put(t);i.onsuccess=()=>r(t),i.onerror=e=>{console.error("Error saving data:",e.target.error),n(e.target.error)}}))},async get(e,t){return await this.ensureInitialized(),new Promise(((r,n)=>{const i=this.dbInstance.transaction([e],"readonly").objectStore(e).get(t);i.onsuccess=e=>r(e.target.result),i.onerror=e=>{console.error("Error retrieving data:",e.target.error),n(e.target.error)}}))},async delete(e,t){return await this.ensureInitialized(),new Promise(((r,n)=>{const i=this.dbInstance.transaction([e],"readwrite").objectStore(e).delete(t);i.onsuccess=()=>r(t),i.onerror=e=>{console.error("Error deleting data:",e.target.error),n(e.target.error)}}))},async clear(e){return await this.ensureInitialized(),new Promise(((t,r)=>{const n=this.dbInstance.transaction([e],"readwrite").objectStore(e).clear();n.onsuccess=()=>t(),n.onerror=e=>{console.error("Error clearing data:",e.target.error),r(e.target.error)}}))}}};return e}(),jQuery(document).ready((function(e){TvrMT.TvrCom=function(){var t,r,n,i,a,o={set_vars:function(){t=TvrMT.TvrUi,r=TvrMT.MTF,TvrMT.mod.MTsave,TvrMT.mod.MTgrid,i=TvrMT.mod.MTlayout,n=TvrMT.mod.MTdd,TvrMT.mod.MTace,TvrMT.mod.MTfolder,TvrMT.mod.MTloop,a=TvrMT.mod.MThtml},specificity:{},get_specifcity:function(e){var t=o.specificity.calculate(e);return parseInt(t[0].specificity.split(",").join(""))},init_specificity:function(){var e,t,r;o.specificity=(e=function(e){var r,n,i,a,o=[];for(i=0,a=(r=e.split(",")).length;i<a;i+=1)(n=r[i]).length>0&&o.push(t(n));return o},t=function(e){var t,r=e,n={a:0,b:0,c:0},i=[];return t=function(t,a){var o,s,l,c,u,d;if(t.test(r))for(s=0,l=(o=r.match(t)).length;s<l;s+=1)n[a]+=1,c=o[s],u=r.indexOf(c),d=c.length,i.push({selector:e.substr(u,d),type:a,index:u,length:d}),r=r.replace(c,Array(d+1).join(" "))},function(){var e=function(e){var t,n,i,a;if(e.test(r))for(n=0,i=(t=r.match(e)).length;n<i;n+=1)a=t[n],r=r.replace(a,Array(a.length+1).join("A"))};e(/\\[0-9A-Fa-f]{6}\s?/g),e(/\\[0-9A-Fa-f]{1,5}\s/g),e(/\\./g)}(),function(){var e=/:not\(([^\)]*)\)/g;e.test(r)&&(r=r.replace(e,"     $1 "))}(),function(){var e,t,n,i,a=/{[^]*/gm;if(a.test(r))for(t=0,n=(e=r.match(a)).length;t<n;t+=1)i=e[t],r=r.replace(i,Array(i.length+1).join(" "))}(),t(/(\[[^\]]+\])/g,"b"),t(/(#[^\s\+>~\.\[:]+)/g,"a"),t(/(\.[^\s\+>~\.\[:]+)/g,"b"),t(/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,"c"),t(/(:[\w-]+\([^\)]*\))/gi,"b"),t(/(:[^\s\+>~\.\[:]+)/g,"b"),r=(r=r.replace(/[\*\s\+>~]/g," ")).replace(/[#\.]/g," "),t(/([^\s\+>~\.\[:]+)/g,"c"),i.sort((function(e,t){return e.index-t.index})),{selector:e,specificity:"0,"+n.a.toString()+","+n.b.toString()+","+n.c.toString(),specificityArray:[0,n.a,n.b,n.c],parts:i}},r=function(e,r){var n,i,a;if("string"==typeof e){if(-1!==e.indexOf(","))throw"Invalid CSS selector";n=t(e).specificityArray}else{if(!Array.isArray(e))throw"Invalid CSS selector or specificity array";if(4!==e.filter((function(e){return"number"==typeof e})).length)throw"Invalid specificity array";n=e}if("string"==typeof r){if(-1!==r.indexOf(","))throw"Invalid CSS selector";i=t(r).specificityArray}else{if(!Array.isArray(r))throw"Invalid CSS selector or specificity array";if(4!==r.filter((function(e){return"number"==typeof e})).length)throw"Invalid specificity array";i=r}for(a=0;a<4;a+=1){if(n[a]<i[a])return-1;if(n[a]>i[a])return 1}return 0},{calculate:e,compare:r})},deepClone:function(t,r){let n=r?[]:{};return e.extend(!0,n,t)},loadJSFile:function(e,t,r){var n=(r=r||document).createElement("script");n.src=e,t&&(n.onload=function(){t.item.apply(this,t.args||[])}),r.head.appendChild(n)},scroll_to:function(e){var t;e.offset?t=e.offset:void 0!==e.relative?t=e.scrollDiv[0].scrollTop+e.relative:e.bottom?t=e.scrollDiv[0].scrollHeight:e.top&&(t=0),e.scrollDiv.scrollTop(t)},compareVersions:function(e,t){var r,n;r="object"!=typeof e?e.toString().split("."):e,n="object"!=typeof t?t.toString().split("."):t;for(var i=0;i<Math.max(r.length,n.length);i++){if(r[i]=void 0===r[i]?0:Number(r[i]),n[i]=void 0===n[i]?0:Number(n[i]),r[i]>n[i])return 1;if(r[i]<n[i])return-1}return 0},getElPosRelToContainer:function(e,t){var r=t[0].getBoundingClientRect();return e[0].getBoundingClientRect().top-r.top+t[0].scrollTop},offsets_match:function(e,t,r){return e.left===t.left&&e.top===t.top},dimensions_match:function(e,t,r){return e.outerWidth===t.outerWidth&&e.outerHeight===t.outerHeight},apply_offset:function(e,t){var r=e.top,n=e.left,i=e.bottom,a=e.right,s={top:o.isNumeric(r)?r+"px":r,left:o.isNumeric(n)?n+"px":n,bottom:o.isNumeric(i)?i+"px":i,right:o.isNumeric(a)?a+"px":a};t.css(s)},clearSelection:function(e,t){if(e.getSelection){let t=e.getSelection();t&&(t.empty?t.empty():t.removeAllRanges&&t.removeAllRanges())}else t.selection&&t.selection.empty()},hasValue:function(e){return!!e},obj_length:function(e,t){if(t=t||{},!e||!o.check_type(e,["object"]))return-1;var r,n,i=0;for(r in e)if(e.hasOwnProperty(r)){if(t.exclKey===r||t.exclIfDraft&&(e[r].isDraft||e[r].isDraftRetarget))continue;n=r,i++}return i&&t.returnLastKey?n:i},date_format:function(e,t){var r=e.getDate(),n=e.getMonth()+1,i=e.getFullYear();switch(r<10&&(r="0"+r),n<10&&(n="0"+n),t){case"mysql":return i+"-"+n+"-"+r;case"en":return r+"/"+n+"/"+i}},isDomEl:function(e,t,r){return r=r||document,!!(o.hasValue(e)&&e.prop&&e.prop("tagName"))&&(!t||r.contains(e[0]))},get_tagName:function(e){if(!o.isDomEl(e))return"";var t=e.prop("tagName");return o.isDefined(t)?t.toLowerCase():""},trim:function(e,t){return o.rtrim(o.ltrim(e,t),t)},ltrim:function(e,t){return e.replace(new RegExp("^(?:([\\s"+t+"]+))","i"),"")},rtrim:function(e,t){return e.replace(new RegExp("(?:([\\s"+t+"]+)$)","i"),"")},remove_last_linebreak:function(e){return e?this.rtrim(e,"\n"):e},remove_only_last_char:function(e,t){return e.replace(new RegExp("(?:("+t+"\\s*)$)","i"),"")},last_char_uppercase:function(e,t){return t=t||"xyz",e.replace(new RegExp("(["+t+"])$","i"),(function(e){return e.toUpperCase()}))},has_protocol:function(e){return e.match(/((?:[a-z]+:)?\/\/)/i)},domain_matches:function(e){return e.indexOf(t.homeUrl)>-1},get_root_domain:function(e){var t=document.createElement("a");return t.href=e,t.protocol+t.hostname},isExternalUrl:function(e){var t=document.createElement("a");return t.href=e,t.hostname!==window.location.hostname},multiple_comma_values:function(e){return(e.match(/,/g)||[]).length},path_without_name:function(e){var t=e.split("/");return t.splice(-1,1),t.length?t.join("/"):""},extract_url_path:function(e,r){var n;if(o.startT(arguments),o.domain_matches(e)||o.has_protocol(e)){var i=r?r.home:t.homeUrl,a=document.createElement("a");a.href=e;var s=a.hostname,l=document.createElement("a");l.href=i;var c=l.hostname;l.port&&(c+=":"+l.port),a.port&&(s+=":"+a.port),c!==s&&(i=i.replace(c,s)).indexOf("http")<0&&(i=a.protocol+i);var u=e.replace(i,"");n="/"+o.ltrim(u,"/")}else n="/"+o.ltrim(e,"/");return o.endT(arguments),n},strip_preview_params:function(e){return e=e.split(/(?:elementor-)?preview=/),this.rtrim(e[0],"?&")},strip_page_builder_and_other_params:function(e){if(!e)return"";for(var t=TvrMT.data.prog.params_to_strip,r=Object.keys(t),n=0;n<r.length;n++){var i=t[n];i.unless&&e.match(i.unless.join("|"))||(e=this.strip_url_param(e,i.param,i.withVal))}return e},strip_url_param:function(e,t,r){t=r?t+"(?:=[a-z0-9]+)?":t;var n=new RegExp("(?:&|\\?)"+t);return(e=e.replace(n,"")).indexOf("&")>-1&&e.indexOf("?")<0&&(e=e.replace("&","?")),e},append_url_param:function(e,t,r,n){if(e.indexOf(t)>-1)return void 0!==r&&n?e.replace(RegExp(t+"=(a-zA-Z0-9_)+"),t+"="+r):e;var i=e.indexOf("?")>-1?"&":"?";return e+i+(t=r?t+"="+r:t)},force_fresh_url:function(e){var t=e.indexOf("?")>-1?"&":"?";return e+t+"no_cache="+(new Date).getTime()},stripURLProtocol:function(e){return e.replace(/https?:/,"")},simpler_media_query_label:function(e){return e.replace(/@media\s?|\(|\)/gi,"")},ucwords:function(e){return(e+"").replace(/^([a-z])|\s+([a-z])/g,(function(e){return e.toUpperCase()}))},capitalizeFL:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},readable_name:function(e){return e.replace(/[_-]/g," ")},maybe_to_hex:function(e){if(!o.hasValue(e))return e;if((e=e.toString()).indexOf("rgb")<0)return e;if(e.indexOf("rgba(0, 0, 0, 0)")>-1)return e.replace(/rgba\(0, 0, 0, 0\)/g,"transparent");var r="rgb",n=/(.*?)rgb\((\d+), (\d+), (\d+)\)/,i=/rgb\(.+[^\)]\)/g;e.indexOf("rgba")>-1&&(r="rgba",n=/(.*?)rgba\((\d+), (\d+), (\d+), (\d+(\.\d+)?)\)/,i=/rgba\(.+[^\)]\)/g);var a=e.split(r),s="";for(var l in a)if(a.hasOwnProperty(l)&&a[l]&&o.hasValue(a[l])&&("string"==typeof a[l]||a[l]instanceof String)&&a[l].indexOf("function")<0)if(l>0){var c=r+a[l],u=n.exec(c);if(!u)return e;var d=parseInt(u[2]),p=parseInt(u[3]),f=parseInt(u[4]),h=!1;if(o.hasValue(u[5])&&"rgba"==r&&(h=parseFloat(u[5]),o.hasValue(h)&&(h=h.toFixed(2))),1!=t.pref.color_as_hex){var _=r+"("+d+", "+p+", "+f;return _+="rgba"==r?", "+h:"",_+=")"}var g="#"+((1<<24)+(d<<16)+(p<<8)+f).toString(16).slice(1);c=c.replace(i,g),h&&"rgba"==r&&(c+=" ("+h+" opacity)"),s+=c}else s+=a[l];return s},pipes_to_array:function(e){o.startT(arguments);for(var t=[],r=e.attr("rel").split("|"),n=r.length,i=0;i<n;++i){var a=r[i].split(",");t[a[0]]=parseInt(a[1])}return o.endT(arguments),t},print_r:function(e,t){var r=t||"",n="[object Array]"===Object.prototype.toString.call(e),i=n?"Array\n"+r+"[\n":"Object\n"+r+"{\n";for(var a in e)if(e.hasOwnProperty(a)){var s=e[a],l="";switch(Object.prototype.toString.call(s)){case"[object Array]":case"[object Object]":l=o.print_r(s,r+"\t");break;case"[object String]":l="'"+s+"'";break;default:l=s}i+=r+"\t"+a+" => "+l+",\n"}return i=i.substring(0,i.length-2)+"\n"+r,n?i+"]":i+"}"},extract_str:function(e,t){var r;if(o.startT(arguments),"gradient"==e)if((r=t.split("linear-"))[0].indexOf("gradient")>=0)var n=r[0];else if(r[1]&&r[1].indexOf("gradient")>=0)n=r[1];else n="";"bg-image"==e&&(n=(r=t.split("linear-"))[0].indexOf("url")<0?"none":o.basename(r[0]).replace(/\)?"/,""));return o.endT(arguments),n},stringify_object:function(e,t){return e&&(!t&&o.obj_length(e)>0||e.length)?JSON.stringify(e):""},replace_all_matches:function(e,t,r){if(o.startT(arguments),Array.isArray(t)&&Array.isArray(r))for(var n in t)t.hasOwnProperty(n)&&(e=e.replace(t[n],r[n]));else if(Array.isArray(t)&&!Array.isArray(r))for(var n in t)t.hasOwnProperty(n)&&(e=e.replace(t[n],r));else if(!Array.isArray(t)&&Array.isArray(r))for(var n in r)r.hasOwnProperty(n)&&(e=e.replace(t,r[n]));else e=e.replace(new RegExp(t,"g"),r);return o.endT(arguments),e},isInteger:function(e){return(0^e)===e},basename:function(e){return o.hasValue(e)?e.split(/[\\/]/).pop().replace(")",""):e},root_rel:function(e,r){var n=new RegExp("(?:https?:)?"+t.homeUrl,"i");return e.replace(n,"")},root_rel_if_local:function(e,r){if(e.indexOf(t.siteUrl)>-1&&!parseInt(t.pref.abs_image_paths)&&!TvrMT.integrate.gutenberg){let n=o.root_rel(e,t.siteUrl);return!r||o.fileExists(n)?n:e}return e},scroll_input_end:function(e){e.get(0).scrollLeft=e.get(0).scrollWidth},pseudo_str_to_arr:function(e){return e.match(/::?([^: ])+/gi)},strip_pseudo:function(e){return e.replace(/::?([^: ])+/gi,"")},strip_state_pseudo:function(e){return e.replace(/::?(active|after|before|checked|disabled|enabled|focus|hover|in-range|invalid|link|out-of-range|valid|visited)+/gi,"")},get_pseudo_el:function(e){return e.match(/::?(before|after|first-(?:line|letter)|selection)+$/gi)},get_before_after:function(e,t){return o.regex(n.reg.trailing_before_after(),{match:1,str:e,capture:t})},get_pseudo_class:function(e){return e.match(/:(?!before|after|first-(?:line|letter)|selection)[a-z-]+$/gi)},regex:function(e,t){var r=(t=t||{}).flags||"",n=new RegExp(e,r);if(t.match){if(void 0===t.capture)return t.str.match(n);var i=t.str.match(n);return!!i&&i[t.capture]}return t.replace?t.str.replace(n,t.replace):n},escapeRegExp:function(e){return e?e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"):e},combine_array_values:function(e,t,r){if(!e)return!1;for(var n="",i=0;i<e.length;i++)n+=t?e[i][t]:e[i],r&&(n+=r);return r&&(n+=o.rtrim(n,r)),n},new_name_checks:function(r,n,i){if(o.isNumeric(r))return alert("Plain numbers are not permitted as names. Please use some letters too."),!1;if("folder"==n)var a=e("#tvr-menu"),s=".section-name";else if("selector"==n)a=i||t.meta.sectionM,s=".selector-name";else if("item"==n)a=t.dyn_meta.menu,s=".dyn-item";if(o.duplicates(r,a,s)){switch(n){case"folder":alert(TvrLang.already_exists_folder);break;case"selector":alert(TvrLang.already_exists_selector);break;default:alert(tvrsprintf(TvrLang.already_exists_misc,n))}return!1}if(""==r||"folder"==n&&r==TvrLang.new_folder){switch(n){case"folder":alert(TvrLang.enter_folder_name);break;case"selector":alert(TvrLang.enter_selector_name);break;default:alert(tvrsprintf(TvrLang.enter_name_misc,n))}return o.endT(arguments),!1}return{newNameHuman:r,newName:o.convert_to_param(r)}},duplicates:function(r,n,i,a){var s=!1,l=o.convert_to_param(r);if(".selector-name"===i){var c=t.get_meta(n,"section").sectionSlug,u=t.uiData[c];for(var d in u)if(u.hasOwnProperty(d)&&"this"!==d){if(a&&"strk-"+c+"-"+d===a)return!0;if(d===l)return!0}}else n.find(i).find(".name-text").each((function(){o.convert_to_param(e(this).text())===l&&(s=!0)}));return s},duplicates_old:function(t,r,n,i){o.startT(arguments);var a=!1;return r.find(n).find(".name-text").each((function(){if(i&&e(this).closest(".selector-tag").attr("id")===i)return!0;o.convert_to_param(e(this).text())===o.convert_to_param(t)&&(a=!0)})),o.endT(arguments),a},resolve_unique_name:function(e,t,r,n,i){if(o.duplicates(e,t,r,i)){var a=1;do{var s;if(n){var l=new RegExp(n+" \\d+$");e.match(l)?(1===a&&(a=2),s=e.replace(l,n+" "+a)):s=e+" "+n+" "+a}else 1===a&&(a=2),s=e+" "+a;++a}while(o.duplicates(s,t,r,i));return s}return e},config_obj_to_string:function(e,t,r,n){t=t||"MT",n=n||{};var i=[];for(var a in e)e.hasOwnProperty(a)&&o.isDefined(e[a])&&!n[a]&&i.push(a+": "+e[a]);return r?i.join(r):t+" [ "+i.join(" | ")+" ]"},kebab_to_camel_case:function(e){return e.replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}))},config_string_to_obj:function(e){if(!e)return e;for(var r=e.split("|"),n={},i=!1,a=/(.+?)\[(\d+)]$/,s=0;s<r.length;s++){var l=r[s].split(/^([^:]+):(.+)/),c=l[1],u=l[2];if(c&&u){c=c.trim(),u=u.trim();let e=c.match(a);if(e||o.in_array(c,t.cssProps.html.map((e=>e.prop)))&&(e=(c+="[0]").match(a)),e){c=e[1];let t=e[2];n[c]||(n[c]=[]),n[c][t]=u}else n[c]=u;i=!0}}return!!i&&n},getMaxArrLength:function(e){let t=0;return Object.keys(e).forEach((r=>{let n=e[r].length;n>t&&(t=n)})),t},convert_to_param_old:function(e){return o.startT(arguments),e=(e=e.replace(/[^a-zA-Z0-9 ]+/g,"").replace("/ {2,}/"," ")).replace(/ /g,"_").toLowerCase(),o.endT(arguments),e},convert_to_param:function(e,t){void 0===t&&(t="unicode");var r=e.trim().replace("/ {2,}/"," ");return e=(e=(e=o.replaceMatchingChars(r,/[^a-zA-Z0-9_ ]+?/g,t)).replace(/ /g,"_").toLowerCase()).replace(/__/g,"_")},replaceMatchingChars:function(e,t,r){return t=t||/[\s\S]/g,e.replace(t,(function(e){return"unicode"===r?o.charToUnicode(e):""}))},charToUnicode:function(e){var t=e.charCodeAt().toString(16),r=t.length>2;return(r?"u":"x")+("0000"+t).slice(r?-4:-2)},custom_escape_quotes:function(e){return e.replace(/"/g,"cus-quot;").replace(/'/g,"cus-#039;")},escapeHTML:function(e){return o.hasValue(e)?e=e.replace(/&[^(#\d+;|a-z+;)]/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},escapeSpecialText:function(e,t="textString",r=!1){let n=e;if("htmlString"===t){const t=(new DOMParser).parseFromString(e,"text/html");if(t.querySelector("parsererror"))throw new Error("Invalid HTML string provided.");n=t.body.innerHTML}else{const t=document.createElement("div");t.textContent=e,n=t.textContent}return r&&(n=this.escapeAttribute(n)),n},custom_to_non_escaped:function(e){return e?e.replace(/cus-quot;/g,'"').replace(/cus-#039;/g,"'"):e},regular_escape_quotes:function(e){return o.isDefined(e)?e.replace(/"/g,"&quot;").replace(/'/g,"&#039;"):""},regular_escaped_to_non_escaped:function(e){return e.replace(/&quot;/g,'"').replace(/&#039;/g,"'")},jquery_escape_quotes:function(e){return e.replace(/"/g,'\\"').replace(/'/g,"\\'")},jquery_escaped_to_non_escaped:function(e){return e.replace(/\\"/g,'"').replace(/\\'/g,"'")},strip_quotes:function(e){return e?e.replace(/['"]/g,""):""},escape_backslashes:function(e,t){return t?e.replace(/%5C/g,"%26%2392%3B"):e.replace(/\\/g,"&#92;")},prop_to_cssf:function(e){return e.replace(/_/g,"-")},cssf_to_prop:function(e){return e.replace(/-/g,"_")},embolden_matched_text:function(e,t){return e.replace(new RegExp("("+o.escapeRegExp(t)+")","ig"),"<b>$1</b>")},custom_to_regular_escape:function(e){return e.replace(/cus-/g,"&")},sane_decimal:function(e,t){if(o.hasValue(e)&&("string"==typeof e||e instanceof String)&&-1!==e.indexOf("px")&&-1!==e.indexOf(".")&&e.indexOf("rgb")<0&&e.indexOf("calc")<0){var r=e.split(" "),n=[];t=t||0;for(var i=0;i<r.length;i++){var a=r[i].split("px");n.push(parseFloat(a[0]).toFixed(t)+"px")}return n.join(" ")}return e},replace_decimals:function(e,t){return e=e.replace(/\d+(\.\d*)|\.\d+/,(function(e,r,n,i){return parseFloat(e).toFixed(t)}))},getJQueryVersion:function(e,t){return e.split(".").map((function(e){return("0"+e).slice(-2)})).join(".").toString()},in_array:function(e,t,r,n){if(!Array.isArray(t))return!1;for(var i in t)if(t.hasOwnProperty(i)&&(t[i]===e||r&&e&&e.indexOf(t[i])>-1||n&&t[i][n]===e))return i;return!1},join_object_properties_in_array:function(e,t,r){return t.map((function(t){return t[e]})).join(r)},flatten:function(e){return e.reduce((function(e,t){return e.concat(Array.isArray(t)?o.flatten(t):t)}),[])},obj_index:function(e,t,r){var n=-1,i=!1;for(var a in t)if(t.hasOwnProperty(a)&&++n==e){if(a!=r){i=t[a];break}++e}return i},editArray:function(e,t,r){var n=e.indexOf(t);return-1!==n&&("remove"===r?e.splice(n,1):"prevItems"===r?e=e.slice(0,n):"prevItemsIncCurrent"===r?e=e.slice(0,n+1):"nextItems"===r?e=e.slice(n+1):"nextItemsIncCurrent"===r&&(e=e.slice(n))),e},count_array_item:function(e,t,r,n){e=void 0===e?0:e;for(var i=0;i<r.length;i++)t===r[i]&&++e;return e},compare_array_values:function(e,t,r,n){var i={};e=e||[],t=t||[];for(var a=0;a<e.length;a++){var s=e[a];o.count_array_item(i[s],s,e)>o.count_array_item(0,s,t)&&n.push({action:r,value:s,form:1!==s?"declaration":"instance"}),i[s]=void 0!==i[s]?i[s]-1:-1}},callStack:function(e,t){if(TVR_DEV_MODE||t){e=e||10;for(var r=arguments.callee.caller,n=arguments.callee.caller.name,i=[],a=0;a<e;a++){if(r.name&&r.name!==n){let e="Call stack ("+n+") "+a+" "+r.name;t?i.push(e):console.log(e)}if(!r.caller)break;r=r.caller}}return i},updateIf:function(e,t,r,n,i){var a=this.checkObject(t,r);(a&&"exits"===e||void 0===a&&"undefined"===e)&&this.updateObject(t,r,n,i)},orderObject:function(e){if(o.check_type(e,["array"]))return e;var t={};return Object.keys(e).sort().forEach((function(r){t[r]=e[r]})),t},joinObjectOrArray:function(e,t){return(o.check_type(e,["array"])?e.join(t):Object.values(this.orderObject(e)).join(t)).trim()},objectToArray:function(e,t){if(o.check_type(e,["array"]))return e;var r=this.orderObject(e);if(!t)return Object.values(r);var n=[];for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i]);return n},safe_to_use_array:function(e,t,r,n,i){var a=parseInt(t);return a!==n.sectionIndex&&a!==n.selectorIndex&&!(!this.isNumeric(e[parseInt(t)+1])||!(i&&i.isArraySafe||this.inside_valid_array_structure(n)))},inside_valid_array_structure:function(e){for(var t=["important","styles","pg_disabled","pgtab_disabled","griditems","value","mods"],r=0;r<t.length;r++){if(e[t[r]])return!0}return!1},replace_variable_name_attr:function(e,t){return e.replace(/(.+)\[\d\]$/,"$1["+t+"]")},get_array_or_object_keys:function(e){var t=[];if("object"===o.check_type(e,["array","object"]))return Object.keys(e);for(var r=0;r<e.length;r++)o.isDefined(e[r])&&t.push(r);return t},get_name_attr_index:function(e){var t=e.match(/\[(\d)\]$/);return!!t&&parseInt(t[1])},updateObject:function(r,n,i,a){o.startT(arguments);var s,l={m_query:!1,styles:!1,pg_disabled:!1,important:!1};for(var c in n)if(n.hasOwnProperty(c)){var u=n[c],d=c<n.length-1;"styles"===u?l.styles=!0:"m_query"===u?(l.m_query=!0,l.sectionIndex=parseInt(c)+2,l.selectorIndex=parseInt(c)+3):"important"===u?(l.important=!0,l.sectionIndex=parseInt(c)+1,l.selectorIndex=parseInt(c)+2):"pg_disabled"===u?l.pg_disabled=!0:"value"===u?l.value=!0:"griditems"===u?l.griditems=!0:"mods"===u&&(l.mods=!0),(!r.hasOwnProperty(u)||d&&r[u]!==Object(r[u]))&&(r[u]=this.safe_to_use_array(n,c,u,l,a)?[]:{}),d&&r[u]===Object(r[u])&&(r=r[u])}if(a){var p=n[c];switch(a.action){case"replace":r[p]=i;break;case"delete":delete r[p][a.key];break;case"append":r[p][a.key]=i;break;case"reorder":n.length?r[p]=this.order_item_properties(r[p],a.order):t.uiData=this.order_item_properties(r,a.order);break;case"array_merge":e.extend(!1,r[p],i);break;case"array_merge_recursive_distinct":n.length?e.extend(!0,r[p],i):e.extend(!0,r,i);break;case"join_string":case"replace_string":"object"==typeof(s=r[p])&&(s=""),o.isDefined(s)?"join_string"===a.action?r[p]=s+a.joinChar+i:"replace_string"===a.action&&(r[p]=s.replace(a.replacePattern,a.replaceValue)):r[p]=a.ifUndefined}}else r[n[c]]=i;o.endT(arguments)},order_item_properties:function(e,t,r,n){for(var i={},a=0;a<t.length;a++){var s=t[a],l=s===r?n:s,c=e[s];o.isDefined(c)&&(i[l]=c)}return i},check_type:function(e,t){var r=!1;return t&&!o.in_array("array",t)||!Array.isArray(e)?t&&!o.in_array("object",t)||e!==Object(e)?t&&!o.in_array("function",t)||"function"!=typeof e?t&&!o.in_array("string",t)||"string"!=typeof e||(r="string"):r="function":r="object":r="array",r},uniqueArray:function(e){var t=[],r={};for(var n in e){var i=e[n],a=i===Object(i)&&"value"?i.value:i;r[a]||t.push(i),r[a]=1}return t},comboHasInitialCats:function(e,t){return o.isArrayOfObjects(e,t)},isArrayOfObjects:function(e,t){return!!Array.isArray(e)&&e[t=t||0]===Object(e[t])},isString:function(e){return"string"==typeof e||e instanceof String},isNumber:function(e){return e==parseFloat(e)},isNumeric:function(e){return!isNaN(e)},isOdd:function(e){return o.isNumber(e)&&Math.abs(e)%2==1},check_fake:function(r,n){var i=r.hasClass("mt-toggle-parent"),a=i?r.parent():r;if(n||(n=r.prev()),r.hasClass("fake-radio")){var s=r.closest(".fake-radio-parent"),l=s.find('input[type="radio"]');l.prop("checked",!1),i?s.find(".fake-radio").parent().removeClass("on"):s.find(".fake-radio").removeClass("on"),l.attr("name").indexOf("mt_dark_mode")>-1&&t.toggle_feature(e("#mymtonoffswitch-mt_dark_mode"))}o.isDomEl(n)&&n.prop("checked",!0),a.addClass("on")},uncheck_fake:function(e,t){if(e.hasClass("fake-radio"))return!1;var r=e.hasClass("mt-toggle-parent")?e.parent():e;t||(t=e.prev()),o.isDomEl(t)&&t.prop("checked",!1),r.removeClass("on")},isIntercepted:function(e,t){return!(e.x+e.width<=t.x||t.x+t.width<=e.x||e.y+e.height<=t.y||t.y+t.height<=e.y)},isInterceptedX:function(e,t){return!(e.x+e.width<=t.x||t.x+t.width<=e.x)},isTextSelected:function(e){return"number"==typeof e.selectionStart?0==e.selectionStart&&e.selectionEnd==e.value.length:void 0!==document.selection?(e.focus(),document.selection.createRange().text==e.value):void 0},mouseIsOverElement:function(e,t,r){r=r||e[0].getBoundingClientRect();var n={x:t.clientX,y:t.clientY,width:1,height:1};return o.isIntercepted(r,n)},open_folder_if_dragging_over:function(r){var n=e(r.target);if("section"!==o.currentlySorting&&n.hasClass("section-tag")){var i=n.find(".folder-icon");o.mouseIsOverElement(i,r)&&!i.hasClass("on")&&t.open_folder(t.get_meta(i,"section"))}},toggle_radio_checkbox:function(r){if(r.hasClass("toggle-checked-folders"))t.toggle_multi_checkboxes(r);else{var n=r.prev(),a=!(r.hasClass("mt-toggle-parent")?r.parent():r).hasClass("on");if(r.data("toggleFeature")&&t.toggle_feature(r),a?o.check_fake(r,n):o.uncheck_fake(r,n),r.data("dyn-tt-root")){let e=a?r.data("neg"):r.data("pos");t.refresh_tt(r,e)}if(r.hasClass("switch-layout-preset")&&i.switch_layout_preset(r),r.hasClass("mt-reporting-permission")){let n=r.data("permission-key"),i=t.pref.reporting.permission,o="error_reporting_disabled",s=t.stat.tvr;a?i[n]=1:delete i[n],i.file||i.data?s.removeClass(o):s.addClass(o),e("#toggle-preview-report-data").hasClass("on")&&t.update_error_report_preview()}}},enable_full_screen:function(){o.startT(arguments),document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement||(document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.msRequestFullscreen?document.documentElement.msRequestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT),t.full_screen_mode=!0,i.toolbar_adjusted()),o.endT(arguments)},disable_full_screen:function(){o.startT(arguments),document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),t.full_screen_mode=!1,i.toolbar_adjusted(),o.endT(arguments)},full_screen_changed:function(){i.toolbar_adjusted()},file_extension:function(e){return e.match(/\.([0-9a-z]+)(?:[\?#]|$)/i)},strip_extension:function(e){return e.substr(0,e.lastIndexOf("."))||e},is_image:function(e){o.startT(arguments);var t=o.file_extension(e);return"jpg"==(t=!!t&&t[1])||"jpeg"==t||"gif"==t||"png"==t||"svg"==t},forceReflow:function(e){e.offsetHeight},replaceAt:function(e,t,r,n){return n=n||r.length,e.substr(0,t)+r+e.substr(t+n)},convertUnit:function(){var e,t=document.createElement("test"),r=document.documentElement,n=document.defaultView,i=n&&n.getComputedStyle,a=/^(-?[\d+\.\-]+)([a-z]+|%)$/i,s={},l=[1/25.4,1/2.54,1/72,1/6],c=["mm","cm","pt","pc","in","mozmm"],u=(Math.PI,Math.PI,Math.PI,Math.PI,Math.PI,Math.PI,6);for(r.appendChild(t),i&&(t.style.marginTop="1%",e="1%"===i(t).marginTop);u--;)s[c[u]+"toPx"]=l[u]?l[u]*s.inToPx:d(t,"1"+c[u]);function d(e,t,n,i){n=n||"width";var l,c,u,d=(t.match(a)||[])[2],f="px"===d?1:s[d+"toPx"];if(f||/r?em/i.test(d)&&!i)e=f?e:"rem"===d?r:"fontSize"===n&&e.parentNode||e,f=f||parseFloat(p(e,"fontSize")),u=parseFloat(t)*f;else{if(c=(l=e.style)[n],"%"===d){var h=parseFloat(t),_=parseFloat(t)/100;return"fontSize"===n?parseFloat(p(e.parentNode,n))*_:e["client"+o.capitalizeFL(n)]*h/100}try{l[n]=t}catch(e){return 0}u=l[n]?parseFloat(p(e,n)):0,l[n]=void 0!==c?c:null}return u}function p(t,r){var n,o,s,l,c,u=["paddingTop","paddingBottom","borderTop","borderBottom"],f=4;if("%"===(s=((n=i?i(t)[r]:(o=t.style["pixel"+r.charAt(0).toUpperCase()+r.slice(1)])?o+"px":"fontSize"===r?d(t,"1em","left",1)+"px":t.currentStyle[r]).match(a)||[])[2])&&e)if(/^top|bottom/.test(r)){for(l=(c=t.parentNode||t).offsetHeight;f--;)l-=parseFloat(p(c,u[f]));n=parseFloat(n)/100*l+"px"}else n=d(t,n);else("auto"===n||s&&"px"!==s)&&i?n=0:s&&"px"!==s&&!i&&(n=d(t,n)+"px");return n}return r.removeChild(t),t=void 0,{toPx:d}},getViewPortDimensions:function(t){var r=e(t).width(),n=e(t).height();return{vw:r,vh:n,vmin:r<n?r:n,vmax:r>n?r:n}},iconClasses:function(e){return TvrMT.data.templates.icon_classes.replace(/iconName/g,e)},action_after_repaint:function(e,t,n){if(!n){var i=o.checkObject(r,["stat","win"]);if(!i)return!1;n=i}n.requestAnimationFrame((function(){setTimeout((function(){e.item.apply(this,e.args)}),t)}))},action_after_timeout:function(e,r,n){var i=Date.now(),a=i;if(t.timer[e]){var o=t.timer[e].then;if(clearTimeout(t.timer[e].timerID),delete t.timer[e],n.rateLimited){if(i-o>=r)return n.item.apply(this,n.args),!0;a=o}}var s=setTimeout((function(){n.item.apply(this,n.args)}),r);t.timer[e]={timerID:s,then:a}},iterate_string:function(t,r,n,i){var a,o,s=-1;for(e.extend(!0,i,{modifiedStr:t,indexCorrection:0,matchesFound:0,allMatches:[]});a=r.exec(t);){++s,++i.matchesFound,i.allMatches.push(a[1]);for(var l=0;l<n.length;l++)void 0!==(o=n[l].item.apply(this,[s,t,a,i].concat(n[l].args)))&&(i.indexCorrection=i.indexCorrection+o);if(s>300)return!1}return i.modifiedStr},replace_all:function(e,t,r,n,i,a){var s=a,l=r[i].length,c=s.length;return n.modifiedStr=o.replaceAt(n.modifiedStr,r.index-n.indexCorrection,s,l),l-c},split_on_regex_group:function(e,t,r){if(!e)return[];var n={parts:[],start:0};return o.iterate_string(e,t,[{item:function(e,t,r,n,i){if(void 0!==r[i]){var a=r.index;n.parts.push(t.slice(n.start,a)),n.start=a+r[i].length}},args:[r]}],n),n.parts.push(e.slice(n.start).trim()),n.parts.filter(Boolean)},offset:function(e){var t=e[0].getBoundingClientRect();return{top:t.top,left:t.left}},scrollToSmoothly:function(e,t,r){var n=r.pageYOffset,i=null;null==t&&(t=500),e=+e,t=+t,r.requestAnimationFrame((function a(o){var s=o-(i=i||o);n<e?r.scrollTo(0,(e-n)*s/t+n):r.scrollTo(0,n-(n-e)*s/t),s<t?r.requestAnimationFrame(a):r.scrollTo(0,e)}))},forceElReflow:function(e,t,r,n){e.attr("style",t),o.action_after_repaint({item:function(){r?e.attr("style",r):e.removeAttr("style")}},n||20)},reload_current_frontend_page:function(e){e&&(t.resumeIframeScroll={top:e.stat.win.scrollY,left:e.stat.win.scrollX,behaviour:"auto"},t.change_preview_url(t.stat.settingsMenu.find(".change-preview-url")))},ww:{max:4,channels:{queueable:{max:1,list:[]},async:{max:3,list:[]},formatHTML:{max:1,list:[]},revisions:{max:1,list:[]},getElStylesheetStyles:{max:1,list:[]}},mainThreadData:{},debug:!1,debug_log:function(t,r,n){o.ww.debug&&(n=void 0===n?"":n,console.log(t,r.taskName,n,r,e.extend(!0,{},o.ww)))},getChannel:function(e,t){var r=e.channel||e.taskName;return o.ww.channels[r]||(r="queueable"),t?r:o.ww.channels[r]},getChannelList:function(e){return o.ww.getChannel(e).list},newWorker:function(e){var r=window.TVR_DEV_MODE?"/worker":"-min",n=t.pluginUrl+"js"+r+"/mt-worker.js?v=5",i=o.ww.getChannel(e,!0);return TVR_DEV_MODE&&(i="TVR_DEV_MODE."+i),new Worker(n,{name:i})},create:function(e){o.startT(arguments);var t={worker:o.ww.newWorker(e),queueCount:0,queue:[],taskQueue:[],isBusy:!1,id:o.unique_key()};return o.ww.getChannelList(e).push(t),o.ww.debug_log("Web worker created and added to list",e,t),o.endT(arguments),t},getWorker:function(e){if(o.startT(arguments),"undefined"==typeof Worker)return o.ww.debug_log("Workers are not supported",e),o.endT(arguments),!1;var t=o.ww.getChannel(e),r=t.list,n=t.max,i=r.length,a=!1;if(!i)return a=o.ww.create(e),o.ww.debug_log("Create first web worker",e),o.endT(arguments),a;for(var s={queueCount:void 0,arrIndex:0},l=0;l<r.length;l++){var c=r[l].queueCount;(void 0===s.queueCount||c<s.queueCount)&&(s.queueCount=c,s.arrIndex=l)}return e.terminateCurrent&&s.queueCount>0?(a=r[s.arrIndex],o.ww.terminateWorkerItem(a),o.ww.debug_log("Terminated existing worker, a new one will be started",e)):s.queueCount>0&&i<n?(a=o.ww.create(e),o.ww.debug_log("All web workers are busy, but we can create a new one",e)):(a=r[s.arrIndex],o.ww.debug_log("Use an existing web worker",e,r[s.arrIndex])),a.terminated&&(a.worker=o.ww.newWorker(e),a.terminated=!1,a.isBusy=!1,o.ww.debug_log("Revived terminated worker item",e,a)),o.endT(arguments),a},terminateWorkerItem:function(e){e.worker.terminate(),e.terminated=!0,e.queueCount=0,e.queue=[];const t=Object.keys(o.ww.channels).find((t=>o.ww.channels[t].list.some((t=>t.id===e.id))));if(t){const r=o.ww.channels[t].list,n=r.findIndex((t=>t.id===e.id));n>-1&&r.splice(n,1)}},assignTask:function(e){o.startT(arguments);var t=o.ww.getWorker(e);if(!t)return o.ww.debug_log("Worker not available",e),!1;if(e.workerID=t.id,e.mainThreadData){var r=o.unique_key();o.ww.mainThreadData[r]=e.mainThreadData,e.mainThreadData=r}var n=e.transferable?[e]:void 0;t.taskQueue.push({data:e,transferable:n}),o.ww.debug_log("Task added to queue",t,e),t.isBusy||o.ww.runNextTask(t),o.endT(arguments)},runNextTask:function(e){if(!e.taskQueue.length)return;const{data:r,transferable:n}=e.taskQueue.shift();r.data&&r.data.get_last_save_time&&(r.data.last_save_time=t.uiData.non_section.last_save_time),e.queueCount++,e.queue.push(r.taskName),e.isBusy=!0,e.worker.onmessage=o.ww.taskComplete,e.worker.postMessage(r,n),o.ww.debug_log("Worker is executing task",r)},runMainThreadCallback:function(e,t){var r=e.ref.split("."),n=o.checkObject(TvrMT,r);if(n){var i=[t];t.mainThreadData&&i.push(o.ww.mainThreadData[t.mainThreadData]),e.args&&(i=i.concat(e.args)),o.ww.debug_log("Running callback function",t,{name:e.funcName,args:i}),n[e.funcName].apply(this,i)}},taskComplete:function(t){o.startT(arguments);var r,n=t.data,i=n.cb,a=o.ww.getChannelList(n);o.ww.debug_log("Worker task complete",n);for(var s=0;s<a.length;s++)if((r=a[s]).id===n.workerID){r.queueCount--,r.queue.shift(),o.ww.debug_log("QueueCount decremented",n,r);break}i&&!n.failure&&o.ww.runMainThreadCallback(i,n),n.failure&&n.cb_failure&&o.ww.runMainThreadCallback(n.cb_failure,n),n.cb_complete&&o.ww.runMainThreadCallback(n.cb_complete,n),n.mainThreadData&&(delete o.ww.mainThreadData[n.mainThreadData],o.ww.debug_log("Deleted main thread data key",n.mainThreadData,e.extend(!0,{},o.ww.mainThreadData))),r&&(r.isBusy=!1,n.terminateOnCompletion&&!r.taskQueue.length?(o.ww.terminateWorkerItem(r),o.ww.debug_log("Terminated worker after task completion",n)):o.ww.runNextTask(r)),o.endT(arguments)},preload:function(){var e={channel:"async",taskName:"initWorkers",terminateCurrent:!0,terminateOnCompletion:!0};o.ww.assignTask(e),o.ww.debug_log("Preloaded web worker to cache scripts in browser",e)}},fileExists:function(e){let t=new XMLHttpRequest;return t.open("HEAD",e,!1),t.send(),404!==t.status},definedOrDefault:function(e,t,r){return void 0!==e[t]?e[t]:r},EventHandlerClass:class{constructor(){this.functionMap={}}addEventListener(e,t,r){r=r||document,this.functionMap[e]=t,r.addEventListener(e.split(".")[0],this.functionMap[e])}removeEventListener(e,t){(t=t||document).removeEventListener(e.split(".")[0],this.functionMap[e]),delete this.functionMap[e]}},downloadObjectAsJson:function(e,t){var r="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(t)),n=document.createElement("a");n.setAttribute("href",r),n.setAttribute("download",e+".json"),document.body.appendChild(n),n.click(),n.remove()},get_section_css:function(e,r,n,i,a,s){if(!n)return"get_section_css";let l=!(!e||!e.targetSelector)&&e.targetSelector,c="",u=t.uiData[i],d=u?u.this.label:"";if(!s&&a&&d&&e.includeFolderComment){let e=u?u.this.logic:"",t="",r=n.this.disabled;if(e||r){let n=structuredClone(e);r&&(n.disabled=1),t=" "+o.config_obj_to_string(n,"** MT")}c+="/*= "+d+t+" "+o.eq_str(d+t)+" */\n\n"}return Object.entries(n).forEach((([t,r])=>{("this"!==t&&!l||t===l)&&(c+=o.get_selector_css(e,t,r,u,a,d))})),c},get_selector_css:function(e,t,r,n,i,s){let l="",c=n[t],u="",d=o.checkObject(r,["compiled_css"]);if(!d&&i&&(d=c.label.split("|")[1]+" {}"),d){if(i&&(d=o.strip_important_prefixes(d)),s&&c.label){let e=c.label.split("|")[0],t="";r.disabled&&(t=" "+o.config_obj_to_string({disabled:1},"** MT")),u="/** "+s+" >> "+e+t+" **/\n"}l+=u+d,l+=a.maybeAppendSnippets(r)}return l},strip_important_prefixes:function(e){return e=e.replace(/^\s*-\b(?:webkit|moz|ms-|o-)[^;]*;\s*$/gm,""),parseInt(t.pref.css_important)&&(e=e.replace(/\s*!important/g,"")),e},get_js_object_data:function(e,r,n,i){var a=[];return"all-devices"!==r&&(a=["m_query",r]),n&&(a=["important"].concat(a)),a.length&&(e=["non_section"].concat(a,e)),{data:i?null:o.checkObject(t.uiData,e),levels:e}}};return e.extend(!0,o,window.MTMainAndWorker),window.MTMainAndWorker.set_worker_and_main_common_reference(o),o}()})),jQuery(document).ready((function(e){TvrMT.init=function(){var t,r,n,i,a,o,s,l,c,u,d,p,f={set_vars:function(){r=TvrMT.TvrCom,t=TvrMT.TvrUi,n=TvrMT.MTF,i=TvrMT.mod.MTace,TvrMT.mod.MTint,TvrMT.mod.MTloop,a=TvrMT.mod.MTdd,o=TvrMT.mod.MTsave,TvrMT.mod.MTsass,s=TvrMT.mod.MTgrid,l=TvrMT.mod.MTfolder,c=TvrMT.mod.MTwidget,u=TvrMT.mod.MTlayout,d=TvrMT.mod.MTai,p=TvrMT.mod.MThtml,TvrMT.MTdetached,TvrMT.tvrsprintf=window.tvrsprintf},add_listeners:function(){f.set_vars(),r.startT(arguments),window.MTMainAndWorker.setWorkerObjectRefs(TvrMT),r.ww.preload(),o.setup_ajax_queue(),t.catch_js_errors(),t.setup_keyboard_shortcuts(t.stat.doc),t.reset_global_vars(),t.mqs=t.adjust_mqs_for_unit(TvrMQsCombined),r.init_specificity(),window.onbeforeunload=function(e){if(t.pendingAutoSave())return"Exit even though changes have not been saved?"},MTlocal.setup_event_listeners(!1),r.startT("init full screen events"),t.stat.doc.addEventListener("fullscreenchange",r.full_screen_changed),t.stat.doc.addEventListener("webkitfullscreenchange",r.full_screen_changed),t.stat.doc.addEventListener("mozfullscreenchange",r.full_screen_changed),t.stat.doc.addEventListener("MSFullscreenChange",r.full_screen_changed),r.endT("init full screen events"),t.stat.doc.addEventListener("selectionchange",(function(r){c.maybe_update_slidable_pieces(e(t.stat.doc.activeElement),r)})),e.widget("custom.MTdraggable",e.ui.draggable,{_mouseCapture:function(t){var r=this.options;return!(this.helper||r.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blockFrames(!0===r.iframeFix?"iframe":r.iframeFix),!0))}}),t.stat.curSelInput.on("blur",(function(){t.selectorLabelEditing&&t.save_selector_label_edit(!0)})),e("#left-column-options").on("input.tvr propertychange.tvr",(function(){u.set_num_columns(e(this).val(),"left")})),e("#right-column-options").on("input.tvr propertychange.tvr",(function(){u.set_num_columns(e(this).val(),"right")})),e("#mt-logic-expressions").on("input.tvr",(function(){l.logic_textarea_changed(e(this))})),t.stat.searchFoldersInput.on("input.tvr propertychange.tvr",(function(){t.search_folders(e(this).val(),!0)})),t.bothSuggestionAreas().on("focus","input.sug-sel",(function(){t.stat.currentFolderItem.addClass("sug-sel-focussed")})).on("blur","input.sug-sel",(function(){t.stat.currentFolderItem.removeClass("sug-sel-focussed")})),t.EventHandler=new r.EventHandlerClass,r.startT("init mouseup event"),t.stat.$doc.on("mouseup.tvr",(function(e){t.aceClick&&(0!==t.aceClick.container.height()-t.aceClick.orig_height&&i.eds["adaptable-editor"].resize(),t.aceClick=!1)})),r.endT("init mouseup event"),t.refresh_sortable(),t.stat.breadcrumbs.draggable({containment:"parent",stop:function(){}}),u.make_sidebars_draggable(),c.init_slider(),t.stat.opts[0].onwheel=function(e){if(e.altKey&&(e.preventDefault(),t.mouseWheelAltAction=!0),t.mouseOverInput&&e.altKey){var r=t.mouseOverInput;r.hasClass("mt-slider")?(c.ensure_slider_connected(r),c.increment_change(e,e.deltaY>0)):r.next(".combo-arrow").hasClass("on")||t.cycleDrowndownValues(r,e,r.next(".combo-arrow").hasClass("on"))}},r.startT("init mouseenter event"),t.stat.body.on("mouseenter",".property-input, tr.mixed-val, div.grid-canvas, div.type-nth-item, .ui-tooltip, .ui-menu, .highlight-preview, .mt-menu-icon.item-toggle-highlighting, li.mt-screen-preview, a.supported-item",(function(i){var a=!1,o=!1,s=!0,l=e(this),u=l.attr("class"),d=!1;if(!u)return!1;if(u.indexOf("ui-tooltip")>=0)MTlocal.clean_tooltips();else if(u.indexOf("ui-menu")>=0)c.stat.set.addClass("user-hovers-combo");else if(u.indexOf("property-input")>=0)t.adjust_comp_span(l,"hover"),t.mouseOverInput=l;else if(u.indexOf("mt-screen-preview")>=0)t.get_local_window_function("set_screen_preview")(l,"hover");else if(u.indexOf("mixed-val")>=0)t.mixedElKey=l.attr("rel"),a="mixed-hover";else if(u.indexOf("grid-canvas")>=0)l.addClass("user-interacting");else if(u.indexOf("type-nth-item")>=0){if(t.nthItemIndex=parseInt(l.data("nth"))-1,!t.grid.items[t.nthItemIndex])return!1;parseInt(t.pref.mt_highlight)||(d=!0),a="grid-nth-item",s=!1}else if(u.indexOf("highlight-preview")>=0)o=l.parent().next().attr("title"),a="sel-preview",d=!0;else if(u.indexOf("item-toggle-highlighting")>=0){if(r.hasValue(t.selInFocusID))o=t.get_meta(e("#"+t.selInFocusID),"selector").selectorM.find("span.selector-name").attr("title"),a="reg"}else if(u.indexOf("supported-item")>=0){let r=e("#condition-clipboard-icon"),n=e("#phpSyntax").offset(),i=l.offset();i.top-=n.top,i.left-=n.left,i.left+=l.outerWidth()-16,r.css({top:i.top+"px",left:i.left+"px"}),t.hoveredConditionItem=l}a&&(t.iframeEditing()&&d&&n.stat.html.addClass("mt-hide-primary-overlay"),t.feature_on(0,"mt_highlight",{tmp:!parseInt(t.pref.mt_highlight),offFirst:{fHTML:1,noSave:1},fHTML:1,noSave:1,con:a,css:o,scroll:s}))})),r.endT("init mouseenter event"),r.startT("init mouseleave event"),t.stat.tvr.on("mouseleave",".property-input, tr.mixed-val, div.grid-canvas, div.type-nth-item, .ui-menu, .highlight-preview, .mt-menu-icon.item-toggle-highlighting, .sp-container, li.mt-screen-preview, ul.supported-functions-list",(function(){var i=e(this),a=i.attr("class");if(!a)return!1;a.indexOf("grid-canvas")>=0&&i.removeClass("user-interacting");var o=a.indexOf("type-nth-item")>=0;if(o&&(t.nthItemIndex=!1),a.indexOf("property-input")>=0)t.mouseOverInput=!1,t.adjust_comp_span(i,"after");else if(a.indexOf("ui-menu")>=0)c.stat.set.removeClass("user-hovers-combo");else if(a.indexOf("mt-screen-preview")>=0)t.get_local_window_function("unset_screen_preview")(i,"hover");else if(a.indexOf("mixed-val")>=0||o||a.indexOf("highlight-preview")>=0||a.indexOf("item-toggle-highlighting")>=0&&r.hasValue(t.selInFocusID)){var s=!0;"turnedOn"===t.tmp.mt_highlight&&(t.tmp.mt_highlight=!1,s=!1),t.feature_off(0,"mt_highlight",{fHTML:1,noSave:1,onAgain:s?{fHTML:1,noSave:1,con:"intelli",scroll:1}:0}),t.iframeEditing()&&n.stat.html.removeClass("mt-hide-primary-overlay")}else a.indexOf("supported-functions-list")>=0&&(e("#condition-clipboard-icon").css({top:"-999px"}),t.hoveredConditionItem=!1)})),r.endT("init mouseleave event"),r.startT("init MQs sortable"),e("#mq-list, #enq_js-dyn-menu, #mqs-dyn-menu").sortable({cursor:"move",handle:".sortable-icon",helper:"clone",revert:200}),r.endT("init MQs sortable"),r.startT("init MQs validation check"),e("#edit-media-queries-form, #mt-enqueue-js, #microthemer_ui_settings_import, #microthemer_ui_settings_export").on("submit",(function(){return!1})),r.endT("init MQs validation check"),t.load_visual_view(e("#load-visual")),t.stat.adaptableEditor.on("click",(function(){t.draftSelector.ace.editorClickCancelsDeferSave=!0})),window.MTBroadCast&&parseInt(t.pref.sync_browser_tabs)&&MTBroadCast.init(),t.stat.tvr.on("click",(function(n){var f=e(n.target);try{if(!(h=f.attr("class")))var h="tvr-undefined"}catch(e){}if(t.close_all_expanded(f,h),t.ua_detected(),h.indexOf("no-click")>=0)return!1;let _=f.data("mtc");if(_){let e=_.split("."),t=r.checkObject(TvrMT,e);t&&t(f)}else if(h.indexOf("fake-checkbox")>=0||h.indexOf("fake-radio")>=0)r.toggle_radio_checkbox(f);else if("email-error"===f.attr("id"))t.email_error_report();else if(h.indexOf("property-input")>=0||h.indexOf("mt-supplementary-picker")>=0)h.indexOf("mt-color-picker")>=0&&(f.hasClass("bound")||t.colorpicker_bind(f,!0)),MTlocal.clean_tooltips();else if(h.indexOf("dismiss-status")>=0)o.clear_messages();else if(h.indexOf("mt-save-action")>=0)t.keyboard_save_action(n,"manual");else if(h.indexOf("mt-publish-action")>=0)o.publish_settings();else if(h.indexOf("tvr-pop-toggle")>=0){var g=f.parent();g.hasClass("trigger-click")&&(g.hasClass("active")?g.removeClass("active"):g.addClass("active"))}else h.indexOf("main-menu-tip-trigger")>=0?t.toggle_main_menu(f):h.indexOf("sel-hierarchy-input")>=0?t.show_selector_label_edit():h.indexOf("save-selector-label")>=0?t.save_selector_label_edit():h.indexOf("cancel-selector-label-edit")>=0?t.cancel_selector_label_edit():h.indexOf("mt-change-page")>=0?t.toggle_preview_page_menu(f):h.indexOf("css-code-wrap")>=0||(h.indexOf("mt-screen-preview")>=0?t.toggle_screen_preview(f):h.indexOf("save-javascript-button")>=0?o.save_javascript(f):h.indexOf("show-dialog")>=0?t.show_dialog(f):h.indexOf("close-dialog")>=0?t.close_dialog(!1,f):h.indexOf("dialog-section-tab")>=0?t.dialog_section_tab_pressed(f):h.indexOf("dialog-tab")>=0&&h.indexOf("dialog-tabs")<0&&h.indexOf("dialog-tab-field")<0?t.dialog_tab_pressed(f):h.indexOf("view-import-stylesheet")>=0?a.update_import_css_preview(!1,{c:f},"loadNew"):h.indexOf("refresh-stylesheet-list")>=0?t.refresh_stylesheet_list(f):h.indexOf("view-import-stats")>=0?a.process_css_import(f,"preview-stats"):h.indexOf("delete-item")>=0?t.delete_item(f):h.indexOf("edit-item")>=0?t.toggle_edit_item(f):h.indexOf("reveal-hidden-form-opts")>=0?t.reveal_form_opts(f):h.indexOf("folder-reset")>=0?t.ui_reset(f):h.indexOf("clear-css-filters")>=0?t.clear_css_filters():h.indexOf("force-styles-analysis")>=0?t.force_styles_analysis():h.indexOf("save-revision")>=0&&t.toggle_revision_save_status(f));if(h.indexOf("show_total_times")>=0&&(console.log("# START TOTAL TIMES"),console.log(r.showT("all",f.prevAll("input").val())),console.log("# END TOTAL TIMES")),h.indexOf("menu-input-toggle")>=0)t.toggle_system_menu_options(f);else if(h.indexOf("item-clear-console-logs")>=0)r.clear_console();else if(h.indexOf("change-preview-url")>=0)t.change_preview_url(f);else if(h.indexOf("program-settings-icon")>=0)t.toggle_program_menu(f);else if(h.indexOf("ai-expand-toggle")>=0)t.toggle_ai_panel(f);else if(h.indexOf("ai-send-prompt")>=0)d.sendPrompt(f,{requestContext:d.requestContext});else if(h.indexOf("ai-feedback-thumb")>=0)d.voteCast(f);else if(h.indexOf("ai-new-task")>=0)d.resetTask("New chat started");else if(h.indexOf("export-dialog-button")>=0)o.export_settings(f);else if(h.indexOf("ui-import")>=0)o.import_settings();else if(h.indexOf("save-preferences")>=0)o.save_preferences();else if(h.indexOf("update-media-queries")>=0)o.save_media_queries();else if(h.indexOf("update-enqjs")>=0)o.save_enq_js();else if(h.indexOf("reveal-unlock")>=0)e("#tvr_validate_form").addClass("show"),f.parent("p").hide();else if(h.indexOf("explain-link")>=0)t.toggle_help_info(f);else if(h.indexOf("restore-link")>=0)t.restore_rev(f);else if(h.indexOf("selector-count-state")>-1||h.indexOf("folder-count-wrap")>-1||h.indexOf("section-name")>-1||h.indexOf("folder-state-count")>-1)t.toggle_folder(f);else if(h.indexOf("mt-search-entry")>=0)t.search_entry_clicked(f);else if(h.indexOf("sec-in-focus")>=0)t.toggle_main_menu(f);else if(h.indexOf("new-item-add")>=0)t.dyn_add_item(f);else if(h.indexOf("add-section-button")>=0)t.add_section(f.closest(".mt-folder-form").find(".add-section-label-input").val());else if(h.indexOf("edit-section-button")>=0)t.action_rename_section(f);else if(h.indexOf("test-folder-logic")>=0)l.save_folder_logic(f,!0);else if(h.indexOf("initial-auto-folder")>=0){let t=f.data();l.setInitialAutoFolder(e.extend(!0,a.inputs_to_data(f.closest(".cm-switch-folder-mode")),{sectionSlug:t.slug,sectionH:f.text(),logic:{expr:t.expr},closeContextMenu:!0}))}else if(h.indexOf("clear-folder-logic")>=0)l.clear_folder_logic(f);else if(h.indexOf("view-test-url")>=0)l.view_test_url(f);else if(h.indexOf("copy-section")>=0)t.copy_section(f);else if(h.indexOf("delete-section")>=0)t.delete_section(f);else if(h.indexOf("add-folder-toggle")>=0)t.toggle_folder_add_options(f);else if(h.indexOf("toggle-ai-advanced")>=0)d.toggleSettings(f);else if(h.indexOf("toggle-folder-more-options")>=0)t.toggle_folder_more_options(f);else if(h.indexOf("toggle-advanced-options")>=0)l.toggle_advanced_options(f);else if(h.indexOf("toggle-popdown-content")>=0)l.toggle_popdown_content(f);else if(h.indexOf("condition-clipboard-icon")>=0)l.copyConditionText(f);else if(h.indexOf("binary-button-option")>=0)t.binary_button_clicked(f);else if(h.indexOf("add-logic-button")>=0)l.addLogicalCondition(f);else if(h.indexOf("close-logic-testing")>=0)l.hide_logic_testing_table();else if(h.indexOf("view-current-folder-options")>=0)t.viewCurrentFolderLoading();else if(h.indexOf("snippet-code")>=0)p.maybeInitNewSnippet(f);else if(h.indexOf("snippet-choice-option")>=0)p.snippetChoiceMade(f);else if(h.indexOf("add-selector-button")>=0)t.add_selector(!1,f,!1,{doNotBringStylesTop:1});else if(h.indexOf("edit-selector-button")>=0)t.action_modify_selector(!1,f);else if(h.indexOf("copy-selector")>=0)t.copy_selector(f);else if(h.indexOf("delete-selector")>=0){(y=t.get_meta_for_context(f,"selector")).selectorID===t.draftSelector.atts.id||t.retargetSelector&&y.selectorID===t.retargetSelector.id?(t.cancel_draft_selector_edit(!0),t.close_context_menu({filter:".cm-selector-options"})):t.delete_selector(f)}else if(h.indexOf("retarget-selector")>=0)t.retarget_selector(f);else if(h.indexOf("change-selector")>=0)t.tvr_iterate_selectors_v(f.closest(".selector-tag")),t.hide_folders_or_settings("folders","left");else if(h.indexOf("scroll-buttons")>=0)t.quick_nav(f);else if(h.indexOf("cancel-current-selector-edit")>=0)t.cancel_draft_selector_edit(!t.retargetSelector);else if(h.indexOf("adv-main-label")>=0)t.toggle_adv_wizard();else if(h.indexOf("refine-button")>=0&&h.indexOf("disabled")<0)t.dom_arrow_clicked(f,n);else if(h.indexOf("wizard-update-cur")>=0)t.save_draft_selector(!0,!0);else if(h.indexOf("pg-icon")>=0)t.pg_icon_pressed(f);else if(h.indexOf("css-tab")>=0&&h.indexOf("active")<0)t.css_tab_pressed(f);else if(h.indexOf("adv-tab")>=0&&h.indexOf("active")<0)t.adv_tab_pressed(f);else if(h.indexOf("ai-tab")>=0&&h.indexOf("active")<0)d.tabPressed(f);else if(h.indexOf("mt-group-menu-toggle")>=0)t.toggleGroupMenu(f);else if(h.indexOf("add-multi-tab")>=0)t.addMultiTab(f);else if(h.indexOf("toggle-action-aspect")>=0)p.toggleActionAspect(f);else if(h.indexOf("cprop-text")>=0||h.indexOf("cprop-snippet")>=0)p.placeholderOverlayClicked(f);else if(h.indexOf("add-npm-dependency")>=0)p.npm.addDependency(f,null,!0);else if(h.indexOf("browse-package-addons")>=0)p.npm.browseAddons(f);else if(h.indexOf("copy-import-syntax")>=0)p.npm.copyImportSyntax(f);else if(h.indexOf("edit-dependency")>=0)p.npm.toggleFieldForm(f);else if(h.indexOf("update-npm-dependency")>=0)p.npm.updateDependency(f);else if(h.indexOf("delete-dependency")>=0)p.npm.deleteDependency(f);else if(h.indexOf("add-snippet-dependency-icon")>=0)p.npm.addSnippetDependency(f);else if(h.indexOf("snippet-remove-package-icon")>=0)p.npm.removeSnippetDependency(f);else if(h.indexOf("snippet-disable-package-icon")>=0)p.npm.disableSnippetDependency(f);else if(h.indexOf("close-tvr-install-button")>=0)p.closeInstallPopup(f);else if(h.indexOf("install-detected-npm")>=0)p.installDetectedPackages(f);else if(h.indexOf("install-addon")>=0)p.installThemeoverAddon(f);else if(h.indexOf("trigger-microthemer-addon")>=0)p.showInstallPopup(".microthemer-addon-content","Install Microthemer (Addon)");else if(h.indexOf("multi-tab")>=0&&h.indexOf("active")<0&&h.indexOf("multi-tabs")<0)t.multi_tab_pressed(f);else if(h.indexOf("mt-expandable-heading")>=0)t.toggle_expandable_panel(f);else if(h.indexOf("active")<0&&h.indexOf("pg-tab")>=0&&h.indexOf("mt-tab")>=0||h.indexOf("pg-tab-txt")>=0){var m=f.closest(".mt-tab"),v=m.data("pg");t.pg_tab_pressed(m,v,!0)}else if(h.indexOf("clear-all-grid-styles")>=0)s.clear_all_grid_styles(f);else if(h.indexOf("grid-stack-item")>=0||f.parent().hasClass("grid-stack-item"))s.canvas_item_clicked(f);else if(h.indexOf("tvr-add-template-area")>=0)s.add_template_area(f);else if(h.indexOf("mtss-button")>=0)c.increment_change(n,!f.hasClass("mtss-incr-button"));else if(h.indexOf("mtss-current-unit")>=0)c.toggle_unit_menu(f);else if(h.indexOf("mt-unit-item")>=0)c.css_unit_clicked(f);else if(h.indexOf("mt-prop-unit")>=0)c.toggle_unit_menu_shortcut(f);else if(h.indexOf("back-to-properties")>=0)u.back_to_property_groups(f);else if(h.indexOf("toggle-editor-options")>=0)t.toggle_editor_options(f);else if(h.indexOf("beautify-editor-code")>=0)i.beautify_editor_content(i.eds["adaptable-editor"]);else if(h.indexOf("mq-tab")>=0)f=f.closest("span.mq-tab"),t.mq_tab_pressed(f);else if(h.indexOf("external-video-thumb")>=0||h.indexOf("external-video-watched-toggle")>=0)t.external_video_clicked(f,n);else if(h.indexOf("mt-manual-error-report")>=0)t.maybe_send_error_report(!0,f);else if(h.indexOf("toggle-preview-report-data")>=0)t.toggle_preview_error_report();else if(h.indexOf("download-preferences")>=0)t.download_preferences();else if(h.indexOf("edit-responsive-tab-button")>=0)t.update_single_responsive_tab(f);else if(h.indexOf("devices-context-menu-trigger")>=0)t.toggle_responsive_tab_options(f);else if(h.indexOf("clear-icon")>=0)t.clear_data_level(f);else if(h.indexOf("tvr-image-upload")>=0)t.launch_img_uploader(f);else if(h.indexOf("clear-bg-image")>=0)t.clear_bg_image(f);else if(h.indexOf("combobox")>=0)t.combobox_clicked(f,n);else if(h.indexOf("css-info")>=0)t.load_css_ref(f);else if(h.indexOf("mt-combo-icon")>=0||h.indexOf("mt-combo-toggle")>=0)a.combo_icon_clicked(f,n);else if(h.indexOf("input-icon-toggle")>=0)t.input_icon_toggle(f);else if(h.indexOf("play-anim")>=0){var y=t.get_meta(f,"group");t.user_play(a.dom_to_data({M:y,domDepth:"group",mq_key:y.tabSlug}),f,"buttonClick")}else h.indexOf("mt-scroll-row")>=0?t.scroll_row(f):h.indexOf("gui-shortcut")>=0?i.go_to_ui_property():h.indexOf("add-variable-field")>=0?t.add_variable_field(f,n):h.indexOf("toggle-optional-input")>=0?t.toggle_optional_input(f):h.indexOf("nth-radio-control")>=0?s.update_nth_item_focus(f,!0):h.indexOf("refresh-html-pane")>=0?t.refresh_html_pane():h.indexOf("mt-bc-item")>=0?t.breadcrumb_clicked(f,n):h.indexOf("toggle-cm-using-atts")>=0?t.toggle_context_menu_using_atts(f):h.indexOf("mt-variation-option")>=0&&t.switch_selector_variation(f)})),r.endT(arguments)}};return f}()})),jQuery(document).ready((function(e){TvrMT.mod.MTace=function(){var t,r,n,i,a,o,s,l,c,u,d={count:0,eds:{},markers:{},editorCursorPos:{},lastEditedProperty:{},propertyFocusAfterLoad:{},code_font_size:14,code_line_height:16,themes:{light:"mt_light",dark:"mt_dark"},set_vars:function(){r=TvrMT.TvrCom,t=TvrMT.TvrUi,n=TvrMT.MTF,i=TvrMT.mod.MTint,a=TvrMT.mod.MTloop,o=TvrMT.mod.MTdd,s=TvrMT.mod.MTsave,l=TvrMT.mod.MTlayout,c=TvrMT.mod.MThtml,u=TvrMT.mod.MTai,d.code_font_size=parseInt(t.pref.code_font_size),d.code_line_height=Math.round(1.1428*d.code_font_size)},ace_find_text:function(r,n,i,a){var o={needle:"",backwards:"findPrevious"===i,wrap:!1,caseSensitive:!1,wholeWord:!1,range:null,start:null,regExp:!1,skipCurrent:"findNext"===i||"findPrevious"===i};r=e.extend({},o,r);var s,l,c=(new t.Search).set(r),u=n.getSession();switch(i){case"find":case"findNext":case"findPrevious":s=c.find(u);break;case"findAll":s=c.findAll(u)}if(s&&void 0!==a)if("findAll"===i)for(var d=0;d<s.length;d++)l=s[d],n.session.replace(l,a);else l=s,n.session.replace(l,a);return s},select_text:function(e,t,r){if(t){let n=d.ace_find_text({needle:e},t,"findPrevious");n&&t.selection.setSelectionRange(n),r&&t.focus()}},get_selection_text:function(e){r.startT(arguments);var t={};return t.selection=e.getSelectionRange(),t.startIndex=e.session.doc.positionToIndex(t.selection.start,0),t.endIndex=e.session.doc.positionToIndex(t.selection.end,0),t.selected=t.endIndex!=t.startIndex?1:0,r.endT(arguments),t},intersects:function(e,t,n,i,a){if(r.startT(arguments),n)return r.endT(arguments),t.intersects(n);var o=0;for(var s in i)if(i[s]>=t.start.row&&i[s]<=t.end.row){o=1;break}if(o&&a)for(var s in o=0,a)if(a[s]>=t.start.column&&a[s]<=t.end.column){o=1;break}return r.endT(arguments),o},set_code_wrap:function(e,t){e.setOptions({wrap:t,indentedSoftWrap:t})},scroll_to_col:function(e,t){var r=e.session.getLine(t).match(/(\s)\S/);if(r){var n=6*(r.index-1);e.session.setScrollLeft(n)}},get_focus_editor:function(){return d.eds["adaptable-editor"]},get_editor:function(e,t){return r.startT(arguments),t&&(e=e.next("pre")),r.endT(arguments),d.eds[e.attr("id")]},get_selector_editor_textarea:function(n){if(n=n||!!t.selInFocusID&&e("#"+t.selInFocusID),!r.isDomEl(n))return{};var i=n.find("textarea.tvr-editor-hidden");return{contentIdentifier:i.closest(".property-tag").attr("id"),$textarea:i}},get_full_code_editor_textarea:function(){var r="css-"+t.get_css_focus();return{contentIdentifier:r,$textarea:e("#"+r)}},get_editor_height:function(e){t.aceClick={container:e,orig_height:e.height()}},editor_update_height:function(n,i,a,o,s){r.startT(arguments);var c=d.code_font_size*d.code_line_height;a=a<=c||o?a:c,"snippet-code"===s?e("#snippet-code").height(a):t.stat.inlineEditor.height(a),n.resize();var u=n.getCursorPosition(),p=n.session.getLength()-1,f=p>n.session.getScrollTop()/d.code_line_height+d.code_font_size,h=u.row+2>=p;f&&h&&n.scrollToLine(p+1,!0,!1),"snippet-code"!==s&&l.toolbar_adjusted(),r.endT(arguments)},editor_line:function(e,t){r.startT(arguments);for(var n=e.getSelectionRange().end.row,i=TvrLang.editor_updated,a=n;a>-1;a--){var o=e.session.getLine(a).trim();if(""!=o){i=o;break}}return r.endT(arguments),i},init_editor_deps:function(e){r.startT(arguments),t.Range=ace.require("ace/range").Range,t.Search=ace.require("ace/search").Search,t.TokenIterator=ace.require("ace/token_iterator").TokenIterator,t.SB=ace.require("ace/ext/searchbox"),ace.require("ace/ext/language_tools"),r.endT(arguments)},bind_editor:function(n,i){r.startT(arguments);var a,o=i.filterClass,p=i.mode,f=i.M;i.directContent;return n.find("pre."+o+":not(.ace_editor)").each((function(){var n=e(this),o=n.attr("id"),h=d.initiate_editor(o,p);a=d.set_editor_content(n,h,i),d.update_editor_gutter(h),d.set_code_wrap(h,!0),h.session.setUndoSelect(!1),"adaptable-editor"===o&&(h.session.doc.on("change",(function(e){if(t.draftSelector.ace.editorClickCancelsDeferSave&&(d.reselectElementAsBlue=1,t.draftSelector.ace={}),t.gui_to_editor_running)return!1;if(!i.arbEditor){if(l.editor_height_auto_settable(o)){var r=h.session.getLength();d.editor_update_height(h,n,r*d.code_line_height),a=r}d.MTupdatingAdaptableEditor||d.ace_sync_textarea(n,h,o,f)}})),h.on("changeSelection",(function(e){t.pref.show_code_editor?d.isCSSEditor(h)&&(t.elementIsBeingSelected||r.action_after_timeout("editor_cursor_change",100,{item:function(e){e.isFocused()&&d.maybe_update_code_selector_highlight(e)},args:[h]}),r.action_after_timeout("record_cursor_pos",1500,{item:function(e,n){var i=["non_section","meta","fullCodeCursorPos"];r.updateObject(t.uiData,i,n),s.silent_save("",[{trail:i,action:"replace",data:n}])},args:[h,h.getCursorPosition()]})):d.MTupdatingAdaptableEditor||r.action_after_timeout("editor_cursor_change",100,{item:d.update_gui_shortcut_from_ace_line,args:[h]})}))),"ai_code"===o?(h.renderer.setShowGutter(!1),h.session.doc.on("change",(function(n){u.syncingAICode||r.action_after_timeout("ai_editor",t.inputTypingInterval,{item:function(){let t=e("#ai-editor-tabs").find(".ai-tab.active").attr("rel"),r=d.editor_line(h);u.sketchpad[t]=h.session.getValue(),u.skipAiSync?u.skipAiSync=0:u.syncAICode(u.sketchpad,!1,r)}})}))):"snippet-code"===o?(c.updateEditorHeight(),n.prev("textarea").val(i.directContent),h.session.doc.on("change",(function(e){c.updateEditorHeight(),c.skipEditorChangeSave?c.skipEditorChangeSave=!1:r.action_after_timeout("snippet_editor_changed",t.inputTypingInterval,{item:function(){let e=n.prev("textarea");e.val(h.session.getValue()),s.ajax_save_settings({$property:e})}})})),h.on("paste",(function(e){let t=h.getCursorPosition(),r=h.getCursorPosition();setTimeout((function(){c.beautifyPaste({code:h.session.getValue(),mode:d.get_editor_mode(h),cursorBeforePaste:t,cursorAfterUglyPaste:r},!1,t,r)}),0)}))):"wizard_inspector_html"===o&&h.session.on("changeScrollTop",(function(e){var t="user-scroll-html";d.autoScrollHTML&&(t="auto-scroll-html",d.autoScrollHTML=!1),d.linksAddedForViewport?d.linksAddedForViewport=!1:d.update_pseudo_els({action:t,e:e})}))})),r.endT(arguments),a},getWrappedLineCount:function(e){let t=e.getSession(),r=0;for(let e=0;e<t.getLength();e++){r+=t.getRowLength(e)}return r},update_parsed_full_code_selectors:function(e,r){var n=t.parse_editor_selectors(t.uiData.non_section.hand_coded_css);if(n){var i={action:"replace",trail:["non_section","meta","fullCodeSelectors"],data:n};e?a.updateObjectAndSavePackage(e.savePackage,i):s.silent_save("",[i]),r&&d.reselectElementAsBlue&&(d.reselectElementAsBlue=0,d.maybe_update_code_selector_highlight(!1,!1,!0,!0))}},resume_editor_cursor_pos_and_select:function(e){var n=d.eds["adaptable-editor"];if(e=r.isDefined(e)?e:r.checkObject(t.uiData,["non_section","meta","fullCodeCursorPos"]),d.isCSSEditor(n)&&n&&e){var i=parseInt(e.row)+1;n.gotoLine(i,e.column,!1),d.maybe_update_code_selector_highlight(n,e)}},update_editor_gutter:function(t){if(t=t||d.get_focus_editor()){var r=t.renderer.getShowGutter(),n=l.show_editor_gutter(t);if(n!==r){t.renderer.setShowGutter(n);let r=e(t.container);return n?r.removeClass("gutter-disabled"):r.addClass("gutter-disabled"),!0}}return!1},go_to_ui_property:function(e,r,n){if(d.lastEditedProperty){var i=e||d.lastEditedProperty.group;"code"!==i&&(d.propertyFocusAfterLoad=d.lastEditedProperty),t.trigger_pg_icon_click(i),t.open_property_dropdown(d.lastEditedProperty,e,r),d.propertyFocusAfterLoad=!1}},get_ace_context:function(){return t.selInFocusID+"-"+t.get_mq_focus()},store_cursor_pos:function(e,t){return e=e||t.getCursorPosition(),d.editorCursorPos[this.get_ace_context()]=e,e},update_gui_shortcut_from_ace_line:function(e,r){var n=e.getCursorPosition(),i=e.session.documentToScreenPosition(n.row,n.column);if(e.isFocused()&&d.store_cursor_pos(n),!t.scss_enabled){if(i.row!==d.prevScreenRow||r){var a=t.stat.inlineEditor.find(".gui-shortcut");if(n.row!==d.prevCursorRow||r){var s=e.session.getLine(n.row);a.css("left",""),d.lastEditedProperty=s?o.code_edited_property(s.trim()):{}}d.lastEditedProperty.group&&a.css({left:"0px",top:i.row*d.code_line_height+"px"})}d.prevCursorRow=n.row,d.prevScreenRow=i.row}},editor_modes:{},log_editor_mode:function(e,t){d.editor_modes[e]=t},initiate_editor:function(e,n){r.startT(arguments);var i=d.eds[e]=ace.edit(e),a=1===parseInt(t.pref.mt_dark_mode)?d.themes.dark:d.themes.light;return i.setTheme("ace/theme/"+a),i.getSession().setMode("ace/mode/"+n),this.log_editor_mode(e,n),i.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}),i.setHighlightActiveLine(!1),i.setShowPrintMargin(!1),i.setFontSize(d.code_font_size),i.container.style.lineHeight=d.code_line_height+"px",i.renderer.updateFontSize(),i.$blockScrolling=1/0,r.endT(arguments),i},update_adaptable_editor:function(e){r.startT(arguments),d.MTupdatingAdaptableEditor=!0,d.set_editor_content(t.stat.adaptableEditor,d.eds["adaptable-editor"],e),d.MTupdatingAdaptableEditor=!1,r.endT(arguments)},set_editor_content:function(e,n,i){r.startT(arguments);var a=i.M,o=i.directContent,s=e.attr("id");if("adaptable-editor"===s){var c=r.isDefined(i.show_code_editor)?i.show_code_editor:t.pref.show_code_editor,u=this.update_ace_sync_details(s,e,c),p=n.getValue();if(!(a&&!l.editor_and_gui())&&"pending"!==p&&!u.contentShouldChange&&!i.contentShouldChange)return d.maybe_resume_editor_focus(n,i),r.endT(arguments),!1}var f=o||e.prev("textarea").val();"adaptable-editor"===s&&(f&&"consolidatedGUI"!==f||(f=""),"css"===a||f||(f=d.empty_selector_code(a))),i.mode&&i.mode!==d.editor_modes[s]&&(n.getSession().setMode("ace/mode/"+i.mode),this.log_editor_mode(s,i.mode)),n.setValue(f,1);var h=n.session.getLength();if(i.M&&"css"!==i.M){var _=h>1?2:1,g=d.editorCursorPos[this.get_ace_context()];g&&!i.dontResumeCursorPos?(n.moveCursorToPosition(g),_=g.row+1):(n.gotoLine(_,0,!1),n.navigateLineEnd())}return"adaptable-editor"===s&&(i.dontResetUndo||n.session.setUndoManager(new ace.UndoManager),l.editor_height_auto_settable(s)?d.editor_update_height(n,e,h*d.code_line_height):n.resize(),"css"!==a&&d.update_gui_shortcut_from_ace_line(n,!0)),d.maybe_resume_editor_focus(n,i),r.endT(arguments),h},empty_selector_code:function(e){return e.selectorCode+" {\n\t\n}"},maybe_resume_editor_focus:function(e,r){parseInt(t.pref.autofocus_editor)&&(e=e||this.get_focus_editor(),(r=r||{}).doNotFocusEditor||t.autocompleteIsOpen||i.active_builders.length||(d.propertyFocusAfterLoad?d.propertyFocusAfterLoad=!1:e.focus()))},ace_sync_details:{},update_ace_sync_details:function(e,t,n){var i,a=!0,o=null,s=null;if("adaptable-editor"===e){var l=n?d.get_full_code_editor_textarea():d.get_selector_editor_textarea();i=l.$textarea,s=this.ace_sync_details.contentIdentifier,a=(o=l.contentIdentifier)!==s}else i=t.prev("textarea");return r.isDomEl(i)?this.ace_sync_details={$textarea:i,prevContentIdentifier:s,contentIdentifier:o,mode:i.data("mode"),contentShouldChange:a,editorType:n?"full":"inline"}:this.ace_sync_details={}},ace_sync_textarea:function(e,n,i,a){r.startT(arguments),e.addClass("changed");var o=n.session.getValue(),s=this.ace_sync_details.$textarea;if(!r.isDomEl(s))return!1;s.val(o),"css-js"===this.ace_sync_details.contentIdentifier||t.draftSelector.ace.deferSave||(t.inputWaitingObj=s,t.timer.ace_typing&&clearTimeout(t.timer.ace_typing),t.timer.ace_typing=setTimeout(d.ace_instant_save,t.aceTypingInterval,this.ace_sync_details.editorType,s,e,!1)),r.endT(arguments)},ace_instant_save:function(e,t,n,i,a,o){r.startT(arguments);var l={$editor:n,noSaveDelay:i,manualSave:o||a,settings:a?{fullSCSSCompile:1}:{}};l["full"===e?"$fullTextarea":"$property"]=t,s.ajax_save_settings(l),r.endT(arguments)},update_arbitrary_editor:function(n){r.startT(arguments);var i=n.tabKey,a=n.editorID,o=e("#"+a),s=d.eds[a];if(n.M=n.M?n.M:"css",n.mode=n.mode?n.mode:o.data("mode"),n.arbEditor=!0,n.directContent||("css"!==n.mode&&"scss"!==n.mode&&(n.data=r.escapeHTML(n.data)),o.prev("textarea").val(n.data)),o.hasClass("ace_editor"))d.set_editor_content(o,s,n);else{if(n.isInitialBind=1,d.bind_editor(o.parent(),n),s=d.eds[a],!n.dontSetHeight){var l=!!n.containerClass&&o.closest(n.containerClass);if(n.editorHeight||l){var c=n.editorHeight?n.editorHeight:l.height();d.editor_update_height(s,o,c,!0)}}n.fontSize&&(document.getElementById(a).style.fontSize=n.fontSize),n.noValidation&&s.getSession().setUseWorker(!1),n.readOnly&&s.setReadOnly(!0),!n.dontWrapText&&s.session.setUseWrapMode(!0),o.hasClass("min")&&(s.session.setOptions({wrap:!0,indentedSoftWrap:!1}),s.session.setWrapLimitRange(null,90)),"wizardHTML"===n.context&&(s.setHighlightActiveLine(!0),d.set_code_wrap(s,!t.pref.dock_wizard_right),s.session.setUseSoftTabs(!0),s.on("click",(function(e){d.ace_to_dom_fast(s,e)})))}if(n.bindOnly)return r.endT(arguments),!1;"wizardHTML"===n.context&&this.map_html_rows_to_dom_indexes(s);var u=1;if("viewCSS"===n.context)if(t.scss_error&&i===r.checkObject(t.generatedCodeTabs,["indexMap","previous-sass-compile"])){t.stat.view.find("span.dialog-tab-"+i);u=t.scss_error.line,s.setHighlightActiveLine(!0)}else n.find=d.current_selector_find_config(n.mode);"wizardHTML"===n.context&&(u=d.getAceRowForTriggerElement(n),d.curWidgetStartRow=u-1),"snippet-code"!==a&&d.find_selector_line(s,a,n,u),r.endT(arguments)},generated_css_auto_line_done:{},current_selector_find_config:function(n){if("js"!==n&&!t.pref.show_code_editor&&t.selInFocusID){var i=t.get_meta(e("#"+t.selInFocusID),"selector"),a=t.get_mq_focus();return{selectorPattern:r.escapeRegExp(i.sectionH+" >> "+i.selectorH),findComment:!0,inMQ:"all-devices"!==a&&a}}return!1},find_selector_line:function(e,n,i,a){var o,s=!1,l={regExp:!0,wrap:!0,range:null};if(i.find){if(e.setHighlightActiveLine(!0),i.find.inMQ){var c=i.find.inMQ,u=r.escapeRegExp("/*( "+t.pref.m_queries[c].label+" )*/");l.needle=new RegExp(u),(o=d.ace_find_text(l,e,"findNext"))&&(l.start=o)}var p=i.find.findComment?"\\/\\*\\* "+i.find.selectorPattern+" \\*\\*\\/":i.find.selectorPattern;if(l.needle=new RegExp(p),o=d.ace_find_text(l,e,"findNext"),s=i.find.selectorPattern,o)a=o.start.row+1;else if(i.findSelectorParts){var f=i.find.selector.split(/,[\s\S]*?/);l.needle=f.pop(),o=d.ace_find_text(l,e,"findNext"),s=l.needle,o&&(a=o.start.row+1)}}if(this.go_to_line_in_editor(a,e,n,i),s){var h=new t.SB.SearchBox(e);h.regExpOption.checked=!0,h.show(s),h.hide()}},getAceRowForTriggerElement:function(e,t){if(!n)return 1;if(e.maintainCurrentLine)return e.maintainCurrentLine;t=t||n.triggerEl,n.triggerElIndex=n.getElIndex(t);var i=r.checkObject(d.aceIndexMap.indexes,[n.triggerElIndex,"row"]);return!!r.isDefined(i)&&i+1},go_to_line_in_editor:function(e,t,n,i){if(!t)return 0;function a(e,t,n,i){if("wizard_inspector_html"===n){if(i.clicked&&i.clicked.range&&e-1===i.clicked.range.start.row&&(e=i.clicked.line),!i.clicked){var a=i.existingSelCSS||i.intelli_css||i.active_css;if(a){var o=r.get_before_after(a,1);if("before"===o)e+=1;else if("after"===o&&r.checkObject(t,["session","getFoldWidgetRange"])){var s=e-1,l=d.getNearestFoldWidgetRange(t,s,{});l&&(e=l.end.row)}}}d.html_line_changed(t,e-1)}d.autoScrollHTML=1,t.resize(!0),t.gotoLine(e,0,!1,i.dontScrollHTML)}return!1!==e&&(i.isInitialBind?r.action_after_repaint({item:a,args:[e,t,n,i]},600):a(e,t,n,i)),e},aceIndexMap:{MTIgnoreRow:null,MTIgnoreIndex:null,indexes:[]},updateAllEditorsTheme:function(e){for(var t=Object.values(d.eds),r=0;r<t.length;r++){t[r].setTheme("ace/theme/"+d.themes[e])}},map_html_rows_to_dom_indexes:function(e){r.startT(arguments);for(var t=e.session.doc.$lines,n=[],i=-1,a=new RegExp(o.reg.opening_html_tag({matchComments:1})),s=!1,l=(TvrMT.integrate.gutenberg,0);l<t.length;l++){var c=t[l].match(a);if(c){var u=c[1],d=c[3],p=c[4];u?s=!u.match(/-->$/):d&&!s&&(++i,p.match(/mt-stuff-ignore/)&&(this.aceIndexMap.MTIgnoreIndex=i,this.aceIndexMap.MTIgnoreRow=l),n[i]={row:l})}}this.aceIndexMap.indexes=n,r.endT(arguments)},update_pseudo_els:function(e,t,i){(e=e||{}).triggerEl=n.triggerEl;var a=e.editor||d.eds.wizard_inspector_html,o=void 0===e.timeout?30:e.timeout;function s(e,n){if(r.startT(arguments),e&&e.session&&e.session.getFoldWidgetRange){var a=d.get_dom_els_between_rows(e,t,i);a&&(d.scan_for_pseudo_els(a),d.update_editor_pseudo_links(n,e,a)),r.endT(arguments)}else r.endT(arguments)}o>0?r.action_after_timeout("update_pseudo_els",o,{item:s,args:[a,e]}):s(a,e)},get_dom_els_between_rows:function(e,t,i){r.startT(arguments),t=void 0!==t?t:e.renderer.getFirstVisibleRow(),(i=void 0!==i?i:e.renderer.getLastVisibleRow())<0&&(i=e.session.doc.$lines.length);for(var a=[],o={},s={},l=t;l<=i;l++)if(!s[l]){var c=d.getNearestFoldWidgetRange(e,l);if(c){var u=r.in_array(c.start.row,d.aceIndexMap.indexes,!1,"row");!1===u||o[u]||(o[u]=1,s[c.end.row]=1,a.push({foldWidget:c,domIndex:u,el:n.N[u],indexAdjust:{before:0,after:0}}))}}return r.endT(arguments),{rowStart:t,rowEnd:i,domElsInView:a}},scan_for_pseudo_els:function(e){r.startT(arguments);for(var t=e.domElsInView,n=["before","after"],i=0;i<t.length;i++){var a=t[i],o=a.el;if(o)for(var s=0;s<n.length;s++){var l=n[s];"none"!==window.getComputedStyle(o,"::"+l).getPropertyValue("content")&&(a[l]=1)}}return r.endT(arguments),e},reverse_sort_pseudo_edits:function(e){for(var t=[],n=["after","before"],i=e.length-1;i>=0;i--)for(var a=e[i],o=0;o<n.length;o++){var s=n[o],l=a.foldWidget,c="before"===s?l.start.row:l.end.row;t.push({el:a.el,pseudoEl:s,row:c,line:c+1,hasPseudo:a[s],adj:0,foldWidget:l})}return t.sort(r.firstBy("row",-1)),t},update_editor_pseudo_links:function(e,i,a){r.startT(arguments);var s=a.domElsInView,l=d.reverse_sort_pseudo_edits(s),c={before:{added:0,removed:0,change:0},after:{added:0,removed:0,change:0},total:{added:0,removed:0,change:0}};a.sortedItems=l;for(var u=0;u<l.length;u++){var p,f=l[u],h=(f.foldWidget,f.row),_=f.pseudoEl,g="::"+_,m=h,v="before"===_?m+1:m-1,y=i.session.getLine(m),b=i.session.getLine(v),w=b.match(new RegExp("::"+_)),T=w&&!f.hasPseudo,x=!w&&f.hasPseudo;if(T||x)var k=y.match(/^(\s*)/),S=k?k[1]:"",C={start:{row:m,column:0},end:{row:m,column:y.length}};if(T)i.session.remove({start:{row:v,column:0},end:{row:v,column:b.length}}),"before"===_?C.end.row++:C.start.row--,i.session.replace(C,y),n.hasPseudo[f.domIndex]&&delete n.hasPseudo[f.domIndex][_],c[_].removed++,c[_].change--,c.total.removed++,c.total.change--;else if(x){var M="  ",A=new RegExp(o.reg.html_tag({tag:"[a-zA-Z0-9]+",capParts:1,closeTagCap:"2"})),O=y.match(A);if(O){var E=O[1],P=O[3],D=""!==P?S+M+P+"\n":"",j=S+M+g+"\n";p=S+E+"\n"+("before"===_?j+D:D+j)+S+O[4]}else p="before"===_?y.replace(">",">\n  "+S+g):y.replace("</",M+g+"\n"+S+"</");i.session.replace(C,p),r.updateObject(n.hasPseudo,[f.domIndex,_],1),c[_].added++,c[_].change++,c.total.added++,c.total.change++}}0!==c.total.change&&(d.map_html_rows_to_dom_indexes(i),e.goToLine&&(d.linksAddedForViewport=!0,e.active_css=e.goToLine,t.update_wizard_html_scroll(e,e.triggerEl))),a.stats=c,a.config=e,r.endT(arguments)},correct_item_row_indexes:function(e,t,r,n){},replace_text_on_fold_widget:function(){},getNearestFoldWidgetRange:function(e,t,r){var n=!1,i=t;(r=r||d.html_line_analysis(e,t)).isPseudo&&(i="before"===r.isPseudo?t-1:t+1);for(var a=i;a>=0&&!((n=e.session.getFoldWidgetRange(a))&&n.start.row<=i&&n.end.row>=i);a--);return n},HTMLLine:{},PrevHTMLLine:{},html_line_analysis:function(e,t){var n=e&&e.session?e.session.getLine(t):"",i=r.regex(o.reg.before_after_html_line(),{match:1,str:n});return{row:t,line:t+1,content:n,isPseudo:!!i&&i[1]}},html_line_changed:function(t,r){return d.PrevHTMLLine=e.extend(!0,{},d.HTMLLine),d.HTMLLine=d.html_line_analysis(t,r),d.HTMLLine},ace_to_dom_fast:function(i,a){r.startT(arguments);var o=i.getCursorPosition(),s=d.html_line_changed(i,o.row),l=this.getNearestFoldWidgetRange(i,o.row,s);if(!l)return!1;var c=r.in_array(l.start.row,this.aceIndexMap.indexes,!1,"row"),u=n.N[c];!u||e(u).is(n.triggerEl[0])&&d.PrevHTMLLine.isPseudo===d.HTMLLine.isPseudo||t.dom_nav_option_used(u,{e:a,dontScrollHTML:!0,wrapjQuery:!0,pseudoSelected:d.HTMLLine.isPseudo,clicked:{line:o.row+1,pos:o,range:l}}),r.endT(arguments)},insertNavLink:function(e,r){var n=r.col?r.col:0;e.gotoLine(r.row+1,n),r.LineEnd&&e.navigateLineEnd(),e.insert(r.str),r.shiftUp&&e.gotoLine(r.row+1,n);var i=e.getCursorPosition(),a=e.session.getTokenAt(i.row,i.column),o=new t.Range;o.start=e.session.doc.createAnchor(i.row,a.start),o.end=e.session.doc.createAnchor(i.row,a.start+a.value.length);var s=r.markerType?r.markerType:"text";d.markers[r.type]=e.session.addMarker(o,"tvr_nav_link ace_layer",s,r.markerFront)},count_editor_selectors:function(e){e||(e=["custom-css-"+t.get_css_focus()]);var r=0;for(var n in e){var i=d.eds[e[n]];if(i){var a=i.session.getValue(),s=o.parse_css(a,!0).stylesheet.rules;r+=d.count_ast_selectors(s,r)}}return r},count_ast_selectors:function(e,t){for(var r in e){var n=e[r],i=n.type;"media"==i||"supports"==i?t=d.count_ast_selectors(n.rules,t):"rule"==i&&++t}return t},sync_related_selectors:function(e,r,n){for(var i,a,s,l,c=0,u=new RegExp("("+o.selector_regex.event_key().source+"|"+o.selector_regex.nth_child({scope:"\\d|n"})+")"),p={needle:u,regExp:!0,start:{row:0,column:0}};a=d.ace_find_text(p,e,"find");){(s=e.session.getTextRange(a).match(u))[3]?(i=s[3],l="nth"):(i=s[2],l="event");var f=d.ace_find_text({needle:"{",start:{row:a.end.row,column:a.end.column}},e,"find"),h=new t.Range(a.start.row,0,f.start.row,f.start.column-1),_=e.session.getTextRange(h),g=a.end.row;if(o.selectors_match(r,o.strip_extra_from_selector(_))){var m,v=o.format_ast_selector(n);"nth"===l?m=o.add_to_poss_comma_selector(v,{nth:i}):"event"===l&&(m=o.maybe_add_event_selector(v,i).join(",\n")),g=e.session.replace(h,m).row}if(p.start={row:g+1,column:0},100==++c)break}},sync_event_selectors:function(e,r,n){for(var i,a,s=0,l={needle:o.selector_regex.event_key(),regExp:!0,start:{row:0,column:0}};i=d.ace_find_text(l,e,"find");){a=e.session.getTextRange(i).match(o.selector_regex.event_key())[1];var c=d.ace_find_text({needle:"{",start:{row:i.end.row,column:i.end.column}},e,"find"),u=new t.Range(i.start.row,0,c.start.row,c.start.column-1),p=e.session.getTextRange(u),f=i.end.row;if(o.selectors_match(r,o.strip_extra_from_selector(p))){var h=o.format_ast_selector(n),_=o.maybe_add_event_selector(h,a).join(",\n");f=e.session.replace(u,_).row}if(l.start={row:f+1,column:0},10==++s)break}},codeAroundCursorAnalysis:function(e,r){e=e||d.eds["adaptable-editor"],r=r||e.getCursorPosition();var n=new t.Range(r.row,r.column,r.row,r.column),i={nextOpeningBrace:d.ace_find_text({needle:"{",start:n},e,"find"),nextClosingBrace:d.ace_find_text({needle:"}",start:n},e,"find"),prevOpeningBrace:d.ace_find_text({needle:"{",start:n,backwards:!0},e,"find"),prevClosingBrace:d.ace_find_text({needle:"}",start:n,backwards:!0},e,"find"),prevMediaSupports:d.ace_find_text({needle:"@(?:media|supports)",regExp:!0,start:n,backwards:!0},e,"find"),prevKeyframes:d.ace_find_text({needle:"@keyframes",regExp:!0,start:n,backwards:!0},e,"find"),prevKF:d.ace_find_text({needle:"(\\bfrom\\b|\\bto\\b|\\d+%)\\s*?{",regExp:!0,start:n,backwards:!0},e,"find")};if(i.nextOpeningBraceIndex=i.nextOpeningBrace?e.session.doc.positionToIndex(i.nextOpeningBrace.start,r.row):null,i.nextClosingBraceIndex=i.nextClosingBrace?e.session.doc.positionToIndex(i.nextClosingBrace.start,r.row):null,i.MediaSupportsRange=i.prevMediaSupports?d.get_css_fold_widget_range(e,i.prevMediaSupports.start.row):null,i.KeyframesRange=i.prevKeyframes?d.get_css_fold_widget_range(e,i.prevKeyframes.start.row):null,i.KFRange=i.prevKF?d.get_css_fold_widget_range(e,i.prevKF.start.row):null,void 0===i.KFRange){i.KFRange={start:i.prevKF.start,end:{}};var a=d.ace_find_text({needle:"}",start:i.prevKF},e,"find");i.KFRange.end=a?a.end:i.KFRange.end}if(i.insideSomething=i.nextClosingBrace&&(i.nextClosingBraceIndex<i.nextOpeningBraceIndex||!i.nextOpeningBrace),i.targetClosingBracePos=!1,i.insideSomething){i.inside="selector",i.targetClosingBracePos=i.nextClosingBrace.end;var o=i.nextClosingBrace.end.row,s={MediaSupportsRange:{stayInside:!0},KeyframesRange:{targetCB:"KeyframesRange"},KFRange:{targetCB:"KeyframesRange"}};for(var l in s){var c=i[l];c&&o==c.end.row&&(i.inside=l,i.targetClosingBracePos=!s[l].stayInside&&i[s[l].targetCB].end)}}else i.KeyframesRange&&i.KeyframesRange.contains(r.row,r.column)&&(i.insideSomething=!0,i.inside="KeyframesRange",i.targetClosingBracePos=i.KeyframesRange.end);i.prevOpeningBrace;var u,p=i.prevClosingBrace;p?(u=p).end.column++:u={start:{row:0,column:0},end:{row:0,column:0}};var f=d.ace_find_text({needle:"{",start:u},e,"find");if(f){var h=new t.Range(u.end.row,u.end.column,f.start.row,f.start.column-1),_=e.session.getTextRange(h);if(_){if(_.match(";")){var g=_.split(";");_=g[g.length-1]}_&&(i.currentSelectorRange=h,i.currentSelectorText=_.trim())}}return i},prev_code_selector:"",get_code_editor_selector:function(e,t){var r=d.codeAroundCursorAnalysis(e,t).currentSelectorText;return r||"#mt-no-element"},maybe_update_code_selector_highlight:function(e,r,i,a){var o=d.get_code_editor_selector(e,r);(o!==d.prev_code_selector||i)&&t.iframeEditing()&&(n.select_current_selector_elements({scroll:!a,con:"full_code_change",css:o,existingSelCSS:o,doNotUpdateSelectorSuggestions:t.existingSelRadioUsed}),d.prev_code_selector=o)},isCSSEditor:function(e){var t=d.editor_modes[e.container.id];return t&&t.indexOf("css")>-1},get_editor_mode:function(e){let t=e.session.getMode().$id,r=t?t.match(/mode\/([a-z]+)$/):null;return r?r[1]:"unknown"},insert_code_view_selector:function(r){var n,i=d.eds["adaptable-editor"];if(i.session.getMode().$id.indexOf("javascript")>-1)return!1;if(i){var a=i.getCursorPosition(),o=i.getSelectionRange();if(i.session.getTextRange(o))return t.draftSelector.ace.deferSave=!1,i.session.replace(o,r),!0;if(t.draftSelector.ace.editorClickCancelsDeferSave=!1,t.draftSelector.ace.deferSave=!0,t.draftSelector.ace.range){var s=t.draftSelector.ace,l=d.indented_empty_selector(r,s.wsIndent,s.codePrefix,s.codeSuffix),c=i.session.replace(t.draftSelector.ace.range,l);return d.goToLineInsideBrackets(i,c,1),d.cache_draft_selector_range(i,l,t.draftSelector.ace.range,s.wsIndent,s.codePrefix,s.codeSuffix),!0}var u=d.codeAroundCursorAnalysis(i,a),p="",f="",h="",_=0;if(u.insideSomething&&u.targetClosingBracePos){parseInt(t.pref.allow_scss);i.gotoLine(u.targetClosingBracePos.row+1,u.targetClosingBracePos.column+1,!1),a=i.getCursorPosition(),h=d.get_indent_whitespace(i,a),f="\n"}else{h=d.get_indent_whitespace(i,a);var g=u.prevClosingBrace&&u.prevClosingBrace.start.row==a.row?2:1,m=a.row+g>i.session.getLength();f=m?"\n":"",m||i.gotoLine(a.row+g,0,!1),a=i.getCursorPosition(),p="\n",_=1}r=d.indented_empty_selector(r,h,f,p);var v=e.extend(!0,{},a);n=i.session.insert({row:a.row,column:a.column},r),d.cache_draft_selector_range(i,r,new t.Range(v.row,v.column,n.row,n.column),h,f,p),d.goToLineInsideBrackets(i,i.getCursorPosition(),_),d.prev_code_selector=r}},goToLineInsideBrackets:function(e,t,r){e.gotoLine(t.row-r,t.column+1,!1)},cache_draft_selector_range:function(e,r,n,i,a,o){t.draftSelector.ace={editor:e,selectorCode:r,range:n,wsIndent:i,codePrefix:a,codeSuffix:o}},indented_empty_selector:function(e,t,r,n){return r+t+e+" {\n"+t+"\t\n"+t+"}"+n},editor_to_gui:function(e,n,i,a){if(e)r.action_after_timeout(i.attr("id")+"_gui_sync",300,{item:this.editor_to_gui,args:[!1,n,i,a]});else{t.editor_to_gui_running=!0;var s=t.pref.pg_focus,l=a.session.getLine(a.getCursorPosition().row);(l?o.code_edited_property(l.trim()):{}).group,t.trigger_pg_icon_click(s),a.focus(),t.editor_to_gui_running=!1}},gui_to_editor:function(n,i){if(t.gui_to_editor_running=!0,i=i.selector?i:t.get_meta(e("#"+t.selInFocusID),"selector"),n)r.action_after_timeout(i.property.attr("id")+"_code_sync",100,{item:this.gui_to_editor,args:[!1,i]});else{var a=t.get_code_meta(i).editor;if(a){var s,c,u,p,f=a.getCursorPosition(),h=f.row,_=(f.column,a.session.getLength()),g=a.session.getLine(h),m=a.session.getLines(0,_),v=(f.row,ace.require("ace/range").Range),y=o.resolve_inline_editor_content(i);if(y||(y=d.empty_selector_code(i)),a.session.doc.setValue(y,1),l.editor_height_auto_settable("adaptable-editor")&&d.editor_update_height(a,t.stat.adaptableEditor,16*a.session.getLength()),u=a.session.getLength(),s=a.session.getLine(h),c=a.session.getLines(0,u),s!==g){var b=d.ace_find_text({needle:g,wrap:!0},a,"find");b&&b.start.row+1}if(u>=_){for(var w=!1,T=!1,x=!1,k=0;k<c.length;k++)!1===w&&c[k]!==m[k]&&(w=k,x=m[k]),w&&c[k]===x&&(T=k-1);T=!1!==T&&T>=w?T:w,w&&(d.highlightInPlace||(p=a.session.addMarker(new v(w,0,T,1),"tvr-line-highlight","fullLine"),d.highlightInPlace=!0,setTimeout((function(){a.session.removeMarker(p),d.highlightInPlace=!1}),1500)))}}t.gui_to_editor_running=!1}},get_css_fold_widget_range:function(e,t){return e.session.$foldMode?e.session.$foldMode.getFoldWidgetRange(e.getSession(),!1,t):null},get_indent_whitespace:function(e,r){var n=e.session.getTextRange(new t.Range(r.row,0,r.row,r.column)).match(/^\s+/);return(n&&n.length?n.length:0)?n.join():""},beautify_css_or_scss:function(e,t){if(!e)return e;return t=t||{},window.css_beautify(e,t)},beautify_editor_content:function(e){var r=e.getValue(),n=d.beautify_css_or_scss(r);e.setValue(n,1),t.close_context_menu({filter:".cm-editor-options"})}};return d}()})),jQuery(document).ready((function(e){TvrMT.mod.MTint=function(){var t,r,n,i,a,o;runIfExists=function(e,t){return this[e]?this[e].apply(this[e],t):null};var s={set_vars:function(){r=TvrMT.TvrCom,t=TvrMT.TvrUi,n=TvrMT.MTF,TvrMT.mod.MTace,i=TvrMT.mod.MTsave,a=TvrMT.mod.MTfolder},builders:["elementor","FLBuilder","oxygen","gutenberg"],intermediaryFrameBuilders:["elementor","oxygen","gutenberg"],active_builders:[],wp_version:null,check_wp_version:function(e,t){t=t||"after";let n=r.compareVersions(s.wp_version,e);return"before"===t?n<0:n>=0},builder_breakpoints:TvrMT.data.dyn.builder_breakpoints,builderUnq:{FLBuilder:{name:"Beaver Builder",runIfExists:runIfExists,intermediaryFrame:!1,mainParam:"fl_builder",frontendParam:"fl_builder",mainUrl:function(e){var n=e||t.pref.preview_url;return r.append_url_param(n,"fl_builder")},frontendPlainUrl:function(){return r.strip_url_param(t.pref.preview_url,"fl_builder")},deactivate:function(){if(TvrMT.integrate.FLBuilder){var e=this.frontendPlainUrl();t.pref.preview_url=e,t.remember_page_viewed(e),this.bb_changes_made()?(TvrMT.integrate.FLBuilder._publishButtonClicked(!0),s.turn_on_targeting_again(!0)):(t.exiting_builder=!0,i.update_prog_indicator("plus",TvrLang.exiting_builder),t.stat.iframeDoc.location=e)}},setup:function(){},bb_is_editing:function(){return!!t.iframeEditing()&&n.stat.body.hasClass("fl-builder-edit")},bb_changes_made:function(){return!!t.iframeEditing()&&n.stat.body.hasClass("fl-builder--layout-has-drafted-changes")},maybe_correct_ui_toggle:function(e){TvrMT.integrate.FLBuilder&&(e.hasClass("fl-builder-done-button")?s.manually_turn_toggle("off","enable_beaver_builder",!0):(e.hasClass("fl-builder-cancel-button")||"dismiss"===e.data("action"))&&s.manually_turn_toggle("on","enable_beaver_builder",!0))},maybe_disable_beaver_builder:function(){if(TvrMT.integrate.FLBuilder&&this.bb_is_editing()){var e=TvrMT.integrate.FLBuilder;n.BBTempDisabled=!0,e.triggerHook?(e.triggerHook("endEditingSession"),s.turn_on_targeting_again(!0)):(e._destroyOverlayEvents(),e._closePanel())}},maybe_reenable_beaver_builder:function(){if(n.BBTempDisabled&&TvrMT.integrate.FLBuilder){var e=TvrMT.integrate.FLBuilder;e.triggerHook?e.triggerHook("restartEditingSession"):this.bb_is_editing()&&e._bindOverlayEvents(),n.BBTempDisabled=!1}}},elementor:{name:"Elementor",intermediaryFrame:!0,winKey:"elementor",mainParam:"action=elementor",frontendParam:"action=elementor",allDevicesEquiv:"desktop",newResponsiveMode:!1,runIfExists:runIfExists,setup:function(n,i,a,o,l,c){var u=n.elementorFrontend?n.elementorFrontend.config:i.frontendWindow.elementorFrontend.config,d=o.find("#elementor-navigator");e.extend(!0,s.builderUnq.elementor,i,{main:n[c],config:n.ElementorConfig,frontend:n.elementorFrontend,frontendConfig:u,breakpoints:u.breakpoints,admin:n.elementorAdmin,leftPanel:{spaceUsed:0,spaceForSite:0,prevSpaceUsed:null,cssLeft:0,cssWidth:0},rightPanel:{spaceUsed:0,spaceForSite:0,prevSpaceUsed:null,prevDockedRight:null},stat:e.extend(!0,a,{$body:o.find("body"),$wrapper:o.find("#elementor-editor-wrapper"),$preview:o.find("#elementor-preview"),$leftPanel:o.find("#elementor-panel"),$navigatorWidget:d,$rightPanel:d,selectors:{preview:"#elementor-preview",leftPanel:"#elementor-panel",footerPanel:"#elementor-panel-footer",responsiveBar:"#elementor-responsive-bar",navigatorToggle:"#elementor-panel-footer-navigator",navigatorClose:"#elementor-navigator__close"}})}),this.newResponsiveMode=r.compareVersions(this.config.version,"3.2")>-1,TvrMT.integrate.elementor=s.builderUnq.elementor,s.override_builder_container_frame_css("elementor"),this.track_builder_device_view_click("elementor"),this.trackLeftPanel(),this.trackRightPanel();var p=s.builderUnq.elementor;s.observeTarget(p.stat.$leftPanel[0],p,{observerConfig:{childList:!0},item:function(e,r,n){var i=n.addedNodes;i.length&&"elementor-panel-inner"===i[0].id&&t.default_to_tab("mq")}})},track_builder_device_view_click:function(t){var n=this;n.getDeviceToggleOrContainer().on("click",(function(i){var a=e(i.target),o=!1;if(!n.newResponsiveMode){var l=a.closest(".elementor-panel-footer-sub-menu-item");r.isDomEl(l)&&(a=l,o=!0)}var c,u=n.newResponsiveMode&&"breakpoint"===a.attr("name"),d=n.newResponsiveMode&&a.hasClass("eicon-device-responsive"),p=n.newResponsiveMode&&a.parent().hasClass("e-responsive-bar__close-button");(u||d||p||o)&&(c=d?n.responsiveToolbarShowing()&&!n.isDesktopDeviceMode()?"mobile":"desktop":p?"desktop":n.getDeviceModeFromToggle(a),s.update_mt_device_view(t,c))}))},trackLeftPanel:function(){var r=this,n=r.stat.$leftPanel;s.builderLeftPanelAdjusted("elementor",!0),t.after_animation(n,{type:"transition",aspect:"elementorLeftPanelAdjusted"}),n.on("mousedown.tvr","div.ui-resizable-handle",(function(){r.builderLeftPanelDragging=!0,s.builderLeftPanelAdjusted("elementor")})),e(r.mainWindow.document).on("mouseup.tvr",(function(){r.builderLeftPanelDragging&&(s.builderLeftPanelAdjusted("elementor",!0),r.builderLeftPanelDragging=!1)}))},trackRightPanel:function(){var n=this,i=n.stat;n.rightPanel.prevDockedRight=n.elemNavIsDockedRight(),n.rightPanel.prevSpaceUsed=n.getEffectiveNavWidth(i.$navigatorWidget),i.$wrapper.on("mousedown.tvrnavtoggle","#elementor-panel-footer-navigator, #elementor-navigator__close",(function(){n.respondToRightPanelAdjust=!0})),i.$navigatorWidget.on("mousedown.tvrnav",(function(){n.elementorNavDragging=!0,s.builderRightPanelAdjusted("elementor")})),e(n.mainWindow.document).add(t.stat.doc).on("mouseup.tvrnav",(function(t){if(n.elementorNavDragging){if(n.elementorNavDragging=!1,!r.isDomEl(e(t.currentTarget.body).find("#elementor-editor-wrapper")))return n.respondToRightPanelAdjust=!0,!1;s.builderRightPanelAdjusted("elementor",n.doUpdatePreviewForRightPanel())}})),t.after_animation(i.$preview,{type:"transition",aspect:"elementorRightPanelAdjusted"});var a=i.$preview[0];new MutationObserver((function(e){e.forEach((function(e){n.respondToRightPanelAdjust&&(n.respondToRightPanelAdjust=!1,s.builderRightPanelAdjusted("elementor",n.doUpdatePreviewForRightPanel()))}))})).observe(a,{attributes:!0,attributeFilter:["style"],attributeOldValue:!0})},mainUrl:function(e){var r=e||t.pageOrPostID;return t.adminUrl+"post.php?post="+r+"&action=elementor"},frontendPlainUrl:function(){return t.pref.preview_url},getDeviceToggleOrContainer:function(){return TvrMT.integrate.elementor.stat.$wrapper},getDeviceModeFromToggle:function(e){return this.newResponsiveMode?e.val():e.data("device-mode")},getEffectiveNavWidth:function(e){return e.is(":visible")&&this.elemNavIsDockedRight()?e.width():0},getBuilderRightPanelWidth:function(e){return this.getEffectiveNavWidth(e)},getSidePanelWidth:function(e){var t=TvrMT.integrate.elementor.leftPanel;return t.cssWidth=e.width(),t.cssLeft=parseInt(e.css("left").replace("px","")),t.marginLeft=parseInt(e.css("margin-left").replace("px","")),TvrMT.integrate.elementor.newResponsiveMode?t.cssWidth+t.marginLeft:t.cssWidth+t.cssLeft},adjustSpaceForSiteForRightPanel:function(e){var t=parseInt(this.elemNavIsDockedRight());t&&(e.spaceForSite-=t)},maybePlaceNavRight:function(){if(this.elemNavIsDockedRight()){var e=TvrMT.integrate.elementor.stat.$navigatorWidget,r=t.stat.frontInner.width()-e.width();e.css("left",r+"px")}},rightPanelShowing:function(){return this.elemNavIsDockedRight()},getRightPanelWidth:function(){return this.getEffectiveNavWidth(this.stat.$rightPanel)},doUpdatePreviewForRightPanel:function(){return this.isTabletOrMobileView()&&(this.rightPanel.prevDockedRight||this.elemNavIsDockedRight())},responsiveToolbarShowing:function(){return this.stat.$body.hasClass("e-is-device-mode")},isTabletOrMobileView:function(){return this.stat.$body.hasClass("elementor-device-tablet")||this.stat.$body.hasClass("elementor-device-mobile")},isDesktopDeviceMode:function(){return this.stat.$body.hasClass("elementor-device-desktop")},switchBuilderDeviceView:function(e){var t=this.newResponsiveMode?"#e-responsive-bar-switch-"+e:'.elementor-panel-footer-sub-menu-item[data-device-mode="'+e+'"]';TvrMT.integrate.elementor.stat.$wrapper.find(t).trigger("click"),this.newResponsiveMode},getCurrentDeviceMode:function(){},responsiveViewClassFix:function(e){var t=TvrMT.integrate.elementor.stat.$wrapper.find("#elementor-panel-footer-responsive"),r="elementor-open",n=t.hasClass(r);"desktop"===e&&n?t.removeClass(r):"desktop"===e||n||t.addClass(r)},elemNavIsDockedRight:function(){if(TvrMT.integrate.elementor){var e=TvrMT.integrate.elementor.stat;if(e.$body.hasClass("elementor-navigator-docked"))return e.$navigatorWidget.outerWidth()}return!1},maybeStickNavRight:function(){this.elemNavIsDockedRight()&&(this.stat.$body.addClass("mt-slider-moving"),this.elementorTempNavStick=!0)},maybeUnstickAndPlaceNavRight:function(){this.elementorTempNavStick&&(this.stat.$body.removeClass("mt-slider-moving"),this.elementorTempNavStick=!1),this.maybePlaceNavRight()},wizardHtmlReplace:function(e){e.pattern=t.builder_html_atts_regex(["contenteditable","data-elementor-setting-key","data-pen-placeholder"],[],["\\s?elementor-inline-editing(?: pen)?"])}},oxygen:{name:"Oxygen",intermediaryFrame:!0,winKey:"CtBuilderAjax",mainParam:"ct_builder=true",frontendParam:"oxygen_iframe",allDevicesEquiv:"default",runIfExists:runIfExists,MTDynFrontData:!1,setup:function(t,r,n,i,a,o){var l=t.angular,c=r.frontendWindow.angular,u=l.element(i.find("body")[0]).scope(),d=c.element(a.find("body")[0]).scope();d.isMTTargetingMode=function(){return a.find("html").hasClass("tvr-hh-mode")},e.extend(!0,s.builderUnq.oxygen,r,{main:t[o],frontend:t.CTFrontendBuilderUI,angular:l,frontAngular:c,ControllerUI:u,BuilderController:d,breakpoints:d.mediaList,breakpointsAbove:d.mediaListAbove,leftPanel:{spaceUsed:0,spaceForSite:0,prevSpaceUsed:null},rightPanel:{spaceUsed:0,spaceForSite:0,prevSpaceUsed:null},stat:e.extend(!0,n,{$oxygenUIElement:i.find("#oxygen-ui"),$topbar:i.find("#oxygen-topbar"),$main:i.find("#ct-viewport-container"),$leftPanel:i.find("#oxygen-sidebar"),$iframe:i.find("#ct-artificial-viewport"),$rightPanel:i.find("#ct-sidepanel"),front:{}})}),TvrMT.integrate.oxygen=s.builderUnq.oxygen,s.override_builder_container_frame_css("oxygen"),this.track_builder_device_view_click("oxygen"),this.trackLeftPanel(),this.trackRightPanel(),this.trackViewportContainer()},wizardHtmlReplace:function(e){e.pattern=t.builder_html_atts_regex(["contenteditable","draggable","ctevalconditions"],["ng","data-aos","dnd","is"])},track_builder_device_view_click:function(){var t=this;t.getDeviceToggleOrContainer().on("click",(function(r){var n=e(r.target),i=n.parent(),a=n.attr("ng-click");if(!a&&i&&(a=i.attr("ng-click"),n=i),a&&a.match(/setCurrentMedia/)){var o=t.getDeviceModeFromToggle(n);s.update_mt_device_view("oxygen",o)}}))},trackLeftPanel:function(){s.builderLeftPanelAdjusted("oxygen",!0)},trackViewportContainer:function(){var e=this.stat;s.observeTarget(e.$main[0],this,{observerConfig:{attributeFilter:["class","style"]},item:function(e,t,r){var n="style"===r.attributeName,i=!n;r.oldValue&&r.oldValue.match(/viewport-fullscreen/);if(n){var a=r.oldValue.match(/margin-left:\s?(.+?);/);(a?a[1]:void 0)!==r.target.style.marginLeft&&(i=!0)}i&&(s.builderLeftPanelAdjusted("oxygen",!0),s.builderRightPanelAdjusted("oxygen",t.doUpdatePreviewForRightPanel()))}})},trackRightPanel:function(){var t=this,r=t.stat;s.builderRightPanelAdjusted("oxygen");r.$oxygenUIElement.on("click",".oxygen-dom-tree-button, .oxygen-close-icon, .oxygen-toolbar-button-dropdown-option",(function(){var r=e(this);r.hasClass("oxygen-toolbar-button-dropdown-option")&&"toggleSettingsPanel()"===r.attr("ng-click")?t.respondToRightPanelAdjust=!0:s.builderRightPanelAdjusted("oxygen",t.doUpdatePreviewForRightPanel())})),s.observeTarget(r.$rightPanel[0],t,{item:function(e,t,r){var n=r.oldValue.match(/width:(.+?);/),i=(n?parseInt(n[1]):null)!==t.rightPanel.prevSpaceUsed;t.respondToRightPanelAdjust&&i&&(t.respondToRightPanelAdjust=!1,s.builderRightPanelAdjusted("oxygen",t.doUpdatePreviewForRightPanel()))}})},mainUrl:function(e){var i=e||t.pref.preview_url,a=r.append_url_param(i,"mto2_edit_link","1");if(a=r.append_url_param(a,"_wpnonce",TvrMT.data.dyn.ui_config.mt_builder_redirect_nonce),t.iframeEditing()&&!e){var o=n.stat.body.find("#wp-admin-bar-oxygen_admin_bar_menu-default").find("a").first();if(r.isDomEl(o)){var s=o.attr("href");s&&!r.isExternalUrl(s)&&(a=s)}}return a},frontendPlainUrl:function(){return this.maybeStripParams(t.pref.preview_url)},getDeviceToggleOrContainer:function(){return TvrMT.integrate.oxygen.stat.$oxygenUIElement},getDeviceToggleFilter:function(){return".oxygen-media-query-dropdown li"},maybeStripParams:function(e,t){return e&&e.indexOf("ct_builder")>-1?e.split("?")[0]:e},getDeviceModeFromToggle:function(e){return e.find("img").first().attr("ng-src").match(/media-query\/(.+?).svg$/)[1]},enhancerFullScreenActive:function(){return this.stat.$main.hasClass("viewport-fullscreen")},getSidePanelWidth:function(e){return this.enhancerFullScreenActive()?0:e.width()},adjustSpaceForSiteForRightPanel:function(e){},maybePlaceNavRight:function(){},rightPanelShowing:function(){return this.getRightPanelWidth()},getRightPanelWidth:function(){return this.enhancerFullScreenActive()?0:this.stat.$rightPanel.width()},doUpdatePreviewForRightPanel:function(){return this.isTabletOrMobileView()&&(this.rightPanel.prevDockedRight||this.rightPanelShowing())},isTabletOrMobileView:function(){return"default"!==this.BuilderController.getCurrentMedia()},switchBuilderDeviceView:function(e){TvrMT.integrate.oxygen.BuilderController.setCurrentMedia(e),s.update_mt_device_view("oxygen",e)},inUserClassList:function(e,t){var r=this.BuilderController.classes[e];return r&&t?r.key?"o2-class":"user-class":r},sortedMediaList:function(e,t){var r=s.builder_breakpoints.oxygen,n="maxSize",i=["default"],a=!1,o=r["page-width"][n];for(var l in r)if(r.hasOwnProperty(l)){if("default"==l||"page-width"==l)continue;parseInt(r[l][n])>=parseInt(o)||a?i.push(l):(i.push("page-width"),i.push(l),a=!0)}return a||i.push("page-width"),i},getMediaPreviewSize:function(e){var t=s.builder_breakpoints.oxygen,r=this.sortedMediaList();for(var n in r){if(r.hasOwnProperty(n))if(r[n]===e)return void 0!==(e=r[parseInt(n)+1])?parseInt(t[e].maxSize)+1:360}}},gutenberg:{name:"Gutenberg",context:null,intermediaryFrame:!0,winKey:"wp",allDevicesEquiv:"desktop",runIfExists:runIfExists,userDefinedIds:[],userDefinedClasses:[],whiteList:{ids:[],classes:["wp-block-(?!("+["paragraph","freeform","html","list(-item)?)","quote__citation","table__cell-content","file__content-wrapper"].join("|")+").+","wp-element-(caption|button)","wp-image-\\d+"]},blockBuilders:{installed:TvrMT.data.dyn.blockBuilders,generateBlocks:{whiteList:{ids:[],classes:[]}},greenShift:{whiteList:{ids:[],classes:[]}},kadenceBlocks:{whiteList:{ids:[],classes:["kt-svg-icon-list-item-wrap","kt-svg-icon-list-single","kt-svg-icon-list-text","kt-blocks-info-box-link-wrap","more-link-wrap","kt-tab-title(-active)?","kt-title-item(-\\d+)?","kt-tabs-content-wrap","kt-tab-inner-content","kt-inner-tab-\\d+","wp-block-kadence-tab","kt-testimonial-content-wrap","kt-testimonial-meta-wrap","kt-testimonial-image","wp-block-kadence-form","kadence-blocks-form-field","kb-((text|email|textarea|submit)-)?field(-\\d+)?","kb-forms-submit","wp-block-kadence-advancedbtn","kt-button","wp-block-kadence-column"]}},maxiBlocks:{whiteList:{ids:[],classes:[]}}},setup:function(r,n,i,a,o,l){let c=s.get("gutenberg"),u=(n.frontendWindow,i.document),d=u.querySelector("#editor"),p=u.querySelector("#site-editor"),f=d?"regular":"fse",h=!!d,_=!!p,g=e(h?d:p);if(e.extend(!0,s.builderUnq.gutenberg,n,{main:r[l],frontend:window.wp,MTF:i.triggeringMTF,context:f,isRegular:h,isFSE:_,leftPanel:{spaceUsed:0,spaceForSite:0,prevSpaceUsed:null,cssLeft:0,cssWidth:0},rightPanel:{spaceUsed:0,spaceForSite:0,prevSpaceUsed:null,prevDockedRight:null},stat:e.extend(!0,i,{$body:a.find("body"),$wrapper:g,headerContainer:function(e){let t=c.isRegular||s.check_wp_version(6.6)?"div.interface-interface-skeleton__header":"div.edit-site-layout__header-container";return e?t:c.selectElement(t)},preview:function(e,t){t=t||"visual";let r=c.isRegular||s.check_wp_version(6.6)?"div.edit-post-"+t+"-editor":"div.edit-site-"+t+"-editor";return e?r:c.selectElement(r)},responsiveWrapper:function(e,t){if(t&&c.isCodeEditingActive())return c.stat.preview(e,"code");let r=s.check_wp_version(6.7)?'iframe[name="editor-canvas"]':s.check_wp_version(6.5)?c.isRegular?c.editorHasBlocks?"div.interface-interface-skeleton__content":"iframe.editor-canvas__iframe":"iframe.edit-site-visual-editor__editor-canvas":c.isRegular?c.editorHasBlocks?"div.interface-interface-skeleton__content":"div.is-desktop-preview, div.is-tablet-preview, div.is-mobile-preview":"iframe.edit-site-visual-editor__editor-canvas";return e?r:c.selectElement(r)},deviceMenuToggle:function(){return c.selectElement(s.check_wp_version(6.5)?".editor-preview-dropdown__toggle":".block-editor-post-preview__button-toggle")},deviceMenu:function(){return c.selectElement("div.components-dropdown-menu__popover:not(.interface-more-menu-dropdown__content):not(.more-menu-dropdown__content)",c.stat.$doc)},blockPopover:function(){return c.selectElement("div.block-editor-block-popover",c.stat.$doc)},deviceToggleButtons:function(){return c.selectElement(s.check_wp_version(6.5)?"button.components-menu-item__button":"button.block-editor-post-preview__button-resize",c.stat.deviceMenu())},leftPanel:function(){return c.selectElement("div.interface-interface-skeleton__secondary-sidebar")},rightPanel:function(){let e="div.interface-interface-skeleton__sidebar";return s.check_wp_version(6.7)&&(e+=" div.editor-sidebar"),c.selectElement(e)},rightPanelTabs:function(){return c.selectElement(s.check_wp_version(6.7)?"div.editor-sidebar__panel-tabs":c.isRegular?"div.edit-post-sidebar__panel-tabs":"div.edit-site-sidebar-edit-mode__panel-tabs")},footerPanel:function(){return c.selectElement("div.interface-interface-skeleton__footer")}})}),TvrMT.integrate.gutenberg=s.builderUnq.gutenberg,t.loading_builder=!0,!c.mainWindow.MTeditorTracking){t.stat.frontInner.width("100%"),t.mq_tab_pressed(t.stat.res.find(".mq-tab-all-devices")),s.override_builder_container_frame_css("gutenberg");let e=c.stat.deviceMenuToggle();e.length&&c.track(c);let r=c.stat.headerContainer();r.length&&!r.data("mt-observer-bound")?(s.observeTarget(r[0],c,{observerConfig:{childList:!0},item:function(e,t,r){let n=r.addedNodes,i=t.isRegular?"edit-post-header__settings":"edit-site-layout__header";n.length&&n[0].classList.contains(i)&&t.track(t)}}),r.data("mt-observer-bound",1)):e.length||r.length||c.runIfAdded(c,g,c.stat.headerContainer(!0).replace("div.",""),{item:c.track,args:[c],disconnectAfter:!0,timeout:250})}},runIfAdded:function(e,t,n,i){let a="mt-observer-bound-"+n;if(t.length&&!t.data(a)){let o=s.observeTarget(t[0],e,{observerConfig:{subtree:!0,childList:!0},replaceDefaultConfig:!0,item:function(e,s,l){let c=l.addedNodes,u=n;c.length&&c[0].classList&&c[0].classList.contains(u)&&(i.timeout?r.action_after_timeout("delay_gutenberg_track",i.timeout,{item:function(){i.item.apply(this,i.args)}}):i.item.apply(this,i.args),i.disconnectAfter&&(o.disconnect(),t.removeData(a)))}});t.data(a,1)}},isCodeEditingActive:function(){return this.stat.preview(!1,"code").length},whiteListCache:{},isWhiteListedAttribute:function(e,t){let r,n=this;if(void 0!==n.whiteListCache[e])r=n.whiteListCache[e];else{let t=[];n.whiteList[e].length,t.push(...n.whiteList[e]);for(const[r,i]of Object.entries(n.blockBuilders.installed)){let i=n.blockBuilders[r].whiteList[e];i.length,t.push(...i)}r=t.length?new RegExp("^(?:"+t.join("|")+")$","g"):null,n.whiteListCache[e]=r}return null!==r&&t.match(r)},testDomReferences:function(e,t){let r=this.stat;Object.keys(r).forEach((e=>{let t=r[e];if("function"==typeof t){t().length}}))},track:function(e){e.testDomReferences(),e.track_builder_device_view_click(e,"gutenberg"),e.trackSaveOrPublish(e),e.trackPanels(e),e.trackTemplateChange(e),e.mainWindow.MTeditorTracking=!0},currentTemplate:"",unsubscribeTemplateChange:null,unsubscribeDeviceChange:null,trackTemplateChange:function(e){e.unsubscribeTemplateChange&&(e.unsubscribeTemplateChange(),e.unsubscribeTemplateChange=null);let t=e.mainWindow.MTblock;e.currentTemplate=t.getCurrentTemplate(),t.log("The current template",e.currentTemplate),e.unsubscribeTemplateChange=t.subscribe({name:"checkTemplateChange",timeout:250,cb:{item:function(r,n){const i=t.getCurrentTemplate();t.log("Compare templates",e.currentTemplate," -> ",i),i!==e.currentTemplate&&(e.currentTemplate=i,t.log("The template changed",e.currentTemplate," -> ",i),t.editor.remoteQueryAssetLoading(t.shared.editor.doc.location.href,t.getLiveData(t.prevBlocksList,!0)))}}})},getClosestBlocks:function(e){let t=[];for(;e;){if(e.classList){if(e.classList.contains("is-root-container"))break;e.classList.contains("wp-block")&&t.push(e)}e=e.parentNode}return t},prevBlockEls:[],unsavedMTClasses:{},cleanUnusedMTClasses:function(e,r){if(parseInt(t.pref.add_block_classes_all))return;r=r||t.get_all_selector_code(!1,!1,!0);let n=this.mainWindow.MTblock,i=this;e.forEach((e=>{if(e){let t=n.alreadyHasUniqueClass(e.className);r.indexOf(t)>-1||(n.removeUniqueClass(e,"selection"),delete i.unsavedMTClasses[t])}})),i.prevBlockEls=[]},maybeAdjustMTUniqueClasses:function(e){let n=this.mainWindow.MTblock;if(n){let i=this,a=i.prevBlockEls||[],o=i.getClosestBlocks(e[0]),s=a[0],l=o[0],c=parseInt(t.pref.add_block_classes_all);if(!c&&s&&l&&!l.isSameNode(s)&&i.cleanUnusedMTClasses(a),l){i.userDefinedIds=[],i.userDefinedClasses=[],o.forEach((e=>{let t;c||(t=n.maybeAddClassToBlock(e,null,"selection",!1,i.unsavedMTClasses));let r=t?t.split(/\s+/):n.getUserDefinedClass(e,!0);r&&(i.userDefinedClasses=i.userDefinedClasses.concat(r));let a=n.getUserDefinedId(e);a&&i.userDefinedIds.push(a)}));let e=n.getSelectedBlockClientId(),t=n.getClientId(l);e!==t&&n.selectBlock(t),r.action_after_timeout("open_gutenberg_advanced",50,{item:i.maybeOpenAdvancedPanel,args:[i,!0]})}i.prevBlockEls=o}},maybeOpenAdvancedPanel:function(t,n){let i=t.mainWindow.document.querySelector("div.block-editor-block-inspector__advanced");if(i){if(!i.classList.contains("is-opened")){let e=i.querySelector("button.components-panel__body-toggle");e&&e.click()}n&&r.action_after_timeout("scroll_gutenberg_class",50,{item:function(n){let i=t.stat.rightPanel();r.scroll_to({scrollDiv:i,offset:r.getElPosRelToContainer(e(n),i)})},args:[i]})}},targetingEnabled:function(){},targetingDisabled:function(){},respondToSaveOrPublish:function(n){if(!o)return;const{select:i}=n.main.data;let s=n.mainWindow.MTDynFrontData,l=i("core/editor").getCurrentPostId(),c=i("core/editor").getPermalink(),u=i("core/editor").getEditedPostAttribute("title"),d=n.mainUrl(l),p=t.get_selector_in_focus(),f=/\\Microthemer\\is_post_or_page\(\s*-1,\s*"Untitled"\s*\)/,h=s.logic,_=h.match(f),g=_?h.replace(f,"\\Microthemer\\is_post_or_page("+l+', "'+u+'")'):h,m=i("core/editor").getCurrentPost().status;if(o.updateAllDataStores("post_status",m,s),_&&(o.updateAllDataStores("title",u,s),o.updateAllDataStores("post_title",u,s),o.updateAllDataStores("logic",g,s),o.updateAllDataStores("iframe-url",encodeURIComponent(d),s),o.updateAllDataStores("permalink",c,s),e("#testPreviewPath").val(d),t.remember_page_viewed(d,c)),p){let e=r.checkObject(t.uiData,[p.sectionSlug,"this","logic"]);if(e&&e.expr&&e.expr.match(f)&&l){let n;if(r.checkObject(t.uiData,[p.sectionSlug,"this","label"]).match(/^Untitled/)){let e=t.action_rename_section(!1,p,u);n=e.settings,p=e.M,o.updateAllDataStores("title",u,s),o.updateAllDataStores("post_title",u,s)}e.expr=e.expr.replace(f,"\\Microthemer\\is_post_or_page("+l+', "'+u+'")'),r.updateObject(t.uiData,[p.sectionSlug,"this","logic","expr"],e.expr),t.logicTextareaChanged=!0,a.save_folder_logic(!1,!0,e,p,n)}}},trackSaveOrPublish:function(e){const t="core/editor",{select:r,subscribe:n}=e.main.data;let i=r(t).isSavingPost()||r(t).isAutosavingPost();n((()=>{const n=r(t).isSavingPost()||r(t).isAutosavingPost();i&&!n&&e.respondToSaveOrPublish(e),i=n}))},trackPanels:function(e){const{select:n,subscribe:i}=e.main.data;let a=n("core/editor").isListViewOpened()||n("core/editor").isInserterOpened();i((()=>{const i=n("core/editor").isListViewOpened()||n("core/editor").isInserterOpened();i!==a&&(a=i,r.action_after_timeout("gutenberg_side_panel_adjusted",250,{item:function(){!function(e){let r=e.getSidePanelWidth(e.stat.leftPanel());t.get_local_window_function("shift_rulers_for_builder")(r)}(e)}}))})),this.trackResponsiveWrapper(e)},trackResponsiveWrapper:function(e){const{select:t,dispatch:i}=e.main.data;let a=e.stat.responsiveWrapper()[0];if(a){new ResizeObserver((e=>{r.action_after_timeout("gutenberg_wrapper_resized",500,{item:function(){n&&n.reposition_overlays({con:"reg"})}})})).observe(a)}},manualFrontInit:function(e,t,n,i){i.log("We need to load MT frontend.js and data dynamically",n),e.MTDynFrontData=structuredClone(n),e.MTDynFrontData.interactions=1,e.MTWindowLoadFired=!0,this.adjustLogicForBlockContent(e.MTDynFrontData,e,e.parent),r&&n.MTFscript&&r.loadJSFile(n.jQueryScript,{item:function(){i.log("Add jQuery",n.jQueryScript),r.loadJSFile(n.MTFscript,{item:function(){i.log("Add MT frontend.js",n.MTFscript),i.signalBlocksReadyAndMTLoaded(t)}},t)}},t)},getQueryParams:function(e){e=e.split("+").join(" ");for(var t,r={},n=/[?&]?([^=]+)=([^&]*)/g;t=n.exec(e);)r[decodeURIComponent(t[1])]=decodeURIComponent(t[2]);return r},getFSEScreenHeading:function(e){e.wp;let t=e.MTblock.getCurrentScreenTitle();if(t)return t;let r=e.document.querySelector("h1.edit-site-sidebar-navigation-screen__title");return r?r.textContent:""},adjustLogicForBlockContent:function(e,r,n){if(parseInt(t.pref.admin_asset_editing))return;let i,a=s.builderUnq.gutenberg,o=e.id||null,l=e.pagenow||null,c=e.adminPrefix||"",u=(e.blockPrefix,e.defaultLogic||""),d=e.title||"",p=n.MTblock;if(n.document.querySelector("#site-editor")){let e=a.getQueryParams(n.location.search),t=e.postId,r=a.getFSEScreenHeading(n);if(t&&n.location.search)if("page"===e.postType)d=r||n.MTblock.getPostTitle(),i="\\Microthemer\\is_post_or_page("+e.postId+', "'+d+'")';else{let t,n="wp_template";"wp_template"===e.postType?(t=e.postId,d="Template - "+(r||t.split("//").reverse()[0])):"wp_template_part"===e.categoryType||"wp_template_part"===e.postType?(t=e.postId,n="wp_template_part",d="Template part - "+(r||t)):"pattern"===e.categoryType||"wp_block"===e.postType?(t=e.postId,n="wp_pattern",d="Pattern - "+(r||t)):"wp_navigation"===e.postType&&(t=e.postId,n="wp_navigation",d="Navigation - "+(r||t)),t.match("/")&&(t='"'+t+'"'),i='\\Microthemer\\has_template("'+n+'", '+t+', "'+d+'")'}else d="Front page",i='\\Microthemer\\is_post_or_page("front")'}else d=d.replace(c,""),"post-new.php"===l&&(o=-1,d="Untitled"),i="\\Microthemer\\is_post_or_page("+o+', "'+d+'")';p.updateAllDataStores("logic",i,e),p.updateAllDataStores("title",d,e),e.alt_logic&&(e.alt_logic=[],e.alt_logic.unshift({logic:u,title:d}))},updateMTForPageOrContentChange:function(r,i,s,l,c,u,d){d.log("updateMTForPageOrContentChange",e.extend(!0,{},r),l,c),r.frontendWindow=c,r.stat.$frontDoc=e(l),r.frontendWindow.MTDynFrontData=i,r.mainWindow.MTDynFrontData=i,d.updateAllDataStores("iframe-url",s,r.frontendWindow.MTDynFrontData),n.enableInteractions(!0),d.log("Do we need to load MT frontend again?",!c.MTFrontScriptLoaded),c.MTFrontScriptLoaded?(r.adjustLogicForBlockContent(r.frontendWindow.MTDynFrontData,r.frontendWindow,r.mainWindow),n&&n.stat.nestedEls&&n.select_current_selector_elements({})):r.manualFrontInit(c,l,i,o),a.updateAllStyleTagsAndMenuItems(),u&&t.remember_page_viewed(s)},simulatePageOrContentChange:function(t,n,o,s,l){let c=r.append_url_param(o,"test_logic",1)+"&test_all&get_front_data=1",u=!l;s.log("simulatePageOrContentChange",c,u,l),i.simple_ajax_request({skipQueue:1,url:c,type:l?"POST":"GET",sendData:l,dataType:"text",cbFunction:function(e){let r=s.editor.getIframeRefs(),i=r.win,o=r.doc,l=o&&o.head&&o.head.childElementCount&&t.stat,d=a.extractJsonFromText(e);u&&(s.log("Cache the view data in case block editor is reloading",d),s.shared.cache.view.data=d),s.log("Data returned from remote query",c,d,r),l?(s.log("Update MT data on a valid blocks document",o,o.readyState,d),t.updateMTForPageOrContentChange(t,d,n,o,i,u,s),u&&s.editor.maybeResumeObservations(o)):(s.log("The doc is not available yet",o),s.shared.cache.view.pendingMTUpdate=n)}}),e("#testPreviewPath").val(n)},selectElement:function(e,t){return(t=t||this.stat.$wrapper).find(e)},mainUrl:function(e){let r=e||t.pageOrPostID;return t.adminUrl+"post.php?post="+r+"&action=edit"},frontendPlainUrl:function(){return r.checkObject(this.mainWindow,["MTDynFrontData","permalink"])||t.pref.preview_url},getEffectiveRightPanelWidth:function(e){return e&&e.length&&this.settingsAreDockedRight()?parseInt(e.outerWidth()):0},getSidePanelWidth:function(e){return e&&e.length?e.width():0},adjustSpaceForSiteForRightPanel:function(e){},maybePlaceNavRight:function(){},rightPanelShowing:function(){return this.settingsAreDockedRight()},getRightPanelWidth:function(){return this.getEffectiveRightPanelWidth(this.stat.rightPanel())},doUpdatePreviewForRightPanel:function(){},track_builder_device_view_click:function(e,t){let r=e.mainWindow.MTblock;e.unsubscribeDeviceChange&&(e.unsubscribeDeviceChange(),e.unsubscribeDeviceChange=null),e.unsubscribeDeviceChange=r.subscribe({name:"deviceChange",timeout:100,cb:{item:function(t,i){const a=t("core/editor").getDeviceType().toLowerCase();!function(t,i){if(i&&i!==t&&(e.mainWindow.MTcurrentGutDevice=i,s.update_mt_device_view("gutenberg",i),r.editorHasBlocks)){let t=e.mainWindow.document.getElementById("mt-stuff-ignore");"desktop"===i?(s.builderUnq.gutenberg.mt_frontend_setup_vars_and_init&&(s.check_integrations(e.mainWindow,n,!0),s.builderUnq.gutenberg.mt_frontend_setup_vars_and_init()),t&&t.classList.remove("hidden-for-now")):t&&t.classList.add("hidden-for-now")}}(e.mainWindow.MTcurrentGutDevice||"desktop",a)}}})},getDeviceButtonOrMode:function(e,t,r){let n=this.stat.deviceToggleButtons(r),i={desktop:n[0],tablet:n[1],mobile:n[2]};if(e)return{button:i[e]};if(t){let e=Object.keys(i),r=!1;for(let n=0;n<e.length;n++){let a=e[n];if(i[a].isSameNode(t[0])){r=a;break}}return{deviceMode:r}}},responsiveMenuWasTempOpened:!1,deviceMenuDisplayTime:0,hideDeviceMenu:function(e){e.stat.$body.addClass("microthemer-hidden")},showDeviceMenu:function(e){e.stat.$body.removeClass("microthemer-hidden")},switchBuilderDeviceView:function(e){this.mainWindow.MTblock.setDeviceType(r.capitalizeFL(e))},inUserIdList:function(e,t){return t.includes(e)},inUserClassList:function(e,t){return!!t.includes(e)&&(0===e.indexOf("mctr-")?2:1)},getCurrentDeviceMode:function(){},settingsAreDockedRight:function(){if(TvrMT.integrate.gutenberg){let e=this.stat.rightPanelTabs();return e.length?e.outerWidth():0}return 0},wizardHtmlReplace:function(e){},maybeAutoSaveContent:function(){let e=this,t=e.mainWindow.MTblock;t&&Object.keys(e.unsavedMTClasses).length&&t.savePost(e)}},bricks:{}},check_integrations:function(n,i,a){TvrMT.integrate={FLBuilder:!1,elementor:!1,oxygen:!1,gutenberg:!1},this.active_builders=[];var o=a?n:n.parent,l=o.document,c=n.document,u=n.MTDynFrontData||o.MTDynFrontData,d=u&&u.isAdminArea,p=e(l),f=e(c),h=s.builderUnq,_={mainWindow:o,frontendWindow:n},g={document:l,$doc:p,head:l.head,$body:p.find("body"),frontendDocument:c,$frontDoc:f,triggeringMTF:i};s.wp_version=u?u.wp_version:null;for(var m=0;m<s.builders.length;m++){let e=s.builders[m],i=h[e],a=i.winKey;"gutenberg"!==e||!d||r.checkObject(n,["MTblock","hasBlocks"])||n.frameElement&&"editor-canvas"===n.frameElement.name?(i.integrationSkippedOnEditor=!1,a&&o[a]&&("gutenberg"!==e||d)?(s.builderUnq[e].setup(o,_,g,p,f,a),t.stat.tvr.addClass(e+"_is_on"),s.manually_turn_toggle("on","activate_"+e,!0),this.active_builders.includes(e)||this.active_builders.push(e)):(t.stat.tvr.removeClass(e+"_is_on"),s.manually_turn_toggle("off","activate_"+e,!0))):i.integrationSkippedOnEditor=!0}},frontend_preview_loaded:function(e){this.foreach_active_builder({item:function(t){e.document.documentElement.classList.add(t+"-html")}}),TvrMT.integrate.gutenberg&&e.MTblock&&((o=e.MTblock).doBlockChecks(e.document),o.startObservingBlocks(e,e.document)),e.FLBuilder?(TvrMT.integrate.FLBuilder=e.FLBuilder,s.manually_turn_toggle("on","enable_beaver_builder",!0),t.stat.tvr.addClass("FLBuilder_is_on")):(s.manually_turn_toggle("off","enable_beaver_builder",!0),t.stat.tvr.removeClass("FLBuilder_is_on"));var n=r.checkObject(e,["MTDynFrontData","oxygen","page-width"]);n&&r.updateObject(s.builder_breakpoints,["oxygen","page-width","maxSize"],n+"px"),t.loading_builder?(s.turn_off_targeting_for_builder(),t.loading_builder=!1):t.exiting_builder&&(s.turn_on_targeting_again(!0),t.exiting_builder=!1)},turn_on_targeting_again:function(e){var n="turnedOff"===t.tmp.hover_inspect;parseInt(t.pref.hover_inspect)||e&&!n||r.action_after_timeout("enable_targeting_again",150,{item:function(){t.feature_on(!1,"hover_inspect",{noSave:1}),n&&(t.tmp.hover_inspect=!1),t.cancel_draft_selector_edit()}}),i.update_prog_indicator("minus",!1,TvrLang.exiting_builder)},turn_off_targeting_for_builder:function(){TvrMT.integrate.gutenberg||t.gutenbergIsActive()?i.update_prog_indicator("minus",!1,TvrLang.loading_builder):parseInt(t.pref.hover_inspect)?(t.feature_off(!1,"hover_inspect",{noSave:1,tmp:1}),i.update_prog_indicator("minus",{type:"info",short:TvrLang.mt_targeting_disabled,long:"<p>"+t.appName+" "+TvrLang.mt_targeting_enable+"</p>"},TvrLang.loading_builder)):i.update_prog_indicator("minus",!1,TvrLang.loading_builder)},get:function(e){return s.builderUnq[e]},check_builder_autoload:function(){for(var e=Object.keys(TvrMT.data.dyn.integrations),r=0;r<e.length;r++){var n=e[r];if(parseInt(t.pref["autoload_"+n]))return n}return!1},maybe_warn_builder_blocked_edit:function(e){var t=r.checkObject(e,["MTDynFrontData","builderBlockedEdit"]);if(t){var n=t.builder,a=t.reason,o="",l=s.get(n).name;switch(a){case"user-privileges":o="Your <b>user account privileges</b> do not permit editing this page.";break;case"post-type":o="Editing of this <b>post type</b> is not supported.";break;case"edit-lock":o="An <b>edit lock</b> is in place. This is designed to prevent data loss that can happen when using multiple browser tabs. But it can linger for 10 seconds after exiting a post, even when using a single tab."}i.update_full_logs({short:"Builder blocked edit",long:"<p>"+l+" could not be launched to edit the current page.</p><p>"+o+"</p>",type:"warning"})}},get_available_builder:function(){var e=Object.keys(TvrMT.data.dyn.integrations);return!!e.length&&e[0]},maybe_update_available_builder_name:function(){var e=this.get_available_builder();if(e){var r=this.get(e).name;t.stat.settingsMenu.find(".available-builder-name").text(r)}},get_active_builder:function(){return s.active_builders[0]},foreach_active_builder:function(e,t){for(var r=!1,n=e.args||[],i=0;i<s.active_builders.length;i++){var a=s.active_builders[i];if(TvrMT.integrate[a]&&(r=e.item.apply(this,[a].concat(n)),t))return!1}return r},anyBuilderIsActive:function(){for(var e=0;e<this.builders.length;e++)if(TvrMT.integrate[this.builders[e]])return!0;return!1},anyBuilderIsAvailable:function(){return Object.keys(TvrMT.data.dyn.integrations).length},isInsideBuilderUi:function(e){return!(!TvrMT.integrate.FLBuilder||!r.isDomEl(e.closest(".fl-lightbox-wrap"))&&!r.isDomEl(e.closest(".fl-col-overlay")))||(!(!TvrMT.integrate.elementor||!r.isDomEl(e.closest("#elementor")))||!!TvrMT.integrate.oxygen)},launchBuilderOnNewPage:function(e,t){if(t){var r=e.url;if("elementor"===t){if(!e.item_id)return!1;r=e.item_id}return s.activate_builder(t,!0,void 0,r),t}},keyboard_toggle_builder:function(){var r="on",n=["elementor","oxygen"],i=t.stat.settingsMenu.find(["li.activate_gutenberg","li.activate_elementor","li.activate_oxygen","li.enable_beaver_builder"].join(", "));i.length&&i.each((function(){var i=e(this);if("none"!==i.css("display")){if(i.hasClass("enable_beaver_builder"))return t.stat.tvr.hasClass("FLBuilder_is_on")&&(r="off"),s.manually_turn_toggle(r,"enable_beaver_builder"),!1;for(var a=0;a<n.length;a++){var o=n[a],l="activate_"+o;if(i.hasClass(l))return TvrMT.integrate[o]&&(r="off"),s.manually_turn_toggle(r,l),!1}}}))},activate_builder:function(e,n,a,o){if(TvrMT.integrate[e]&&"FLBuilder"!==e&&!n)return!1;if(void 0!==a&&!a)return alert("This page cannot be edited with "+r.capitalizeFL(e)),!1;var l=this.builderUnq[e].mainUrl(o);return t.pref.preview_url=l,t.loading_builder=!0,i.update_prog_indicator("plus",TvrLang.loading_builder),(t.retargetSelector||t.draftSelector.atts.id)&&(t.doNotReselectRevertedRetargetSel=1,t.cancel_draft_selector_edit(!0),t.doNotReselectRevertedRetargetSel=0),s.maybeReleaseBuilderEditLockBeforeExit(l),!0},deactivate_builder:function(e){t.get_local_window_function("shift_rulers_for_builder")(0);var r=this.builderUnq[e].frontendPlainUrl();t.exiting_builder=!0,i.update_prog_indicator("plus",TvrLang.exiting_builder),s.maybeReleaseBuilderEditLockBeforeExit(r),t.pref.preview_url=r,s.active_builders=[],TvrMT.integrate[e]=!1,t.get_local_window_function("slider_moved")(t.rulerVal,!1,!1,t.get_mq_focus())},manually_turn_toggle:function(e,r,n){var i=t.stat.settingsMenu.find("li."+r).find("div.mtonoffswitch"),a=i.hasClass("on"),o={uiCorrection:n};"off"===e&&a?(t.feature_off(i,r,o),s.turn_on_targeting_again(!0)):"on"!==e||a||(t.feature_on(i,r,o),n&&parseInt(t.pref.hover_inspect)&&s.turn_off_targeting_for_builder())},container_frame_css_overrides:function(e){let t="",r=s.get(e);if("gutenberg"===e)t+="body.microthemer-hidden div.components-popover__content { visibility: hidden; }",t+="html.gutenberg-hover_inspect .block-editor-block-popover:not(:has(.is-synced)) { display: none; }",t+=r.stat.responsiveWrapper(!0)+" { margin: 0 auto 0 0 !important; height: 100% !important; border-radius: 0 !important; border: 0 !important; }",s.check_wp_version(6.5)&&(t+=r.stat.preview(!0)+" { padding: 0 !important; }"),t+="body.mt-slider-active iframe { transition: none !important; }";else if("elementor"===e){var n="min-width:0 !important; padding:0 !important; margin:0 !important; ",i="";TvrMT.integrate.elementor.newResponsiveMode?(n+="width:100% !important;",i=".e-responsive-bar__size-inputs-wrapper { display:none !important }"):n+="height:auto !important; width: auto !important;",t+="#elementor-preview { overflow-y: visible !important; }\n",t+="#elementor-preview-responsive-wrapper { "+n+" }\n",t+=i+"\n",t+="html[dir=rtl] body.elementor-editor-active #elementor-panel { left:0 !important; right:auto !important; }",t+="html[dir=rtl] body.elementor-editor-active #elementor-preview { left:280px !important; right: 0 !important; }",t+="@media (min-width: 1440px) { html[dir=rtl] body.elementor-editor-active #elementor-preview { left:300px !important; } }",t+="body.mt-slider-moving.elementor-navigator-docked.elementor-device-tablet #elementor-navigator,\nbody.mt-slider-moving.elementor-navigator-docked.elementor-device-mobile #elementor-navigator {left: auto !important;}"}else if("oxygen"===e){t+="#ct-artificial-viewport { transform: none !important; width: 100% !important; height: calc(100vh - 58px) !important; margin:0 !important; }",t+="#ct-viewport-ruller-wrap { display:none !important; }",t+=".oxygen-zoom-control { display: none !important; }",t+=" @media (max-width: 600px) {  div#oxygen-topbar * {\n    font-size: 10px;\n    padding: 0;\n}\n.oxygen-undo-redo-menus {\n\twidth: 70px;\n}\n.oxygen-toolbar-menus {\n\twidth: 90px;\n}.oxygen-toolbar-button {\n    justify-content: center;\n}}"}return t},targetingAdjusted:function(e){this.foreach_active_builder({item:function(t){let r=s.get(t).stat.document.documentElement,n=t+"-hover_inspect";"Enabled"===e?r.classList.add(n):r.classList.remove(n),s.get(t).runIfExists("targeting"+e,[])}})},forceAppendMTStyleNodes:function(){var e=s.get_active_builder();return r.in_array(e,["oxygen"])},override_builder_container_frame_css:function(e){var t=TvrMT.integrate[e].stat,r=t.document.createElement("style"),n="mt-"+e+"-override-css",i=this.container_frame_css_overrides(e);r.setAttribute("id",n),r.innerHTML=i,t.head.appendChild(r)},maybeReleaseBuilderEditLockBeforeExit:function(e){var n=this.get_active_builder();if("oxygen"!==n)t.maybeFilterNewPreviewUrl(e);else{var a=this.get(n),o=a.main;a.BuilderController.setPostEditLockTransient?(a.BuilderController.setPostEditLockTransient=function(){},i.simple_ajax_request({type:"POST",url:r.stripURLProtocol(o.ajaxUrl),plus:tvrsprintf(TvrLang.remove_builder_edit_lock,a.name),minus:tvrsprintf(TvrLang.remove_builder_edit_lock_failed,a.name),sendData:{action:"unset_oxygen_edit_post_lock_transient",post_id:o.postId,nonce:o.nonce},cbFunction:function(r){t.maybeFilterNewPreviewUrl(e)}})):t.maybeFilterNewPreviewUrl(e)}},removeBuilderEditLockAndLaunch:function(){},maybeAdjustSiteSpaceForRightPanel:function(e,t){t=t||0;var r=s.builderUnq[e].rightPanelShowing();return r&&(t+=parseInt(r)),t},get_builder_match_from_site_preview_width:function(e,n,i){n=n||".+?",i=i||".+?";var a=r.checkObject(t.mqs,[e,"site_preview_width"]);return!(t.isContainerQuery(e)||!a)&&a.match(new RegExp("builder\\.("+n+")\\.("+i+")$"))},device_key_matches:function(e,r,n,i){var a;if("getBuilderKey"===r){if(a=this.get_builder_match_from_site_preview_width(n,e))return a[2]}else if("getMTKey"===r)for(var o in t.mqs)if(i.hasOwnProperty(o)&&(a=this.get_builder_match_from_site_preview_width(o,e,n)))return o;return!1},max_mq_matches_builder:function(e,t,r,n,i,a){var o=this.device_key_matches(e,t,r,n);if(o)return o;for(var s in n)if(n.hasOwnProperty(s)&&!n[s].container&&n[s].max===i&&!n[s].min){a=s;break}return a},mq_has_string_in_label:function(e,r){for(var n in t.mqs)if(t.mqs.hasOwnProperty(n)){var i=t.mqs[n];if(e===i.max&&i.label.indexOf(r)>-1)return!0}return!1},get_builder_breakpoints:function(e){var r=s.builder_breakpoints[e],n={short:null,max:!1,newPreviewWidth:t.get_local_window_function("get_all_devices_width")().width},i={};switch(e){case"gutenberg":(i=r).desktop=n;break;case"elementor":i={desktop:n,tablet:{short:"md",max:r.lg-1,newPreviewWidth:r.md},mobile:{short:"sm",max:r.md-1,newPreviewWidth:360}};break;case"oxygen":i={default:n};for(var a=["page-width","tablet","phone-landscape","phone-portrait"],o=0;o<a.length;o++){var l=a[o];i[l]={max:parseInt(r[l].maxSize),newPreviewWidth:s.get("oxygen").getMediaPreviewSize(l)}}}return i},check_synced_page_builder_responsive_views:function(e){return this.foreach_active_builder({item:s.maybe_update_builder_device_view,args:[e]})},maybe_update_builder_device_view:function(e,n){var i=this.get(e),a=this.get_builder_breakpoints(e),o=this.builderUnq[e].allDevicesEquiv,l=this.max_mq_matches_builder(e,"getBuilderKey",n,a,r.checkObject(t.mqs,[n,"max"]),"all-devices"===n&&o);if("gutenberg"===e){let e=i.stat.deviceMenuToggle();i.mainWindow.MTblock;if(i.prevTabNotSynced=!l,!e.length||e.attr("aria-disabled")||i.isCodeEditingActive())return!1}if(l)return s.builderUnq[e].switchBuilderDeviceView(l),!0},update_mt_device_view:function(e,r){var n=s.get_builder_breakpoints(e),i=this.builderUnq[e].allDevicesEquiv,a=n[r].newPreviewWidth,o=n[r].max;if(a){var l=s.max_mq_matches_builder(e,"getMTKey",r,t.mqs,o,r===i&&"all-devices");if(l){var c=t.get_local_window_function("get_site_preview_width")(l);c&&(a=c),t.mq_tab_pressed(t.stat.res.find(".mq-tab-"+l),!1,a,!0)}else t.get_local_window_function("slider_moved")(a,!1,!1,t.get_mq_focus())}},maybeAdjustSliderValForBuilderPreview:function(e,t){if(!(t=t||s.get_active_builder()))return e;var r=this.get_builder_breakpoints(t),n=this.max_mq_matches_builder(t,"getBuilderKey",!1,r,e,!1),i=!!r[n]&&r[n].newPreviewWidth;return i&&("elementor"!==t||this.mq_has_string_in_label(i,"Elementor"))&&(e=i),e},builderLeftPanelAdjusted:function(e,r,n){let i=TvrMT.integrate[e];if(!i)return;n=n||i.stat.$leftPanel||i.stat.leftPanel();let a=TvrMT.integrate[e].leftPanel;a.spaceUsed=s.builderUnq[e].getSidePanelWidth(n),a.MTPreviewWidth=t.previewWidth,a.spaceForSite=a.MTPreviewWidth-(null!==a.prevSpaceUsed?a.prevSpaceUsed:-a.spaceUsed),s.builderUnq[e].adjustSpaceForSiteForRightPanel(a),t.get_local_window_function("shift_rulers_for_builder")(a.spaceUsed),t.rulerVal<t.frameWidth&&t.get_local_window_function("slider_moved")(a.spaceForSite,!1,!1,t.get_mq_focus()),s.builderUnq[e].maybePlaceNavRight(),a.prevSpaceUsed=a.spaceUsed},maybeShiftRulersForBuilder:function(){var e=s.get_active_builder();"gutenberg"!==e&&r.in_array(e,s.intermediaryFrameBuilders)&&s.builderLeftPanelAdjusted(e)},builderRightPanelAdjusted:function(e,r){var n=TvrMT.integrate[e],i=n.stat.$leftPanel||n.stat.leftPanel(),a=n.rightPanel,o="gutenberg"===e?n.stat.responsiveWrapper().width():t.stat.frontInner.width(),l=n.getRightPanelWidth(),c=o-(null!==a.prevSpaceUsed?a.prevSpaceUsed:0);c-=n.getSidePanelWidth(i),"oxygen"===e&&n.enhancerFullScreenActive()||(a.prevSpaceUsed=l,a.prevDockedRight=n.rightPanelShowing()),r&&(t.get_local_window_function("slider_moved")(c,!1,!1,t.get_mq_focus()),s.builderUnq.elementor.maybePlaceNavRight())},maybeAdjustPreviewWidthForBuilder:function(e){var t=s.get_active_builder();if(!t||TvrMT.integrate.gutenberg)return e;var n=r.checkObject(TvrMT.integrate,[t,"leftPanel","spaceUsed"]);return(n=s.maybeAdjustSiteSpaceForRightPanel(t,n))?e+n:e},filter_mt_ignore_atts:function(e,t,r){var n=r?r.split(/\s+/g):[],i={ids:{oxygen:["ct-controller-ui","ct-builder"]},classes:{gutenberg:["alignnone","block-core-columns","block-editor-block-list__layout","components-disabled","editor-post-title__input","gutenberg-html","has-child-selected","has-block-overlay","has-editable-outline","is-dark-theme","is-desktop-preview","is-tablet-preview","is-mobile-preview","is-editing-disabled","is-hovered","is-outline-mode","is-reusable","is-root-container","is-selected","rich-text","components-placeholder","wp-block","wp-block-paragraph","wp-block-list","wp-block-list-item","wp-block-quote__citation"],elementor:["elementor-html","pen","elementor-edit-mode","elementor-inline-editing","elementor-element-edit-mode","elementor-element-editable","ui-sortable-handle","ui-sortable","ui-resizable"],oxygen:["oxygen-html","oxygen-builder-body","ct-builder","ct-highlite-outer-template","ct-inner-content-workarea","ct-inner-wrap","ng-scope","ng-binding","ct-component","ct-highlight","ct-active-parent","ct-active","ct-links","ng-touched"]}};if("classes"===e)for(let e=0;e<n.length;e++){let r=n[e];r.match(/^wopb-block-.+?$/)&&t.push(r)}return this.foreach_active_builder({item:function(r){if(i[e][r]&&(t=t.concat(i[e][r])),"oxygen"===r||"gutenberg"===r)for(var a=0;a<n.length;a++){var o=n[a];if(void 0!==o){if("gutenberg"===r){let n=s.get(r);{let r="ids"===e&&!n.inUserIdList(o,n.userDefinedIds)&&!n.isWhiteListedAttribute(e,o),i="classes"===e&&!n.inUserClassList(o,n.userDefinedClasses)&&!n.isWhiteListedAttribute(e,o);(r||i)&&t.push(o)}}"oxygen"===r&&"classes"===e&&!s.get("oxygen").inUserClassList(o)&&o.match(/(^wf-)|_/)&&t.push(o)}}}}),t},maybeFlagUserClasses:function(e,t){var r,i=s.get_active_builder();if("oxygen"===i||"gutenberg"===i&&o&&n.triggerEl.length){var a=s.get(i);if(!("gutenberg"!==i||(r=a.userDefinedClasses)&&r.length))return;for(var l=0;l<t.length;l++){var c=t[l]?t[l].substr(1):"";if("oxygen"===i){if("user-class"===a.inUserClassList(c,!0)){e.isUserClass=1;break}}else if("gutenberg"===i){let t=a.inUserClassList(c,r);if(t){e.isUserClass=t;break}}}}},reinitRules:function(){return TvrMT.integrate.elementor&&TvrMT.integrate.elementor.main.saver.isEditorChanged()},observeTarget:function(t,r,n){n.observerConfig=n.observerConfig||{};var i=new MutationObserver((function(e){e.forEach((function(e){n.item.apply(this,[t,r,e].concat(n.args))}))})),a=n.replaceDefaultConfig?n.observerConfig:e.extend(!0,{attributes:!0,attributeFilter:["style"],attributeOldValue:!0},n.observerConfig);return i.observe(t,a),i}};return s}()})),jQuery(document).ready((function(e){TvrMT.mod.MTloop=function(){var t,r,n,i,a,o,s,l,c={set_vars:function(){r=TvrMT.TvrCom,t=TvrMT.TvrUi,n=TvrMT.MTF,TvrMT.mod.MTace,TvrMT.mod.MTint,i=TvrMT.mod.MTdd,TvrMT.mod.MTsave,a=TvrMT.mod.MTgrid,o=TvrMT.mod.MTwidget,s=TvrMT.mod.MTfolder,l=TvrMT.mod.MThtml},run:function(n,i,a){var o=r.check_type(i,["string","function"]);if(o||!i.config_set){o&&(i="string"===o?{find:i,cb:t.find}:{cb:i});var s=i.template&&c.loop_configs[i.template]?c.loop_configs[i.template]():{};(i=e.extend(!0,{},c.default_loop_config,s,i)).normalise&&((i=c.run(i,i)).internal_cb=!1)}n=0!==(a=r.isDefined(a)?a:0)||i.internal_cb?n:[n],i.itemIndex=-1;for(var l=r.get_array_or_object_keys(n),u=0;u<l.length;u++){var d=l[u];i.itemIndex++,i.totalIndex++,i.parent=n,i.item=n[d];var p=a.toString(),f=i.levels[p]?i.levels[p]:{},h=f.item?f.item:a,_=i.item&&f.loop?i.item[f.loop]:i.item;if(i.level=a,i.depth=h,i.key=d,i.next=_,i[h+"_key"]=d,i[h]=i.item,c.skip(i,"Run",h,d)||(i=c.run_callbacks(i,a)),i.return)return i;if(i.continue)i.continue=!1;else if(!i.next||i.maxDepth===h||!r.check_type(i.next,["array","object"])||c.skip(i,"Loop",h,d)||"normalise"===d&&i.internal_cb||(i=c.run(i.next,i,a+1)),i.return)return i}return i},default_loop_config:{config_set:!0,levels:{},maxLevel:null,itemIndex:-1,totalIndex:-1,internal_cb:function(){return[{item:c.normalise_input}]},before_cb:{},cb:{},continue:!1,return:!1,result:{},root:1,onlyRun:{},skipRun:{},onlyLoop:{},skipLoop:{},normalise:{levels:{levelValue:"object"},before_cb:{levelValue:"array",arrayValue:"object"},cb:{levelValue:"array",arrayValue:"object"},onlyRun:{levelValue:"array",arrayValue:"string"},skipRun:{levelValue:"array",arrayValue:"string"},onlyLoop:{levelValue:"array",arrayValue:"string"},skipLoop:{levelValue:"array",arrayValue:"string"}}},loop_configs:{ui:function(){return{levels:{0:{item:"root"},1:{item:"section"},2:{item:"selector",loop:"styles"},3:{item:"group"},4:{item:"property"}},skipLoop:{selector:["this"]},skipRun:{selector:["this"]},settings:{savePackage:[],global_scans:[]},before_cb:{global:[{item:c.set_trail}],root:[],section:[{item:c.skip_empty_item,args:[]},{item:c.maybe_recurse,args:[]},{item:c.maybe_only_recurse,args:[]},{item:c.maybe_skip_all_devices_important,args:[]}],selector:[{item:c.skip_empty_item,args:[]},{item:c.normalise_important_missing_styles,args:[]}]},trail:{prepare:[],item:[]},onlyRecurse:!1,incRecurse:!0,recurse:{keys:{non_section:["m_query","important"],m_query:!0},count:0,trail:[],rootRecurseKey:!1,recurseKey:!1,current:!1,mq_key:"all-devices",defaultMQKey:"all-devices"}}}},skip_empty_item:function(e,t){return e.item||e.continue,e},normalise_important_missing_styles:function(e,t){return"selector"===e.depth&&"important"===e.recurse.recurseKey&&(e.next=e.item),e},normalise_input:function(e,t){if(e.normalise[e.key]){var n,i,a,o,s=e.key,l=e[s],u=r.check_type(l),d=e.normalise[e.key];switch(u){case"string":case"function":n={global:l},e[s]=n,e=c.normalise_input(e,t);break;case"array":for(var p in n={},l){a="levels"!=s&&e.levels[p]&&e.levels[p].item?e.levels[p].item:p;var f=r.check_type(l[p]);o="array"==d.levelValue?"array"==f?l[p]:[l[p]]:{item:l[p]},n[a]=o}e[s]=n,e=c.normalise_input(e,t);break;case"object":for(var h in n={},l)a="levels"!=s&&e.levels[h]&&e.levels[p].item?e.levels[h].item:h,o=i=l[h],"array"!=r.check_type(i)&&"array"==d.levelValue&&(o=[o]),n[a]=o;e[s]=n}}return e},run_callbacks:function(e,t){var r;if(e.internal_cb)r=e.internal_cb();else{var n=e.before_cb.global?e.before_cb.global:[],i=e.before_cb&&e.before_cb[e.depth]?n.concat(e.before_cb[e.depth]):n,a=e.cb.global?e.cb.global:[],o=e.cb[e.depth]?a.concat(e.cb[e.depth]):a;r=i.concat(o)}if(r&&r.length)for(var s=0;s<r.length;s++){var l=r[s],c=[e,t];if(c=l.args?c.concat(l.args):c,(e=l.item.apply(this,c)).continue||e.return)return e}return e},find:function(e,t){return e.item===e.find&&(e.found=e.key,e.return=!0),e},skip:function(e,t,n,i){var a=e["only"+t],o=e["skip"+t],s=a.global?a.global:[],l=o.global?o.global:[],c=a[n]?a[n]:[],u=o[n]?o[n]:[],d=s.concat(c),p=l.concat(u);return d.length&&!r.in_array(i,d)||p.length&&r.in_array(i,p)},maybe_only_recurse:function(e,t){return!e.onlyRecurse||e.recurse.current||r.in_array(e.key,["non_section","important","m_query"])||(e.continue=!0),e},recur_mode:function(e){return e.recurse.recurseKey?e.recurse.recurseKey:"no_recurse"},maybe_skip_all_devices_important:function(e,t){var r=e.recurse;return"important"===r.recurseKey&&"all-devices"===r.mq_key&&c.skip(e,"Loop","mq_key","all-devices")&&(e.continue=!0),e},set_trail:function(e,t){e.trail.prepare[t]=e.key,e.trail.prepare[0]=e.trail.toRoot?e.trail.toRoot:null,e.trail.prepare=e.trail.prepare.slice(0,t+1);var n=r.flatten(e.trail.prepare);return n=n.filter((function(e){return null!==e})),e.trail.item=n,e.trail[e.depth]=n||[],e.trail.root_rel=e.trail.prepare.slice(1),e.trail.section_rel=e.trail.prepare.slice(2),e.trail.selector_rel=e.trail.prepare.slice(3),e.trail.group_rel=e.trail.prepare.slice(4),e.trail["root_to_"+e.depth]=e.trail.prepare.slice(1,t+1),"property"===e.depth&&(e.trail[e.depth+"Styles"]=[].concat(e.trail.selector,["styles",e.group_key,e.property_key])),e},maybe_recurse:function(r,n){var i=r.recurse;if(i.keys[r.key]){if(!r.incRecurse)return r.continue=!0,r;if(i.parentCache=e.extend([],r.parent),i.rootRecurseKey="non_section",i.key=r.key,i.current=!0,"non_section"===i.key)for(var a=["m_query","important"],o=0;o<a.length;o++){var s=a[o];if(i.recurseKey=s,t.uiData.non_section[s]){var l=t.uiData.non_section[s];if("m_query"===s){if(!c.skip(r,"Loop","recurse_key",s))for(var u=Object.keys(l),d=0;d<u.length;d++){var p=u[d];i.mq_key=p,r.trail.toRoot=[i.rootRecurseKey,i.recurseKey,i.mq_key],c.skip(r,"Loop","mq_key",p)||(r=c.run(l[p],r,0))}}else c.skip(r,"Loop","recurse_key","important")||(i.mq_key="all-devices",r.trail.toRoot=[i.rootRecurseKey,i.recurseKey],r=c.run(l,r,0))}}else if("m_query"===i.key&&!c.skip(r,"Loop","recurse_key","important")){i.current&&(i.nestedRecur={rootRecurseKey:i.rootRecurseKey,recurseKey:i.recurseKey,mq_key:i.defaultMQKey,toRoot:r.trail.toRoot}),i.recurseKey="important";for(var f=t.uiData.non_section.important.m_query,h=Object.keys(f),_=0;_<h.length;_++){p=h[_];i.mq_key=p,i.current=!0,r.trail.toRoot=[i.rootRecurseKey,i.recurseKey,"m_query",i.mq_key],r.depth="mq",c.skip(r,"Loop","mq_key",p)||(r=c.run(f[p],r,0))}}i.nestedRecur?(i.rootRecurseKey=i.nestedRecur.rootRecurseKey,i.recurseKey=i.nestedRecur.recurseKey,i.mq_key=i.nestedRecur.mq_key,r.trail.toRoot=i.nestedRecur.toRoot,i.nestedRecur=!1):(i.rootRecurseKey=!1,i.recurseKey=!1,i.current=!1,i.mq_key=i.defaultMQKey,r.trail.toRoot=[]),r.parent=i.parentCache,r.continue=!0}return r},update_item_index:function(e,t,r){if(e.recurse.current)return e;var n=e.depth,i={section:{incr:100,item:e.item.this},selector:{incr:1,item:e.item}},a=e[n+"_index"],o=i[n].incr,s=i[n].item,l=e[n+"_index"]=void 0===a?0:a+o;if(s&&l!==s.index){var u="section"===n?["this","index"]:["index"];c.updateObjectAndSavePackage(e.settings.savePackage,{action:"replace",trail:e.trail[n].concat(u),data:l})}if(s&&"selector"===n){let t=s.abs_index;if(null==t){let t=n+"_abs_index",r=e[t],i=e[t]=void 0===r?0:r+o;c.updateObjectAndSavePackage(e.settings.savePackage,{action:"replace",trail:e.trail[n].concat(["abs_index"]),data:i})}}return"section"===n&&(e.selector_index=-1),e},check_values:function(n,i,a){switch(n.depth){case"selector":case"group":var o=n.settings.has_values,s=n.recurse.mq_key,l=!1,c=n.group,u="opts-"+n.section_key+"-"+n.selector_key,d=t.is_cur("selector",u),p={grid:{},transform:{},html:{}};if(o||(o={},n.settings.has_values=o),d&&(o.current_sel_checked=1),"group"===n.depth){if("code"===n.group_key){var f=r.checkObject(n.selector,["styles","code","css","value"]);if("consolidatedGUI"===f){if(!t.scss_enabled){var h=r.checkObject(n.selector,["ast","rules"]);if(h)for(var _ in h)if(h.hasOwnProperty(_)){var g=h[_];if(g&&g.length){l=!0;break}}}}else f&&"string"==typeof f&&(l=t.extract_inner_styles(f))}else for(var m in c)if(c.hasOwnProperty(m)&&r.isDefined(c[m])){if(l=!0,"html"!==n.group_key&&"grid"!==n.group_key&&"transform"!==n.group_key)break;p[n.group_key][m]=c[m]}if(l&&(r.updateObject(o,["section",n.section_key],1),r.updateObject(o,["selector",n.selector_key],1),d&&(r.updateObject(o,["tab",s],1),"group"===n.depth))){var v=t.get_mq_focus();(!s&&"all-devices"===v||s===v)&&(r.updateObject(o,["group",n.group_key],1),"html"!==n.group_key&&"grid"!==n.group_key&&"transform"!==n.group_key||r.updateObject(o,["propsWithValues",n.group_key],e.extend(!0,{},p[n.group_key])),"grid"===n.group_key&&(o.itemsWithValues=e.extend(!0,{},n.selector.itemsWithValues)))}}}return n},update_dots:function(e,n,i){switch(e.depth){case"section":case"selector":var a=t.item_has_styles(e.settings.has_values,e.depth,e.key),o="section"===e.depth?["this","has_values"]:["has_values"],s=e.trail.item.concat(o);a!=r.checkObject(t.uiData,s)&&c.updateObjectAndSavePackage(e.settings.savePackage,{action:"replace",trail:s,data:a}),i.skipDom||t.update_style_signal(t.get_dom_item(e,e.depth,"menu"),a)}return e},rebuild_item:function(e,t,r,n){var i=c.getnewUiDataObject(e,e.settings.newUiData),a=e.section_key,o=e.selector_key;return"section"===n.targetDepth?"section"===e.depth&&this.resolve_item_rebuild(i,r,e,a,a,n):"selector"===n.targetDepth&&("section"===e.depth?i[a]=e.recurse.current?{}:{this:e.section.this}:"selector"===e.depth&&this.resolve_item_rebuild(i,r,e,a,o,n)),e},update_property_values_structure:function(e,t){var n=e.item,i=!1;if("important"!==e.recurse.recurseKey&&"string"==typeof n)i={value:n};else if("object"==typeof n){var a=r.checkObject(n,["value","value"]);a&&(i={value:"Array"===a?[]:a})}return i&&c.updateObjectAndSavePackage(e.settings.savePackage,{action:"replace",trail:e.trail.selector.concat(["styles"],e.trail.selector_rel),data:i}),e},update_legacy_value_with_unit:function(e,t,n,a,s){if(void 0!==n&&r.isDefined(a)&&!Array.isArray(n)){var l=i.separate_value_unit(n);if(!l&&"line_height"!==e.property_key&&o.unitCouldBeAdded(n,a)&&(l={value:n,unit:a}),l){var u=e.trail.selector.concat(["styles"],e.trail.selector_rel);void 0!==s&&(u.push("value",s),l=l.value+l.unit),c.updateObjectAndSavePackage(e.settings.savePackage,{action:"replace",trail:u,data:l})}}},remove_all_bricks_container_hacks:function(e,t){if("all-devices"===e.recurse.mq_key){var r=e[e.depth],n=r.label.split("|"),i=n[0],a=n[1],o=!1;a&&(o=a.match(/.bricks-is-frontend\s+(.+?),/))&&(a=o[1],r.label=i+"|"+a)}return e},update_legacy_unit_structure:function(e,r){var n=e.property_key;if(!i.data_structure_precedes_jsu("separate_css_units",e.selector)||"css"===n||void 0!==e.item.unit)return e;var a=e.item.value,o=t.get_factory_default_unit(!1,n);if(Array.isArray(a))for(var s=0;s<a.length;s++)this.update_legacy_value_with_unit(e,r,a[s],o,s);else this.update_legacy_value_with_unit(e,r,a,o);return e},ensure_valid_folder_and_label:function(e,t){return"0"!==e.section_key&&0!==e.section_key||c.updateObjectAndSavePackage(e.settings.savePackage,{action:"delete",trail:e.trail[e.depth].slice(0,-1),key:"0"}),e.recurse.current||r.checkObject(e.section,["this","label"])||c.updateObjectAndSavePackage(e.settings.savePackage,{action:"append",trail:e.trail.section.concat(["this"]),key:"label",data:r.ucwords(e.section_key).replace(/_/g," ")}),e},maybe_fix_key_format:function(n,i){if("all-devices"===n.recurse.mq_key){var a=n[n.depth];if(!0===a)return delete n.parent[n.key],n;var o,s=n.settings.keyFormatFixes,l="section"===n.depth?a.this.label:a.label.split("|")[0],c=n.key,u=r.convert_to_param(l);if(c!==u){if("section"===n.depth){o={rebuild:!0,callbackDepth:["section"],maxDepth:"section",targetDepth:"section",targetSection:c,new_key:u,new_label:l},s.sectionKeyChanges[c]=u;var d=t.get_meta(e("#strk-"+c),"section");t.rename_section_updates(d,{newName:u,newNameHuman:l},!1,!0)}else if("selector"===n.depth){var p=s.sectionKeyChanges[n.section_key]||n.section_key,f=a.label.split("|")[1];o={rebuild:!0,callbackDepth:["section","selector"],maxDepth:"selector",targetDepth:"selector",targetSection:p,targetSelector:c,new_key:u,new_label:l,new_code:f,orig_code:f}}s.actions.push(o)}}return n},check_jsu:function(e,n,i){r.checkObject(t.uiData,[e.section_key]);var a=r.checkObject(t.uiData,[e.section_key,e.selector_key]),o=r.checkObject(t.uiData,[e.section_key,e.selector_key,"label"]),s=!(!o||"string"!=typeof o)&&o.split("|"),l=s&&s[1];if(!a||!o||!l||"#mt-no-element"===l)return c.updateObjectAndSavePackage(e.settings.savePackage,{action:"delete",trail:e.trail.section,key:e.selector_key}),e.continue=!0,e;var u=e.recurse.mq_key;return u&&"all-devices"!==u&&!t.pref.m_queries[u]?(c.updateObjectAndSavePackage(e.settings.savePackage,{action:"delete",trail:e.trail.root.slice(0,-1),key:u}),e.continue=!0,e):e.item?(a.isDraft&&delete a.isDraft,a.isDraftRetarget&&delete a.isDraftRetarget,e.item.jsu==t.jsuVersion&&e.passNum>1&&!e.dataFormattingFixesOnly&&!parseInt(t.pref.manual_recompile_all_css)?e.continue=!0:i&&(e.item.jsu=t.jsuVersion,e.item.post_sel_css&&delete e.item.post_sel_css,e.key&&(e.parent[e.key]=e.item,e.settings.savePackage.push({action:"replace",trail:e.trail.item,data:e.item}))),e):e},format_precise_run_config:function(t){if(t.M){var n=t.M,i={section:[n.sectionSlug].concat(Object.keys(c.loop_configs.ui().recurse.keys))};n.selectorSlug&&(i.selector=[n.selectorSlug]),n.groupSlug&&(i.group=[n.groupSlug])}t.recurse_key&&(i.recurse_key=t.recurse_key),t.mq_key&&(i.mq_key=[t.mq_key]);var a=e.extend(!0,{},i),o={template:"ui",maxDepth:t.maxDepth||t.domDepth,onlyRun:t.onlyRun||i,onlyLoop:t.onlyLoop||a};return r.isDefined(t.incRecurse)&&(o.incRecurse=t.incRecurse),r.isDefined(t.onlyRecurse)&&(o.onlyRecurse=t.onlyRecurse),o},resolve_js_object_settings:function(t,r){return r?(r=e.extend(!1,{},t,r)).perma&&(t=r):r=t,{settings:t,actionSettings:r}},multiple_modify_main_js_object:function(e,t){for(var r=0;r<e.length;r++){var n=e[r];t=this.modify_main_js_object(n.action,t,n)}return t},deferActions:{},modify_main_js_object:function(e,i,a){if(c.deferActions[e])return i;r.startT("modify_main_js_object_"+e),t.jsDataFunc&&(r.startT("modify_main_js_object_called_by_"+t.jsDataFunc),r.startT("modify_main_js_object_called_by_"+t.jsDataFunc+"_action_"+e));var o=c.resolve_js_object_settings(i,a);i=o.settings,a=o.actionSettings;var s=this.format_precise_run_config(a),l=[{item:c.modify_item,args:[e,a]}];if(a.callbackDepth&&a.callbackDepth.length){s.cb={};for(var u=0;u<a.callbackDepth.length;u++)s.cb[a.callbackDepth[u]]=l}else s.cb={root:l,section:l,selector:l,group:l};if(a.rebuild){i.newUiData={non_section:{}};var d=["m_query","important"];for(var p in t.uiData.non_section)t.uiData.non_section.hasOwnProperty(p)&&(r.in_array(p,d)||(i.newUiData.non_section[p]=t.uiData.non_section[p]))}"group_to_css"!==e||!t.draftInProgress()||i.keepAsDraft||i.skipSave||t.save_draft_selector(t.retargetSelector,!0,i.M,i),s.settings=i;var f=!1;t.jsDataFunc&&r.startT("modify_main_js_object_called_by_"+t.jsDataFunc+"_part_run_loop"),s=c.run(t.uiData,s),t.jsDataFunc&&r.endT("modify_main_js_object_called_by_"+t.jsDataFunc+"_part_run_loop"),i=s.settings,"reorder"===e&&c.updateObjectAndSavePackage(i.savePackage,i.moveUpdate.concat(i.orderUpdate)),"group_to_css"===e&&t.clean_duplicate_save_packages(i.savePackage,"fullSelectorUpdate"),a.rebuild&&!i.onlyUpdateSavePackage&&(t.uiData=i.newUiData);if(!(a.global_scans&&a.global_scans.length||r.in_array(e,["clear","clean","check_values","update_dots","map_to_template","styleids","get_first_sel"]))){var h=[];"group"===i.domDepth?"animation"===a.M.groupSlug||"transition"===a.M.groupSlug?h=["active_events"]:"font"===a.M.groupSlug?h=["g_fonts"]:"html"!==a.M.groupSlug&&"code"!==a.M.groupSlug||!n||(h=["html_mods"]):(h=["active_events","g_fonts"],n&&h.push("html_mods"));if(r.in_array(e,["reorder","copy","delete"])&&h.push("update_indexes"),t.client_scss){var _=i.preprocessor&&i.preprocessor.scss_types_changed,g=r.in_array(e,["reorder","copy","delete"])||i.itemWasDisabled&&"subgroup"!==i.itemWasDisabled;(_||g)&&h.push("scss_types"),g&&(i.fullSCSSCompile=1)}h.length&&(a.global_scans=h)}return a.global_scans&&a.global_scans.length&&(t.jsDataFunc&&r.startT("modify_main_js_object_called_by_"+t.jsDataFunc+"_part_global_scans"),i=c.run_global_scans(i,a.global_scans),t.jsDataFunc&&r.endT("modify_main_js_object_called_by_"+t.jsDataFunc+"_part_global_scans")),r.endT("modify_main_js_object_"+e),t.jsDataFunc&&(r.endT("modify_main_js_object_called_by_"+t.jsDataFunc),r.endT("modify_main_js_object_called_by_"+t.jsDataFunc+"_action_"+e)),i},modify_item:function(a,o,s,l){if(!s)return a;switch(s){case"group_to_css":"group"===a.depth&&i.group_to_css(a,o,l,a.item,a.group_key);break;case"clear":case"clean":var u=r.checkObject(l,[s,a.depth]);if(u){if("important"===a.recurse.recurseKey)for(var d=0;d<u.length;d++)(r.in_array("styles",u[d])||r.in_array("value",u[d]))&&(u=e.extend(!0,[],u)).splice(d,1);a.item=this.filter_object_keys(s,a.item,0,u),l.dontUpdateSavePackage||a.settings.savePackage.push({action:"replace",trail:a.trail[a.depth],data:a.item})}break;case"check_values":c.check_values(a,o,l);break;case"update_dots":c.update_dots(a,o,l);break;case"copy":switch(a.depth){case"section":case"selector":if(l.targetDepth===a.depth){var p=e.extend(!0,{},a.item);if(!a.recurse.current)if("section"===a.depth)p.this.label=l.newHuman;else{var f=p.label.split("|");p.label=l.newHuman+"|"+f[1]}a.parent[l.newSlug]=p,a.settings.savePackage.push({action:"append",trail:a.trail[a.depth].slice(0,-1),key:l.newSlug,data:p})}}break;case"reorder":c.reorder_items(a,o,s,l);break;case"rename":case"delete":c.rebuild_item(a,o,s,l);break;case"styleids":a.settings.styleNodeMeta.push({id:c.format_css_node_id([a.recurse.mq_key,a.section_key]),mq_key:a.recurse.mq_key,section_key:a.section_key});break;case"map_to_template":this.map_to_template(a,o,l);break;case"get_first_sel":a.settings.slugs={sectionSlug:a.section_key,selectorSlug:a.selector_key},a.return=!0;break;case"update_section_css":if(t.iframeEditing()){var h=r.get_section_css(a,o,a.section,a.section_key),_=a.recurse.mq_key;n.update_preview_style_node([_,a.section_key],h,c.get_media_query(_))}break;case"update_item_index":this.update_item_index(a,o,l)}return a.parent[a.key]=a.item,a},get_media_query:function(e){return"all-devices"!==e&&t.pref.m_queries[e].query},map_to_template:function(n,i,a){r.startT(arguments);var s=n.settings.templates;if("selector"===a.load){var l=n.section_key+"_"+n.selector_key,u=s[l],d=t.uiData[n.section_key][n.selector_key],p=[n.section_key,n.selector_key],f=n.selector,h=d.label.split("|"),_=h[0],g=h[1],m=t.get_nth_focus(d),v=n.recurse,y=v.recurseKey,b=v.mq_key,w="important"===y;if("selector"===n.depth)if(u||(u=s[l]=t.dom_replacements(!1,"selector",e(t.templates[a.templateKey]),"selector_section",n.section_key,!1,"selector_css",n.selector_key,_,g)),"selectorM"===a.templateKey){var T="opts-"+n.section_key+"-"+n.selector_key===r.checkObject(t.uiData,["non_section","meta","last_viewed_selector"]);T&&u.addClass("in-focus"),r.checkObject(f,["disabled"])&&u.addClass("item-disabled").find(".disabled-toggle").addClass("active").before(c.get_prepared_icon_template(n.trail.selector,"selector","disabled")),c.map_disabled_device_tabs(n,u),t.maybe_apply_search_results_to_item(n,u,_),c.map_multi_keys(n,u,f,b,T)}else{var x={chained:r.checkObject(f,["pg_chained"]),disabled:r.checkObject(f,["pg_disabled"]),pgtab_disabled:r.checkObject(f,["pgtab_disabled"]),flexitem:r.checkObject(d,["pg_flexitem"]),griditem:r.checkObject(d,["pg_griditem"])};for(var k in x)x.hasOwnProperty(k)&&this.apply_pg_toggles(m,k,u,x[k],n,_,g,b,p)}else if("group"===n.depth)this.maybe_add_group_template(u,n.section_key,n.selector_key,_,g,b,n.group_key);else if("property"===n.depth){r.startT("map_property");var S=t.get_dom_item(n,n.depth,"options",!1,!1,u);if(!1===S)return n;var C=n.property_key,M=n.item,A=M.value,O=M.unit;if(w){if("html"!==n.group_key){if(!r.isDefined(n.item))return n;c.map_important_values_to_field(S,n.item,n.trail.property)}}else{if("html"!==n.group_key&&o.apply_property_unit(A,A,O,S,n.group_key,n.property_key,{writeToLabel:1,writeToInput:1,trail:n.trail.propertyStyles}),!r.isDefined(A))return n;if(!S)return n;if("css"===C)S.find(".property-input").val(A);else{let e="html"===n.group_key?t.getGroupIndex(n.section_key,n.selector_key,n.group_key):t.get_nth_focus(d);c.map_property_values_to_field(n,n.group,C,S,A,e,O,n.group_key)}}r.endT("map_property")}}r.endT(arguments)},map_multi_keys:function(e,r,n,i,a){n.multi_key&&Object.entries(n.multi_key).forEach((([e,n])=>{r.find(".selector-multi-key-"+e).val(n),a&&(t.lastMultiTabKey[e]=n)}))},map_disabled_device_tabs:function(e,n){for(var i=Object.keys(TvrMQsCombined),a=!1,o=0;o<i.length;o++){var s=i[o],l=r.get_js_object_data([e.section_key,e.selector_key],s).levels.concat(["tab","disabled"]);if(r.checkObject(t.uiData,l)){var u=c.get_prepared_icon_template(l,"tab-input","tab_disabled");"all-devices"!==s&&u.removeClass("disabled-tracker-all-devices").addClass("disabled-tracker-"+s),a=a?a.add(u):u}}a&&n.find("span.disabled-responsive-tabs").html(a)},map_important_values_to_field:function(e,t,n){var i=r.get_name_attr_index(e.find(".property-input").attr("name"));(!r.check_type(t,["object","array"])||!1!==i&&t[i])&&e.find(".important-toggle").addClass("active").before(c.get_prepared_icon_template(n,"property","important",!1,i))},apply_manual_val_to_field:function(e){e.find(".tvr-input-wrap").addClass("manual-val").end().find(".comp-style:not(.comp-for-picker)").addClass("hidden")},map_property_values_to_field:function(n,i,o,s,u,d,p,f){var h=s.find(".tvr-input-wrap"),_=r.check_type(u,["object","array"])?u:[u],g=s.hasClass("is-picker"),m=h[0].outerHTML,v=[];if("Array"===_.value&&(_=[]),s.hasClass("has-variable-line")){_=_.filter(Boolean);var y=!1;r.in_array(o,["grid_template_rows","grid_template_columns"])&&(_=a.parseGridTracks(_.join(" ")).lines,y=!0);for(var b=1;b<_.length&&(v[b]=m,!y||!_[b].endLineName);b++);h.after(v)}h.parent().children(".tvr-input-wrap").each((function(a){var h=e(this),m=h.find(".property-input"),v=s.hasClass("tab-control-griditems"),b=!1!==d?parseInt(d):1,w=!1!==d&&"html"===f?parseInt(d):null,T=_[v?b:null!==w?w:a];if(v&&1!==b&&m.attr("name",r.replace_variable_name_attr(m.attr("name"),d)),y&&T)T.name&&h.find(".vl-pre-line-name").addClass("manual-val").find(".property-input").val(T.name),T.size&&h.find(".vl-main-input").addClass("manual-val").find(".property-input").val(T.size),T.endLineName&&h.find(".vl-post-line-name").addClass("manual-val").find(".property-input").val(T.endLineName);else{var x=p&&r.isNumeric(T)?T+p:T;m.val(x).attr("value",x)}if(g&&m.css("background-color",T),a<1){if("font_family"===o&&u===TvrLang.google_font&&s.siblings(".tvr-font-custom").removeClass("hidden"),"event"===o){var k=".event-value-field";":hover"!==u&&":focus"!==u&&(k+=", .event-target-field"),s.siblings(k).addClass("show-event-fields")}y||v&&!_[b]||c.apply_manual_val_to_field(s)}let S=n.multiTabInfo?n.multiTabInfo.attsData:null;if("snippet_id"===o&&T){t.pendingLoadExistingSnippet=!0;let e=s.next(".property-tag"),n=s.closest(".group-tag").find(".text-textarea");r.action_after_timeout("load_snippet",50,{item:function(){let r=t.get_meta(e,"group"),{aspect:a}=l.getFieldValues(r.groupTab,r,!0);l.loadSnippet({referenceId:T,$snippetTextarea:e.find("textarea.property-input"),group:i,index:d,attsData:S,$text:n,aspect:a}),t.pendingLoadExistingSnippet=!1}})}}))},maybe_add_group_template:function(n,i,a,s,l,u,d){r.startT(arguments);var p=c.get_group_markup(i,a,d,u),f=n.find(p.groupTabSelector);if(!f.length){let c;"html"===d&&(c=t.getGroupIndex(i,a,d)),(f=t.dom_replacements(!1,"group",e(t.templates.property_groups[d]),"selector_section",i,!1,"selector_css",a,s,l,u,c)).find("div.mt-has-unit").each((function(){var t=e(this),n=t.find("input.css_unit-tracker");if(!r.isDomEl(n)){var i=t.find("input.property-input:not(.vl-name-input)").attr("rel");o.apply_property_unit("","",void 0,t,d,i,{writeToLabel:1})}})),n.find(p.groupID).append(f)}return r.endT(arguments),f},apply_pg_toggles:function(e,n,i,a,o,s,l,u,d){if(r.startT(arguments),a){"flexitem"===n&&(a={flexcontainer:1}),"griditem"===n&&(a={generalgrid:1});var p="pgtab_disabled"===n?TvrMT.data.prog.pg_tab_map:TvrMT.data.prog.subToGroup;for(var f in a)if(a.hasOwnProperty(f))if("changehtml"===f&&(e=t.getGroupIndex(o.section_key,o.selector_key,"html")),r.isDefined(f)){if(!("griditems"===f||"disabled"===n&&Array.isArray(a[f]))||r.checkObject(a,[f,e])){var h=p[f],_=this.maybe_add_group_template(i,o.section_key,o.selector_key,s,l,u,h),g=_.find(".subgroup-control-"+f);switch(n){case"chained":case"disabled":g.find("."+n+"-toggle").addClass("active").before(c.get_prepared_icon_template(o.trail.selector,"subgroup",n,f)),"disabled"===n&&g.find(".quick-opts-wrap").addClass("item-disabled");break;case"pgtab_disabled":var m=f,v=_.find("."+h+"-tab-"+m),y="griditems"===m?e:void 0;v.find(".disabled-toggle").addClass("active").before(c.get_prepared_icon_template(o.trail.selector,"group",n,m,y)),v.addClass("item-disabled");break;case"flexitem":case"griditem":c.flip_flex_or_grid_item_switch(_,g,d,n)}}}else delete a[f];r.endT(arguments)}else r.endT(arguments)},flip_flex_or_grid_item_switch:function(e,r,n,i){e.addClass("show-single-"+i);var a=r.find("."+i+"-toggle");a.addClass("active").before(c.get_prepared_icon_template(n,"group",i)),"griditem"===i&&(a.attr("title",a.data("neg")),t.pref.grid_focus="griditems")},get_group_markup:function(e,t,r,n){var i="#opts-"+e+"-"+t+"-"+r,a=".property-"+r+".property-fields-"+n;return{groupID:i,groupTabClass:a,groupTabSelector:i+" "+a}},get_prepared_icon_template:function(r,n,i,a,o){return e(t.templates.icon_inputs[n][i]).attr("name",c.format_name_attr(r,n,i,a,o))},format_name_attr:function(e,t,n,i,a){var o=[];switch(n){case"important":o=e,r.isDefined(a)&&o.push(a);break;case"css_unit":o=e.concat("unit"),r.isDefined(a)&&o.push(a);break;case"chained":o=e.concat("pg_chained",i);break;case"flexitem":case"griditem":o=e.concat("pg_"+n);break;case"disabled":o=e.concat("pg_disabled",i);break;case"tab_disabled":o=e.concat("tab","disabled");break;case"pgtab_disabled":o=e.concat("pgtab_disabled",i),r.isDefined(a)&&o.push(a)}return"tvr_mcth["+o.join("][")+"]"},get_style_node_meta:function(e){return this.modify_main_js_object("styleids",{M:e,recurse_key:["m_query"],maxDepth:"section",callbackDepth:["section"],styleNodeMeta:[]}).styleNodeMeta},updateObjectAndSavePackage:function(e,t){if(r.check_type(t,["array"]))for(var n=0;n<t.length;n++)this.apply_to_object_and_save_packge(e,t[n]);else this.apply_to_object_and_save_packge(e,t)},apply_to_object_and_save_packge:function(e,n){window.TVR_DEV_MODE&&(n.callerFunc=arguments.callee.caller.caller.name),r.updateObject(t.uiData,n.trail,n.data,n),e.push(n)},filter_object_keys:function(e,t,n,i,a,o){var s="array"===o?[]:{},l=!1;if(a=a||{},r.check_type(t,["array","object"]))for(var c=r.get_array_or_object_keys(t),u=0;u<c.length;u++){var d=c[u],p=t[d];if(a[d]||i&&i[n]&&!r.in_array(d,i[n]))s[d]=p,l=!0;else if(o=r.check_type(p,["array","object"])){var f=this.filter_object_keys(e,p,n+1,i,a,o);r.obj_length(f)>0&&(s[d]=f,l=!0)}else if("clean"===e){var h="string"===p?p.trim():p;""!==h&&null!==h&&(s[d]=h,l=!0)}else"clear"===e&&(s[d]="",l=!0)}return l?s:""},resolve_item_rebuild:function(e,t,n,i,a,o){var s=!1,u=n.trail[n.depth];if("section"===n.depth&&o.targetSection===a||"selector"===n.depth&&o.targetSection===i&&o.targetSelector===a)switch(t){case"delete":s=!0,n.settings.savePackage.push({action:"delete",trail:u.slice(0,-1),key:a});break;case"rename":a=o.new_key;var d={},p=!1;if("section"===n.depth)n.recurse.current||(n.item.this.label=o.new_label,r.updateObject(d,["this","label"],n.item.this.label),p=!0);else if("selector"===n.depth){if(n.recurse.current||(n.item.label=o.new_label+"|"+o.new_code,r.updateObject(d,["label"],n.item.label),p=!0),o.new_code!==o.orig_code)c.replace_non_gui_selector(n.item,o.orig_code,o.new_code,d)&&(p=!0),r.updateObject(d,["xpath"],l.attemptXPathConversion(o.new_code)),p=!0}p&&n.settings.savePackage.push({action:"array_merge_recursive_distinct",trail:u,data:d}),n.settings.savePackage.push({action:"rename",trail:u.slice(0,-1),key:n.key,new_key:a,order:Object.keys(n.parent)})}if(!s){var f="section"===n.depth?[a]:[i,a];r.updateObject(e,f,n.item)}},reorder_after_copy:function(e,r,n){return e=t.get_dom_order(e,r,{prevSec:"",newSec:"",orig_order:["this"],new_order:["this"],map:[]},!1,!0),e=t.get_dom_order(e,r,t.menuOrder,!0,n)},replace_non_gui_selector:function(e,t,n,a){var o=r.checkObject(e,["ast","rules","non_gui"]),s=!1;if(Array.isArray(o))for(var l=0;l<o.length;l++){var c=o[l],u=r.checkObject(c,["selectors"]);u&&i.selectors_match(u,t)&&(c.selectors=i.format_ast_selector(n),s=!0)}return s&&r.updateObject(a,["ast","rules","non_gui"],o),s},reorder_items:function(t,n,i,a){var o=a.menuOrder,s=t.trail[t.depth];if("root"===t.depth&&r.in_array("root",a.callbackDepth)){var l=e.extend(!0,[],o.new_order);l.shift(),l.push("non_section"),t.settings.orderUpdate.push({callFunc:"reorder_items",action:"reorder",trail:s,order:l})}else if("section"===t.depth&&r.in_array("section",a.callbackDepth)&&(t.section_key===o.newSec||t.section_key===o.prevSec&&o.prevSec!==o.newSec))if(t.section_key===o.newSec)t.settings.orderUpdate.push({callFunc:"reorder_items",action:"reorder",trail:s,order:o.new_order});else if(t.section_key===o.prevSec&&t.item[a.targetSelector]){var c=s.slice(0,-1);c.push(o.newSec),t.settings.moveUpdate.push({callFunc:"reorder_items",action:"append",trail:c,key:a.targetSelector,data:t.section[a.targetSelector]},{callFunc:"reorder_items",action:"delete",trail:s,key:a.targetSelector})}return t},log_ui_aspect_used:function(e,a,o){e.settings[o]||(e.settings[o]={});var s,c,u=t.uiData[e.section_key],d=u[e.selector_key],p=e.selector,f=e.recurse.mq_key,h=[];if(!d)return e;switch(o){case"active_events":h=["animation","transition"];break;case"g_fonts":h=["google_font"],c="font";break;case"scss_types":if(!p.scss_types)return e;t.log_all_scss_usage(!0,e.settings.scss_usage,p.scss_types,e);break;case"get_all_scss":t.log_all_scss_selectors(e,p,f);break;case"tag_extended":t.tag_extended(e,p,f);break;case"search_folders":t.flag_search_matches(e,p,f);break;case"html_mods":l.collectActiveMods(e,p,f,d)}for(s=0;s<h.length;s++){var _=h[s];if("active_events"===o&&(c=_),!i.styles_disabled("sub_group",u,d,p,c))if("active_events"===o){var g=r.checkObject(e.selector,["styles",_]);if(g){var m=r.checkObject(g,["event","value"]);if(m){var v=r.convert_to_param(m,"");if("hover"!==v&&"focus"!==v){"js_focus"===v&&(v="focus");var y=d.label.split("|")[1];t.iframeEditing()&&(y=n.jquery_compat_sel_elements(y,!0)),e.settings.active_events[v]||(e.settings.active_events[v]=[]);var b=e.recurse,w=i.get_event_target_selpath(r.checkObject(e.selector,["styles",_,"event_target"]));e.settings[o][v].push({event:v,code:y,type:_,target:w[0],relative_dom:i.to_relative_dom_array(w[0],w[1]),mqKey:b.mq_key,mq:b.mq_key!==b.defaultMQKey&&t.pref.m_queries[b.mq_key].query.replace("@media","").trim()})}}var T=r.checkObject(g,["animation_name","value"]);T&&(r.updateObject(e,["settings","animations","used"],1),r.updateObject(e,["settings","animations","names",T],1))}}else if("g_fonts"===o){var x=r.checkObject(e.selector,["styles","font",_,"value"]);if(x){var k=i.extract_gf_values(x);r.updateObject(e.settings[o],["fonts",k.urlName,k.variant],1),k.subset&&r.updateObject(e.settings[o],["subsets",k.subset],1),e.settings[o].used=1}}}return e},generate_initial_style_node_html:function(e){var i,a={},o=Object.keys(TvrMQsCombined),s=TvrMT.data.prog.custom_code_flat,l=["non_section"],u="";for(var d in s)if(s.hasOwnProperty(d)&&"hand_coded_css"===d){t.client_scss&&(d+="_compiled"),i=l.concat(d);var p=r.checkObject(t.uiData,i)||"";u+="<style "+(n.getMTDynFrontData().isAdminArea?'media="not all"':"")+' id="'+this.format_css_node_id(i)+'"  />'+p+"</style>"}for(var f=0;f<o.length;f++){var h=o[f];a[h]={query:"all-devices"!==h&&TvrMQsCombined[h].query,node_code:""}}var _=c.run(t.uiData,{settings:{style_nodes:a,folderLoading:e},template:"ui",maxDepth:"section",onlyLoop:{recurse_key:["m_query"]},cb:{section:[{item:c.format_style_node,args:[]}]}}).settings,g='<style id="'+this.format_css_node_id(["mt-start"])+'" /></style>'+u;for(f=0;f<o.length;f++){var m=o[f];g+='<style id="'+this.format_css_node_id([m])+'" /></style>'+_.style_nodes[m].node_code}return g+='<style id="'+this.format_css_node_id(["mt-end"])+'" /></style>'},format_style_node:function(e,t){var n=e.recurse.mq_key;e.recurse.current;if(!e.settings.style_nodes[n])return e;if("section"===e.depth){var i=r.get_section_css(e,t,e.item,e.section_key);if(i){var a=e.settings.style_nodes[n].query,o=s.folderNotLoading(e.section_key,!0)?'media="not all"':"";i=a?a+"{"+i+"}":i,e.settings.style_nodes[n].node_code+='<style id="'+this.format_css_node_id([n,e.key])+'" '+o+" />"+i+"</style>"}}return e},format_css_node_id:function(e,t){return t=t||"mtprv",e.unshift(t),e.join("-")},run_global_scans:function(a,o){r.startT(arguments);var s,u={},d=!1,p=[],f=[];for(s=0;s<o.length;s++){var h=o[s];if("update_indexes"!==h){if(f.push({item:c.log_ui_aspect_used,args:[h]}),u[h]=!0,"scss_types"===h){a.scss_usage={};var _=["non_section","code_editors","hand_coded_css","scss_types"];t.log_all_scss_usage(!1,a.scss_usage,r.checkObject(t.uiData,_),{settings:a,trail:{item:_}},_)}"html_mods"===h&&(a.mqMap=Object.fromEntries(Object.entries(TvrMQsCombined).map((([e,t])=>[e,t.query]))),a.mqMap["all-devices"]="all-devices",n&&(a.frontMods={mods:n.stat.win.amender&&n.stat.win.amender.mods?n.stat.win.amender.mods:{}}),a.modUsage={snippetChanged:l.snippetChanged,comparison:{},events:{},mods:{},snippets:{},npm_dependencies_in_use:{},npm_dependencies_added:{},requiresPageRefresh:0},l.snippetChanged="")}else d=!0}if(d){var g={item:c.update_item_index,args:[h]};p.push(g),f.push(g)}u.get_all_scss&&(a.deps=t.prepare_dependent_sels_obj({}));var m={settings:a,template:"ui",maxDepth:"selector",cb:{section:p,selector:f,group:[]}},v={recurse_key:["m_query"]};a.mq_key&&r.in_array("tag_extended",o)&&(v.mq_key=[a.mq_key]);var y=e.extend(!0,{},v);if(m.onlyRun=v,m.onlyLoop=y,a=c.run(t.uiData,m).settings,u.active_events){var b=r.checkObject(t.uiData,["non_section","active_events"]),w=r.stringify_object(a.active_events),T=r.stringify_object(r.checkObject(t.uiData,["non_section","meta","animations"])),x=r.stringify_object(a.animations);w!==b&&(c.updateObjectAndSavePackage(a.savePackage,{action:"replace",trail:["non_section","active_events"],data:w}),t.iframeEditing()&&(n.stat.win.MT_Events_Data=a.active_events,t.refresh_event_binding())),x!==T&&c.updateObjectAndSavePackage(a.savePackage,{action:"replace",trail:["non_section","meta","animations"],data:a.animations?a.animations:""})}if(u.g_fonts){var k="",S=a.g_fonts?a.g_fonts:{};if(S.used){k="//fonts.googleapis.com/css?family=";var C=S.fonts,M=[];for(var A in C)if(C.hasOwnProperty(A)){var O=Object.keys(C[A]).filter((function(e){return""!==e}));if(A.indexOf("var(")>-1){var E=i.get_variable_name(A),P=i.get_variable_value(E,"css");P&&(A=P)}O.length&&(A+=":"+O.join(",")),M.push(A)}k+=M.join("|")}var D=S.subsets?Object.keys(S.subsets):[],j=k?{g_fonts_used:S.used,g_url:k,g_url_with_subsets:this.g_url_with_subsets(k,D),found_gf_subsets:D}:{},I=r.stringify_object(r.checkObject(t.uiData,["non_section","meta","g_fonts"]));r.stringify_object(j)!==I&&(c.updateObjectAndSavePackage(a.savePackage,{action:"replace",trail:["non_section","meta","g_fonts"],data:j}),t.update_gf_url=!0)}if(u.scss_types){var L=r.stringify_object(r.checkObject(t.uiData,["non_section","scss_usage"]));r.stringify_object(a.scss_usage)!==L&&c.updateObjectAndSavePackage(a.savePackage,{action:"replace",trail:["non_section","scss_usage"],data:a.scss_usage})}return u.html_mods&&l.modificationsUpdated(a.modUsage),r.endT(arguments),a},g_url_with_subsets:function(e,r){if(!e)return"";var n=[];if(t.pref.gfont_subset){var i=t.pref.gfont_subset.match(/subset=(.+)/);i&&i[1]&&n.push(i[1])}var a=r.concat(n);return a.length&&(e+="&subset="+a.join(",")),e},get_property_data:function(e,t,n,i){var a=this.get_selector_data(e,t,n),o=["styles",e.groupSlug],s="group";return i||(o.push(e.propertySlug),s="property"),a[s]=r.checkObject(a.data,o),a.propLevels=[].concat(a.levels,o),a},get_selector_data:function(e,n,i){return n=n||t.get_mq_focus(),r.get_js_object_data([e.sectionSlug,e.selectorSlug],n,i)},getnewUiDataObject:function(e,t){var n,i=e.recurse,a=[i.rootRecurseKey,i.recurseKey];return i.current?("m_query"===i.recurseKey?a.push(i.mq_key):"important"===i.recurseKey&&"all-devices"!==i.mq_key&&(a=a.concat(["m_query",i.mq_key])),r.checkObject(t,a)||r.updateObject(t,a,{}),"m_query"===i.recurseKey?n=t[i.rootRecurseKey][i.recurseKey][i.mq_key]:"important"===i.recurseKey&&(n="all-devices"!==i.mq_key?t[i.rootRecurseKey][i.recurseKey].m_query[i.mq_key]:t[i.rootRecurseKey][i.recurseKey])):n=t,n}};return c}()})),jQuery(document).ready((function(e){TvrMT.mod.MTdd=function(){var t,r,n,i,a,o,s,l,c,u,d,p="(?:(?:\\*\\*)?\\s*MT\\s*\\[(.+)\\])",f="(?:\\s+"+p+")?",h={mt_config_regex:p,set_vars:function(){r=TvrMT.TvrCom,n=TvrMT.mod.MTRegExp,t=TvrMT.TvrUi,i=TvrMT.MTF,a=TvrMT.mod.MTace,TvrMT.mod.MTint,o=TvrMT.mod.MTloop,s=TvrMT.mod.MTsave,l=TvrMT.mod.MTgrid,c=TvrMT.mod.MTwidget,u=TvrMT.mod.MThtml,d=TvrMT.mod.MTai},inputs_to_data:function(e,t,r){r=r||{};for(var n={},i={},a=e.find("input, textarea").not(".register-selector, .snippet-textarea, .text-textarea").serializeArray(),o=0;o<a.length;o++){var s,l=a[o];if(r.stripUnits&&l.name.indexOf("[value]")>-1&&""!==l.value)if(r.pre_clear&&(s=new RegExp("\\[("+r.pre_clear.join("|")+")\\]")),!s||!l.name.match(s)){var c=h.separate_value_unit(l.value);c&&(l.value=c.value)}""===l.value&&l.name.match(/\[\]$/)||l.name.match("grid_template_areas_add")||h.fill_object_from_name(n,l.name,l.value,t,i)}return n},fill_object_from_name:function(e,t,n,i,a){var o=this.get_trail_from_name(t,i,a);return o.length&&r.updateObject(e,o,n),{obj:e,trail:o}},get_trail_from_name:function(e,t,n){void 0!==(n=n||{})[e]?n[e]+=1:n[e]=0;var i=t?/(?:^([a-z0-9_]*))|(?:\[([a-z0-9_]*)\])/g:/(?:\[([a-z0-9_]*)\])/g,a=r.get_all_matches(e,i,1,{autoIncrement:n[e]});let o=null;for(var s=0;s<a.length;++s){let e=a[s];"m_query"!==o&&r.isNumeric(e)&&(a[s]=parseFloat(e)),o=e}return a},scope_from_depth:function(e,r,n){var i=!1;switch(n=n||e.tabSlug,r){case"property":i=e.property;break;case"group":i=t.get_group(e);break;case"tab":i=e.selector.find("div.property-fields-"+n);break;case"selector":i=e.selector.add(e.selectorM);break;case"section":i=e.section.add(e.sectionM)}return i},pre_clear_styles:function(e,t,n){for(var i=0;i<n.length;i++)o.updateObjectAndSavePackage(e.savePackage,{action:"delete",key:n[i],trail:r.get_js_object_data([t.sectionSlug,t.selectorSlug],t.tabSlug).levels.concat(["styles",t.groupSlug])})},dom_to_data:function(e,t){return e.pre_clear&&this.pre_clear_styles(e,e.M,e.pre_clear),e.$scope=t||h.scope_from_depth(e.M,e.domDepth,e.mq_key),!e.mtData&&e.$scope&&(e.mtData=h.inputs_to_data(e.$scope,!1,e)),e.dontMerge||(e.savePackage=e.savePackage?e.savePackage:[],o.updateObjectAndSavePackage(e.savePackage,{action:"array_merge_recursive_distinct",trail:[],data:e.mtData})),"mtData"!==e.return&&(e=o.modify_main_js_object("group_to_css",e,{maxDepth:"group",recurse_key:["m_query"]})),e.clean&&(e=o.modify_main_js_object("clean",e,{maxDepth:e.cleanMaxDepth?e.cleanMaxDepth:"section"})),e},data_to_template:function(t,r){var n=o.modify_main_js_object("map_to_template",e.extend(!0,r,{templates:{}})),i=Object.values(n.templates);return i.length>1?i:i[0]},get_event_target_selpath:function(e){return r.checkObject(e,["value"])?e.value.split("|"):[]},to_relative_dom_array:function(e,t,n){let i=n?u.attemptXPathConversion(e):"";if(!t)return i?{xpath:i}:t;for(var a=["parents","closest","children","find","siblings"],o=new RegExp(h.reg.relative_dom_code(),"g"),s=[];o.exec(t);){var l=RegExp.$1,c="";RegExp.$2?c=RegExp.$2:r.in_array(l,a)&&(c=e),s.push({directive:l,selector:c,xpath:n?u.attemptXPathConversion(c):void 0})}return n?{xpath:i,iterate:s}:s},styles_disabled:function(e,t,n,i,a,o,s,l){var c=["pg_disabled","flexitem"===a?"flexcontainer":a],u=["pgtab_disabled",s];if(r.isDefined(l)&&(c.push(l),u.push(l)),"sub_group"===e){var d=r.checkObject(i,c)||r.checkObject(i,u),p=r.checkObject(i,["tab","disabled"])||n.disabled||t.this&&t.this.disabled;return"justPG"===o?d:"tabSelSec"===o?p:d||p}return!1},event_type:function(e){return!!e&&("hover"!==e&&"focus"!==e?"js":"css")},code_for_sass_editor:function(e,t,n,i){var a=r.get_js_object_data([e,t],i).data,o=r.checkObject(a,["styles","code","css","value"]);if("consolidatedGUI"===o){var s=r.checkObject(a,["ast","rules","non_gui"]);if(s&&s.length){var l={type:"rules",rules:s};return r.remove_last_linebreak(this.stringify_css(l,h.cssDefaultConfig()))}}return o},resolve_inline_editor_content:function(e){var r;if(t.scss_enabled)r=h.code_for_sass_editor(e.sectionSlug,e.selectorSlug,e.selectorCode,t.get_mq_focus());else{var n=h.unsupported_and_gui_styles(e.sectionSlug,e.selectorSlug,e.selectorCode);r=!!n&&n.compiled_css}return r},unsupported_and_gui_styles:function(n,i,a,s){var l=[n,i],c="all-devices"===(s=s||t.get_mq_focus())?r.checkObject(t.uiData,l):r.checkObject(t.uiData,["non_section","m_query",s].concat(l)),u=r.checkObject(c,["styles","code","css","value"]);if(u&&"consolidatedGUI"!==u){var d="all-devices"!==s;o.modify_main_js_object("group_to_css",{savePackage:[]},{M:{sectionSlug:n,selectorSlug:i},maxDepth:"group",mq_key:s,incRecurse:d,onlyRecurse:d,recurse_key:["m_query"],mergeCustomCode:!0,justUpdateAST:!0})}var p=r.checkObject(c,["ast","rules"]);if(!p)return!1;var f=this.all_selector_styles(c,a,e.extend(!0,h.cssDefaultConfig(!1),{primarySelCode:a}),p);return f.compiled_css&&(f.compiled_css=r.remove_last_linebreak(f.compiled_css)),f},cssDefaultConfig:function(e){return{singleNode:!0,opts:{},tabDepth:0,tab:""}},consolidate_duplicate_rules:function(t,n,i){if(i=i||{},n=n||[],t)for(var a=0;a<t.length;a++){var o=e.extend(!0,{},t[a]),s=o.selectors.join(","),l=i[s];if(r.isDefined(l)&&n[l]&&n[l].declarations){for(var c=n[l].declarations,u=[],d={},p=0;p<c.length;p++){var f=c[p];"comment"===f.type||(d[f.property]=f.value)}if(o.declarations){for(p=0;p<o.declarations.length;p++){var h=o.declarations[p];d[h.property]===h.value&&"comment"!==h.type||u.push(h)}n[l].declarations=n[l].declarations.concat(u)}}else n.push(o),i[s]=n.length-1}return n},code_edited_property:function(e){var t,n,i,a=h.parse_custom_nodes(e,"declaration");return r.check_type(a,["object"])&&(n=h.input_field_available(a.property,a.value))&&n.length&&(i="animation"===(t=n[0].group)),{group:t,node:a,fieldData:n,isAnimationProp:i}},all_selector_styles:function(e,n,i,a,o){i=i||{};var s={primarySelAst:h.format_ast_selector(n),primarySelPresent:!1,type:"rules",rules:[]},l={},c=Object.keys(TvrMT.data.prog.PGs);t.scss_enabled||(c=c.concat(["non_gui"]));for(var u=0;u<c.length;u++){var d=a[c[u]];d&&(s.rules=this.consolidate_duplicate_rules(d,s.rules,l))}if(s.rules=this.maybe_format_gradient(s.rules),s.rules=this.disabled_decs_to_comment_and_check_primary_present(s),s.primarySelPresent||s.rules.unshift({type:"rule",selectors:s.primarySelAst,declarations:[]}),o&&!t.client_scss&&(s.rules=this.add_final_compile_data(s.rules)),this.ensure_primary_selector_first(s.rules,i.primarySelCode),i.all_ast=s,i.compiled_css=s.rules.length?h.stringify_css(s,i):"",t.scss_enabled){var p=r.checkObject(e,["styles","code","css","value"]);if(p&&p.trim()&&"consolidatedGUI"!==p){var f=h.get_first_selector_in_css(i.compiled_css),_=h.get_first_selector_in_css(p),g=t.extract_inner_styles(p);g&&(g=g.trim());var m=g?"\n\t":"",v=new RegExp(r.escapeRegExp(f)+"\\s*{","i"),y=f+" {"+m+g;i.compiled_css?this.selectors_match(f,_)?i.compiled_css=i.compiled_css.replace(v,y):i.compiled_css=p+"\n"+i.compiled_css:i.compiled_css=p}}return i.compiled_css.match(h.reg.emptySelector())&&(i.compiled_css=""),i},ensure_primary_selector_first:function(e,t){for(var r=!1,n=!1,i=0;i<e.length;i++){var a=e[i],o=this.selectors_match(t,a.selectors);if(0===i){if(o)return!0}else o&&(r=i,n=a)}r&&(e.splice(r,1),e.splice(0,0,n))},get_first_selector_in_css:function(e){var t=e.match(/^([^{]+){/);return!!t&&t[1].trim()},run_css_to_selector:function(e,t){return t.activeEditorToCSS||this.merge_custom_code_with_gui(e,t)},data_structure_precedes_jsu:function(e,r){return!r.jsu||r.jsu<t.jsuEvents[e]},merge_custom_code_with_gui:function(e,t){return t.mergeCustomCode||this.data_structure_precedes_jsu("synced_code_gui",e)},selector_groups_to_ast:function(e,t,r,n){var i=e.selector.styles;if(!i)return!1;var a=Object.keys(i);if(Array.isArray(a)){r.processing_non_code_ast_groups=!0;for(var o=0;o<a.length;o++){var s=a[o];("code"!==s||n)&&this.group_to_css(e,t,r,e.selector.styles[s],s)}r.processing_non_code_ast_groups=!1}},css_to_selector:function(e,n,i,s,l,c,u,d){r.startT(arguments);var p=this.merge_custom_code_with_gui(d,i),f=i.activeEditorToCSS,_=f?f.editorCSS:r.checkObject(d,["styles","code","css","value"]),g=e.trail.selector,m=r.get_js_object_data([l],s,!0),v=m.data,y=m.levels.concat([c]),b=u.label.split("|"),w=b[0],T=b[1];_||(_=T+" {\n\t\n}");var x=h.get_first_selector_in_css(_),k=f?x:T,S=!!f&&!this.selectors_match(T,k),C=!x&&p;if(_){var M={inline_css_to_gui:1,origSelectorSlug:c,origSelName:w,origSelCode:T,newSelCode:k,css_imp_sels:1,css_imp_styles:1};if(C&&(_=T+" { "+_+"}"),t.scss_enabled)return C&&o.updateObjectAndSavePackage(e.settings.savePackage,{action:"append",key:"value",trail:e.trail.selector.concat(["styles","code","css"]),data:_}),f&&(r.checkObject(d,["ast","rules","non_gui"])&&o.updateObjectAndSavePackage(e.settings.savePackage,{trail:e.trail.selector.concat(["ast","rules"]),action:"delete",key:"non_gui"}),S&&this.update_primary_selector(l,c,k)),r.endT(arguments),e;var A=h.parse_css(_,!0),O=r.checkObject(A,["stylesheet","parsingErrors"]);if(O&&O.length)return f&&(e.settings.invalidEditorCSS=!0,e.return=!0),r.endT(arguments),e;f&&S&&a.sync_related_selectors(f.editor,T,k);var E=h.ast_to_data(A.stylesheet.rules,M),P=[r.convert_to_param(TvrLang.imp_css_folder)+"_1",c],D=["ast","rules","non_gui"],j=r.checkObject(E,P.concat(["styles"])),I=r.checkObject(E,P.concat(["pg_chained"])),L=r.checkObject(E,P.concat(["pg_disabled"])),R=(r.checkObject(E,P.concat(["pgtab_disabled"])),r.checkObject(E,P.concat(D))),N=r.checkObject(E,["non_section","important"].concat(P)),F=!1,q=f?"replace":"array_merge_recursive_distinct";f&&(delete d.ast,delete d.styles,delete d.pg_chained,delete d.pg_disabled,delete d.pgtab_disabled,delete d.itemsWithValues,v&&v[c]&&delete v[c]),j&&(r.updateObject(d,["styles"],j,{action:q}),r.updateObject(d,["styles","code","css"],"consolidatedGUI",{action:"append",key:"value"})),I&&r.updateObject(d,["pg_chained"],I,{action:q}),L&&r.updateObject(d,["pg_disabled"],L,{action:q}),R&&r.updateObject(d,D,R,{action:"replace"}),N&&r.updateObject(t.uiData,y,N,{action:q,key:c}),f&&S&&(this.update_primary_selector(l,c,k),F=!0),F||this.selector_groups_to_ast(e,n,i),e.settings.savePackage.push({action:"replace",trail:g,data:d},{action:"replace",trail:y,data:r.checkObject(t.uiData,y)})}return r.endT(arguments),e},update_primary_selector:function(n,a,o){t.curSelCSS=r.custom_escape_quotes(o);var s=t.get_meta(e("#"+t.selInFocusID),"selector");t.get_set_selector_values({action:"set",target:"popup",context:"edit",label:s.selectorH,code:o,M:s}),t.dontLogSelectorChange=!0,t.action_modify_selector(s,t.stat.editSelectorForm,{M:{sectionSlug:n,selectorSlug:a},maxDepth:"group",recurse_key:["m_query"]},!1,!0),t.iframeEditing()&&i.select_current_selector_elements({con:"sel-customised-via-editor",css:o,scroll:1,existingSelCSS:o}),t.dontLogSelectorChange=!1},group_to_css:function(n,a,s,c,u){var d={},p=n.recurse.mq_key,f=["non_section","important"];n.compile_non_compiled||(n.selector.jsu=t.jsuVersion),"all-devices"!==p&&f.push("m_query",p);var _=r.checkObject(t.uiData,f),g=(n.section,n.selector),m=n.section_key,v=n.selector_key,y=t.uiData[m],b=y[v],w=(b.label.split("|")[0],b.label.split("|")[1]),T=(g.styles,TvrMT.data.prog.lh),x=(TvrMT.data.prog.sh,TvrMT.data.prog.pg_tab_props.grid.allgriditems),k={highestLength:1,rootSection:y,rootSelector:b,selector:g,selCode:w,props:{},rules:[],grid_item_props:TvrMT.data.prog.pg_tab_props.grid.griditems},S=h.css_functions_config();d.primarySelCode=w,d.event=r.checkObject(c,["event","value"])?r.convert_to_param(c.event.value,""):"";var C=h.get_event_target_selpath(c.event_target);d.event_target=C[0],d.event_target_path=C[1],"js"===h.event_type(d.event)&&(d.isJSEvent=!0,d.JSEventClass="mt-"+d.event),d.ast_eventless_selector_string=d.event_target&&d.isJSEvent?d.event_target:w,d.ast_eventless_selector=h.format_ast_selector(d.ast_eventless_selector_string),d.ast_selector=h.maybe_add_event_selector(d.ast_eventless_selector,d.event,!0),d.ast_selector_string=d.ast_selector.join(", ");var M,A={type:"rules",rules:[]},O={type:"rule",selectors:h.format_ast_selector(w),declarations:[]},E={type:"rule",selectors:h.format_ast_selector(d.event_target),declarations:[]},P={type:"rule",selectors:h.maybe_add_event_selector(d.ast_eventless_selector,d.event,!1),declarations:[]},D={type:"rule",selectors:h.add_to_poss_comma_selector(w,{allitems:1},!0),declarations:[]},j={type:"rules",rules:[]},I={type:"rule",selectors:h.maybe_add_event_selector(d.ast_eventless_selector,d.event,!0),declarations:[]},L=["event","event_target"],R=TvrMT.data.prog.subGroupKeys[u];if(!R)return d;for(var N=0;N<R.length;N++){var F=R[N],q=r.prop_to_cssf(F),U=r.checkObject(c,[F]),z=r.checkObject(c,[F,"value"]),B=T[q],$=void 0,H=!1,V="html"===u,W="grid"===u&&x[F],G="grid"===u&&k.grid_item_props[F],K=G?0:void 0,Q=r.checkObject(T,[q,"tab_control"]),X=!1,Y=!1,J=r.check_type(z,["object","array"]);M=B.sub_slug?B.sub_slug:M;var Z=this.get_important_carrier_prop(q,F),ee=r.checkObject(_,[m,v,u,Z]),te=ee?" !important":"",re=h.styles_disabled("sub_group",y,b,g,M,"justPG",Q,K);if(r.isDefined(B.css_func)&&(S.shouldFormat=!0,re&&(S.pgDisabled[M]=M),te&&(S.properties[u].important=te)),J)if(X=z,Y=ee||[],G){z=X[0],te=Y[0]||"";var ne=h.get_nth_values(X),ie=ne.length;ne&&ie&&(r.updateObject(k.props,[F,"values"],ne),ie>k.highestLength&&(k.highestLength=ie)),k.props[F]&&e.extend(!0,k.props[F],{important:h.get_nth_values(Y),sub_slug:M,pgTabGroup:Q})}else z="none"===z[0]?"none":r.joinObjectOrArray(z," ");if("code"===u||"html"===u||z&&!r.in_array(F,L))if("code"!==u){if("font-family"===q&&z===TvrLang.google_font&&(V=!0),"google-font"===q&&(q="font-family",h.isJustVariable(z)||(z="'"+h.extract_gf_values(z,"name")+"'")),"background-image"===q||"list-style-image"===q||"mask-image"===q){var ae=z.match(new RegExp(h.reg.abs_or_rel_file()));ae&&(z='url("'+ae[1]+'")')}if("grid-template-areas"===q&&(z=l.format_template_areas_nicely(z)),t.propAliases[q]&&(q=t.propAliases[q]),"event_value"!==F||"line-height"!==c.transition_property&&"opacity"!==c.transition_property){var oe=t.maybe_set_unit(U,u,F,z);oe&&(z=oe.val)}var se=O;if(d.event&&(se=P,V=!0),W&&(se=D),z&&(z=t.fixVariableDefinitions(z)),"transition"===u&&(se=O,V=!1,d.event_target&&"event_value"!==F?(se=E,H=!0,V=!0):"event_value"===F&&r.checkObject(c,["transition_property","value"])&&z&&(se=P,q=r.checkObject(c,["transition_property","value"]),$=z,V=!0)),(N<1||$)&&V){var le={};switch(u){case"html":R.forEach((function(e){if(c[e]){let t=c[e].value;t&&t.forEach(((t,r)=>{t&&"snippet"!==e&&"move_relative_dom"!==e&&(le[e+"["+r+"]"]=t)}))}}));break;case"font":var ce=r.checkObject(c,["google_font","value"]),ue=h.extract_gf_values(ce);le={google_font:ue.name?1:void 0,variant:ue.variant,subset:ue.subset};break;case"animation":case"transition":e.extend(!0,le,{sub:1,group:u,event:H||!d.event?void 0:1,event_value:$?1:void 0,event_target:d.event_target?1:void 0,target_path:d.event_target_path?d.event_target_path:void 0})}if(h.add_declaration_comment(se,le),"font-family"===q&&z===TvrLang.google_font)continue}"html"!==u&&h.add_declaration(se,q,z,te,!1,re,M)}else{if(s.selCodeChanged&&t.scss_enabled&&z&&"consolidatedGUI"!==z){var de=h.get_first_selector_in_css(z),pe=new RegExp(de,"i"),fe=z.replace(pe,s.selCodeChanged.newCode);o.updateObjectAndSavePackage(n.settings.savePackage,{action:"replace",trail:n.trail.selector.concat(["styles","code","css","value"]),data:fe})}if(this.run_css_to_selector(g,s)&&(n=this.css_to_selector(n,a,s,p,m,v,b,g)).return)return n}}var he=[{type:"rootRule",rule:O},{type:"eventRule",rule:P},{type:"targetRule",rule:E},{type:"allGridItemRule",rule:D}],_e={};r.obj_length(k.props)&&(h.format_nth_item_rules(k,_e),k.rules.length&&(he=he.concat(k.rules))),"grid"===u&&(g.itemsWithValues=_e);for(var ge=0;ge<he.length;ge++){var me=he[ge];me.rule.declarations.length&&(me.rule=this.maybe_format_shorthand(me.rule),S.shouldFormat&&(me.rule=this.format_css_functions(me.rule,S)),A.rules.push(me.rule),"eventRule"===me.type?(I.declarations=e.extend(!0,[],P.declarations),j.rules.push(I)):j.rules.push(e.extend(!0,{},me.rule)))}d.ast=A,t.scss_enabled||r.checkObject(g,["styles","code","css","value"])||r.updateObject(g,["styles","code","css","value"],"consolidatedGUI");var ve="all-devices"!==p,ye=h.cssDefaultConfig(p),be=!!ve&&t.pref.m_queries[p].query;if(j.rules=this.add_final_compile_data(j.rules),j=ve?{type:"media",media:t.pref.m_queries[p].query.replace("@media","").trim(),rules:j.rules}:j,(d=e.extend(!0,ye,d)).ast.rules.length&&(d.flashCSSRules=h.stringify_css(j,d)),r.updateObject(g,["ast","rules",u],A.rules),"animation"!==u||"group"!==n.settings.domDepth&&!s.triggeredFromEditor||(n.settings.animationConfig=d,n.settings.animationConfig.animationName=c.animation_name),s.justUpdateAST)return d;if(h.styles_disabled("sub_group",y,b,g,M,"tabSelSec")?d.compiled_css="":d=this.all_selector_styles(g,w,d,g.ast.rules,!0),g.compiled_css=d.compiled_css,t.client_scss){var we=d.compiled_css,Te=n.settings,xe=t.check_update_scss_changes(Te,{code:we,mq_key:p,scss_types_trail:n.trail.selector.concat(["scss_types"]),resourceTrail:n.trail.selector});g.raw_scss!==we&&(g.raw_scss=we);var ke=g.scss_types;n.settings.preprocessor={index:b.index,sectionIndex:y.this.index,sectionSlug:m,selectorSlug:v,scss_types:ke,code:we||w+" { }",trail:n.trail.selector,selIdentifier:n.trail.selector.join("."),selectorEdited:!0,mq_key:p,scss_types_changed:xe,extendChanged:ke&&r.obj_length(ke.extend)>0}}else t.pref.manual_recompile_all_css&&(delete g.raw_scss,delete g.scss_types);!t.iframeEditing()||n.no_style_node_update||t.scss_enabled||i.update_preview_style_node([p,m],r.get_section_css(n,a,n.section,m),be,n.settings.doNotRepositionOverlays),s.dontUpdateSavePackage||n.settings.savePackage.push({callFunc:"group_to_css",fullSelectorUpdate:1,action:"replace",trail:n.trail.selector,data:g})},get_nth_values:function(e){for(var t=[],n=0;n<e.length;n++)r.isDefined(e[n])&&(t[n]=e[n]);return t},format_nth_item_rules:function(e,n){for(var i=Object.keys(e.props),a=0;a<e.highestLength;a++){for(var o={type:"rule",selectors:h.add_to_poss_comma_selector(e.selCode,{nth:a},!0),declarations:[]},s=0;s<i.length;s++){var l=i[s],c=e.props[l],u=e.grid_item_props[l];t.propAliases[u]&&(u=t.propAliases[u]);var d=c.values,p=c.important[a]?" !important":"",f=c.sub_slug,_=h.styles_disabled("sub_group",e.rootSection,e.rootSelector,e.selector,f,"justPG",c.pgTabGroup,a),g=d?d[a]:void 0;if(r.isDefined(g)){if(n[a]=1,!(a>0))break;h.add_declaration(o,u,g,p,!1,_,f)}}o.declarations.length&&e.rules.push({type:"nthItemRule",rule:o})}return e.rules},extract_gf_values:function(e,t){if(!e)return{};var r=e.split(" ("),n={str:e,name:r[0],urlName:r[0].replace(/\s/g,"+"),variant:r[1]?r[1].replace(/[\s)(]+/g,""):""},i=n.variant.split(",");return i[1]&&(n.variant=i[0],n.subset=i[1].trim()),t?n[t]:n},add_final_compile_data:function(e){for(var n=0;n<e.length;n++){var i=e[n];if(i.rules)i.rules=this.add_final_compile_data(i.rules);else{if(!i.declarations)continue;for(var a=TvrMT.data.prog.lh,o=TvrMT.data.prog.sh_prefixes,s=i.declarations,l=[],c=!1,u=0;u<s.length;u++){var d=s[u];if(d){if("declaration"===d.type){var p=d.property,f=d.value,_="";parseInt(t.pref.css_important)&&r.isDefined(f)&&f.indexOf("!important")<0&&p.indexOf("$")<0&&(_=" !important",d.value+=_);var g=r.checkObject(a,[p,"prefixes"]),m=r.checkObject(o,[p,"prefixes"]);if(g||m){var v=g||m,y=[],b=[];if(v.property)for(var w=0;w<v.property.length;w++)y[w]=h.add_declaration(i,v.property[w],f,_,!0);if(v.values)for(var T in v.values)if(v.values.hasOwnProperty(T)&&f===T)for(var x=0;x<v.values[T].length;x++)b[x]=h.add_declaration(i,p,v.values[T][x],_,!0);l[u]=y.concat(b)}}else if("comment"===d.type){var k=this.get_extracted_config(d.comment);!c&&k&&k.event&&(this.maybe_add_hover_focus_event_class(i.selectors),c=!0)}}else s.splice(u,1)}var S,C=0;for(u=0;u<l.length;u++)l[u]&&(S=0===C?u:u+C,s.splice(S,0,l[u]),C++);i.declarations=r.flatten(s)}}return e},disabled_decs_to_comment_and_check_primary_present:function(e){for(var t=e.rules,r=0;r<t.length;r++){var n=t[r];if(e.primarySelPresent||h.selectors_match(e.primarySelAst,n.selectors)&&(e.primarySelPresent=!0),n.declarations&&!(n.declarations.length<1)){var i,a,o=n.declarations,s={};for(a=0;a<o.length;a++){var l=o[a];if(l){if(l.pgDisabled){var c=l.pgDisabled;s[c]||(s[c]={comment:[],count:0,index:a}),(i=s[l.pgDisabled]).comment.push(l.property+": "+l.value+";"),i.count++}}else o.splice(a,1)}for(var u in s)s.hasOwnProperty(u)&&(i=s[u],o.splice(i.index,i.count,{type:"comment",comment:i.comment.join("\n\t"),position:!1}))}}return t},maybe_format_shorthand:function(e){if(e.declarations.length<1)return e;var t,r=TvrMT.data.prog.lh,n=e.declarations,i=[],a={},o={},s=0,l={};for(t=0;t<n.length;t++)o[n[t].property]=n[t].value,++s;for(t=0;t<n.length;t++){var c=n[t];if(c){var u=r[c.property];c.value;if(u&&u.sh){var d=u.sh[0];if(Array.isArray(d))for(var p=0;p<u.sh.length&&("incomplete"!==a[d=u.sh[p][0]]&&this.check_lh_to_sh_conversion(s,a,o,d,i,c,l),"rendered"!==a[d]);p++);else this.check_lh_to_sh_conversion(s,a,o,d,i,c,l);c.skip||i.push(c)}else i.push(c)}else n.splice(t,1)}return e.declarations=i,e},css_function_properties:{transform:1,filter:1},css_functions_config:function(){return{shouldFormat:!1,long:TvrMT.data.prog.lh,sh:TvrMT.data.prog.sh,map:TvrMT.data.prog.css_func_map,properties:{transform:{values:[],disabled_values:[]},filter:{values:[],disabled_values:[]}},pgDisabled:{}}},transform_matrix_to_functions:function(t,r,n){var i=n[0];if(r.indexOf("matrix")>-1){Object.keys(TvrMT.data.prog.css_func_map);var a=window.CSSPlugin.parseTransform(i,!0),o={"translatex-function":a.x,"translatey-function":a.y,"translatez-function":a.z,"scalex-function":a.scaleX,"scaley-function":a.scaleY,"scalez-function":"[ ? ]","rotatex-function":a.rotationX,"rotatey-function":a.rotationY,"rotatez-function":a.rotation,"skewx-function":a.skewX,"skewy-function":a.skewY,"perspective-function":a.transformPerspective};e.extend(!0,t,o)}else h.show_function_default_computed(t)},maybe_filter_comp_css_props_list:function(e,t,n){if(h.css_function_properties[e]){for(var i=!1,a=t.length-1;a>=0;a--){var o=t[a],s=r.cssf_to_prop(o);TvrMT.data.prog.css_func_map[s]&&(i=!0)}i&&t.push(e)}if(n.intelli)for(var l=0;l<h.keyInfoProps.length;l++){var c=h.keyInfoProps[l];r.in_array(c,t)||t.push(c)}},keyInfoProps:["display","position","font-size","line-height","font-family","color","background-color","width","height","padding-top","padding-right","padding-bottom","padding-left","margin-top","margin-right","margin-bottom","margin-left","border-top-width","border-right-width","border-bottom-width","border-left-width"],extractable_css_functions:function(e,t){return!t.isSubSel&&h.css_function_properties[e.property]&&!r.in_array(e.value,Object.keys(TvrMT.data.prog.unsupported_css_func_map),!0)},extract_css_functions:function(t,n,i,a,o,s,l,c){if(r.isDefined(n)){for(var u=r.split_on_regex_group(n,new RegExp(h.reg.splitGridRowsCols(),"mg"),1),d=0;d<u.length;d++){var p=u[d].match(/(.+?)\((.+)\)/);if(p){var f=p[1].toLowerCase(),_=p[2];if("rotate"===f&&(f="rotatez"),TvrMT.data.prog.sh[f]||(f+="-function"),t)t[f]=_;else{var g=e.extend(!0,{},o,{property:f,value:_});this.reset_m_root_levels(s,i,a),h.process_declaration(g,s,l,c)}}}t&&h.show_function_default_computed(t)}},show_function_default_computed:function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var i=t[n];if(void 0===e[i]){var a=r.checkObject(TvrMT.data.prog.lh,[i,"css_func"]);r.isDefined(a)&&(e[i]=a)}}},format_css_functions:function(e,t){var n,i=e.declarations,a=i.length-1,o=t.long,s=t.sh,l=t.map;for(n=a;n>=0;n--){var c=i[n];if(c){var u=c.property,d=l[r.cssf_to_prop(u)];if(d){var p=o[u];if(!p)p=o[Object.keys(s[u])[0]];var f=p.sub_slug,_=t.pgDisabled[f]?"disabled_values":"values",g=!!r.isDefined(c.value)&&c.value.trim();u=u.replace("-function",""),g&&("transform"===d&&(u=r.last_char_uppercase(u),g=g.replace(/\s+/g,", ")),g=h.strip_important(g),t.properties[d][_].unshift(u+"("+g+")")),i.splice(n,1)}}else i.splice(n,1)}var m=Object.keys(t.properties);for(n=0;n<m.length;n++)for(var v=m[n],y=t.properties[v],b=["values","disabled_values"],w=0;w<b.length;w++){var T=b[w],x=t.properties[v][T];if(x.length){var k=x.join(" "),S=y.important||"",C="disabled_values"===T;h.add_declaration(e,v,k,S,!1,C,f)}}return e},is_single_keyword:function(e){return r.in_array(e,["none","initial","inherit"])},check_lh_to_sh_conversion:function(e,t,n,i,a,o,s){var l=TvrMT.data.prog.sh[i],c=[],u=0,d=0;if(r.updateObject(s,[i,o.property],o.value),o.skip=!1,"rendered"===t[i])return o.skip=!0,!1;if("incomplete"!==t[i]){var p="",f=[];for(var _ in l)if(l.hasOwnProperty(_)){var g=l[_],m=n[_];if(m){var v=/^([^!]+)(\s!important)?$/.exec(m);if(v&&v[2]&&(m=v[1],p=v[2]),"border-radius"===i){var y=m.split(" ");y[1]&&(m=y[0],f[g.index]=y[1])}if(g.config.optional&&m===g.config.initial){if("gradient-b-pos"===_)continue;m="same_as_initial"}c[g.index]=m,g.config.binary&&++d}else if(g.config.onlyShort&&!g.config.optional&&"none"!==c[0]){var b=c[0];!h.isJustVariable(b)||e>1?c[g.index]=g.config.initial:c[g.index]=""}g.config.binary||g.config.optional&&g.config.onlyShort||(u+=1)}if("border-radius"===i&&f.length){var w;for(w=0;w<c.length;w++)f[w]||(f[w]=c[w]);f[0]="/ "+f[0],c=c.concat(f)}if("font"===i||"background"===i){var T;switch(i){case"font":T=4;break;case"background":T=5}c[T]&&"same_as_initial"!==c[T]&&(c[T]="/ "+c[T])}if("linear-gradient"===i){if(c[0]&&"same_as_initial"!==c[0]){var x=c[0];switch(c[0]){case"left to right":x="90deg";break;case"top left to bottom right":x="135deg";break;case"top to bottom":x="180deg";break;case"top right to bottom left":x="-135deg";break;case"right to left":x="-90deg";break;case"bottom right to top left":x="-45deg";break;case"bottom to top":x="0deg";break;case"bottom left to top right":x="45deg"}c[0]=x}c[3]&&(c[2]+=" "+c[3],c[3]=null)}if(u<=(c=c.filter((function(e){return null!=e}))).length-d){var k=!0;switch(i){case"border":this.array_values_different(c,[[0,3],[4,7],[8,11]],!0)?k=!1:c=[c[0],c[4],c[8]];break;case"border-color":case"border-style":case"border-width":case"border-radius":case"padding":case"margin":this.array_values_different(c,[0,3],!0)||(c=[c[0]]);break;case"grid":case"grid-template":if(!(c=h.format_grid_shorthand(i,c)))return!1;break;case"gap":c[0]===c[1]&&(c=[c[0]])}if(k){var S=!0,C=!1;if(c=c.filter((function(e){return Array.isArray(e)&&(e=e[0]),e&&(e=r.trim(e,"/")),""!==e&&"inherit"!==e?S=!1:"inherit"===e&&(C=!0),"initial"!==e&&"same_as_initial"!==e&&""!==e})),S)c=["inherit"];else if(C)return!1;c.length||c.push("initial"),o.property=i;if("linear-gradient"===i)o.value="("+c.join(", ")+p+")";else{var M=r.in_array(i,["grid-area","grid-row","grid-column"])?" / ":" ";o.value=c.join(M)+p}return t[i]="rendered",!0}}t[i]="incomplete"}},interlace_rows_areas:function(e,t){var n=l.parse_template_areas(t,{grid_areas:[],parsed_areas:[],unique_areas:{},row_with_quotes:[]}).row_with_quotes,i=l.parseGridTracks(e),a=i.lines,o=n.length,s=a.length,c=o>s?o:s,u=[];if(n.length&&i.sizesDefined>n.length)return!1;for(var d=0;d<c;d++){var p=n[d]||"",f=a[d]?Object.values(a[d]):[];if(!r.isDefined(p)&&!r.isDefined(f))break;if(f[2]&&a.pop(),p&&"none"===f[1]&&(f[1]=""),f[0]&&u[d-1]){var _=f[0].match(h.reg.gridLine({inside:1}));if(_&&(_=_[1].split(" ")).length>1){var g="["+_.shift()+"]";u[d-1]+=" "+g,f[0]="["+_.join(" ")+"]"}}f.splice(1,0,p),(f=f.filter(Boolean)).length&&u.push(f.join(" "))}var m=u.length>1?l.styles_indent:"",v=m+u.join(m);return{rows:u,rows_formatted:v,areasDefined:n.length}},check_array_values:function(e,t,r){for(var n=0;n<r.length;n++)if("areAll"===e&&r[n]!==t)return!1;return!0},format_grid_shorthand:function(e,t){if(this.check_array_values("areAll","inherit",t))return["inherit"];var n="grid"===e,i=t[0],a=t[1],o=t[2],s=t[3],l=t[4],c=t[5],u="auto",d="none",p=(i+a).match(/repeat\(/),f=r.isDefined(s)&&s!==u,_=r.isDefined(l)&&l!==u,g=r.isDefined(i)&&0!==i.indexOf(d),m=r.isDefined(a)&&0!==a.indexOf(d),v=f&&_||f&&g||_&&m,y="auto-flow",b=c&&c.match("row"),w=c&&c.match("column");if(p||n&&v)return!1;c&&c.match("dense")&&(y+=" dense");var T=h.interlace_rows_areas(i,o);if(!T)return!1;var x=[],k="",S=[];if(g||T.rows_formatted&&"none"!==T.rows_formatted?S.push(T.rows_formatted):((b||f)&&S.push(y),f&&S.push(s)),(k=S.length?S.join(" "):"none").indexOf("inherit")>-1)return!1;x.push(k);var C="",M=[];if(m?M.push(a):(!w&&!_||T.areasDefined||M.push(y),_&&M.push(l)),M.length)M.unshift("/"),C=M.join(" "),x.push(C);else if(!(T.areasDefined||"none"===k))return!1;return!(C.indexOf("inherit")>-1)&&x},array_values_different:function(e,t,r){if(Array.isArray(t[0])){for(var n=0;n<t.length;n++)if(this.array_values_different(e,t[n],r))return!0}else if(r)for(var i=t[0];i<=t[1];i++){var a=i>t[0]&&e[i-1],o=e[i];if(a&&o!==a)return!0}return!1},maybe_format_gradient:function(e){for(var t=0;t<e.length;t++){var n,i=e[t],a=i.declarations,o=!1,s=!1,l=!1,c=!1,u="";if(a)for(var d=0;d<a.length;d++)if(n=a[d]){var p=n.property&&"string"==typeof n.property;!(p&&0===n.property.indexOf("--"))&&"declaration"===n.type&&r.isDefined(n.value)&&("linear-gradient"===n.property||n.value.indexOf("linear-gradient")>-1&&"background"!==n.property&&"background-image"!==n.property&&p&&n.property.indexOf("mask-image")<0?(l=d,u=n.value.indexOf("!important")>-1?" !important":"",c=n.value.replace(" !important","")):"background"===n.property?o=d:"background-image"===n.property&&(s=d))}else a.splice(d,1);if(c){var f=i.declarations[l],_=!1!==s?s:o,g=!1!==_&&i.declarations[_];if(!g||g.pgDisabled)f.property="background-image",f.value="linear-gradient"+f.value,f.pgDisabled;else if(!f.pgDisabled){"initial"===g.value&&(g.value="");var m=g.value.match(new RegExp("^("+h.reg.color()+")\\s?"),"i");if(m){var v=m[0];g.value=g.value.replace(v,""),c+=", "+v}if(g.value.indexOf("!important")>-1)g.value=g.value.replace(" !important",", linear-gradient"+c+" !important");else{var y=g.value?", ":"";g.value+=y+"linear-gradient"+c+u}i.declarations.splice(l,1)}}}return e},add_declaration_comment:function(e,t){e.declarations.push(this.config_comment(t))},config_comment:function(e){return{type:"comment",comment:" "+r.config_obj_to_string(e)+" "}},add_declaration:function(e,t,r,n,i,a,o){var s={type:"declaration",property:t,value:r+n};return a&&(s.pgDisabled="flexitem"===o?"flexcontainer":o),i?s:(e.declarations.push(s),e)},format_ast_selector:function(e){return e?e=e.split(",").map((function(e){return e.trim()})):[]},strip_extra_from_selector:function(e){for(var t,r=Array.isArray(e)?e:this.format_ast_selector(e),n=0;n<r.length;n++)(t=r[n].match(this.selector_regex.plain_selector()))&&(r[n]=t[1]);return r.join(", ")},ast_selector_to_string:function(e){return Array.isArray(e)?e.join(",\n"):""},selectors_match:function(e,t){e=Array.isArray(e)?e:this.format_ast_selector(e),t=Array.isArray(t)?t:this.format_ast_selector(t);for(var r=e.length>t.length?e:t,n=0;n<r.length;n++)if(e[n]!==t[n])return!1;return!0},maybe_add_event_selector:function(e,t,r){if(!t||r&&("hover"===t||"focus"===t))return e;for(var n=[],i=".mt-"+t,a=":"+t,o=0;o<e.length;o++){var s=e[o];"hover"===t||"focus"===t?n.push(h.ensure_before_pseudo_el(s,a)):n.push(h.ensure_before_pseudo_el(s,i))}return n},maybe_add_hover_focus_event_class:function(e){for(var t=[],r={},n=0;n<e.length;n++){var i=e[n],a=i.match(/:(hover|focus)/),o=i.match(/\.mt-(hover|focus)/);a&&t.push(a[1]),o&&(r[o[1]]=!0)}if(t.length)for(var s=0;s<t.length;s++){var l=t[s];r[l]||e.push(".mt-"+l)}},add_to_poss_comma_selector:function(e,t,r){Array.isArray(e)||(e=h.format_ast_selector(e));for(var n=0;n<e.length;n++){var i;t.nth&&(i=" > :nth-child("+t.nth+")"),t.allitems&&(i=" > :nth-child(n)"),e[n]+=i}return r?e:h.ast_selector_to_string(e)},ensure_before_pseudo_el:function(e,t){var n=r.get_pseudo_el(e);if(n&&n[0]){var i=n[0];return e.replace(i,t+i)}return e+t},rel_to_absolute:function(e,t){if(r.startT(arguments),r.has_protocol(t))return t;if("/"==t.trim().charAt(0))return r.get_root_domain(e)+t;var n=e.split("/"),i=t.split("/");n.pop();for(var a=0;a<i.length;a++)"."!=i[a]&&(".."==i[a]?n.pop():n.push(i[a]));return r.endT(arguments),n.join("/")},parse_css:function(e,t){try{return window.TvrParser.parse(e,{silent:t})}catch(e){return s.update_full_logs({short:TvrLang.css_parse_error,long:"<p>"+TvrLang.css_parse_error_long+". </p><p>"+e.message+".</p>"}),!1}},maybe_auto_adjust_path:function(e,t,n){if(r.startT(arguments),(e.css_imp_adjust_paths||e.css_imp_copy_remote)&&("import"==n||t.indexOf("url")>-1)){var i;i="import"==n&&t.indexOf("url")<0?h.reg.quoted({inside:1}):h.reg.url({inside:1});var a=t.replace(new RegExp(i,"ig"),(function(t,n,i){var a=h.rel_to_absolute(e.css_source,n);if(e.css_imp_copy_remote&&r.is_image(a)){var o=e.css_imp_adjust_paths?a:n;h.remoteImages[o]=a}return t.replace(n,a)}));return r.endT(arguments),e.css_imp_adjust_paths?a:t}return r.endT(arguments),t},stringify_sub:function(e,t){r.startT(arguments);var n="";if(e)for(var i in e)e.hasOwnProperty(i)&&(n+=h.stringify_css(e[i],t));return r.endT(arguments),n},stringify_brackets:function(e,t,n){r.startT(arguments);n.tab;var i="";return i+=e+" {\n",n.tab=h.tabDepth[++n.tabDepth],i+=h.stringify_sub(t,n),t&&t.length||(i+=n.tab+"\n"),n.tab=h.tabDepth[--n.tabDepth],i+=n.tab+"}",i+="\n",r.endT(arguments),i},stringify_at:function(e){return"@"+e.type+" "+e[e.type]+";"},tabDepth:["","\t","\t\t","\t\t\t"],stringify_css:function(e,t){if(r.startT(arguments),t.singleNode){var n="",i=e;switch(i&&i.type){case"rules":n+=h.stringify_sub(i.rules,t);break;case"rule":(n+=h.stringify_brackets(i.selectors.join(", \n"),i.declarations,t)).indexOf("(")>-1&&(n=n.replace(/(,\s*\n)(?=[^()]*\))/g,", "));break;case"font-face":case"page":n+=h.stringify_brackets("@"+i.type,i.declarations,t);break;case"declaration":return i.value=h.maybe_auto_adjust_path(t.opts,i.value,i.type),void 0===i.value&&(i.value=""),t.tab+i.property+": "+i.value+";\n";case"comment":return t.tab+"/*"+i.comment+"*/\n";case"keyframes":n+=h.stringify_brackets("@"+i.type+" "+i.name,i.keyframes,t);break;case"keyframe":n+=h.stringify_brackets(i.values.join(", ").trim(),i.declarations,t);break;case"media":n+=h.stringify_brackets("@"+i.type+" "+i.media,i.rules,t);break;case"supports":n+=h.stringify_brackets("@"+i.type+" "+i.supports,i.rules,t);break;case"document":n+=h.stringify_brackets("@"+i.type+" "+i.document,i.rules,t);break;case"charset":case"namespace":return h.stringify_at(i);case"import":return i[i.type]=h.maybe_auto_adjust_path(t.opts,i[i.type],i.type),h.stringify_at(i)}return r.endT(arguments),n}var a=window.TvrParser.stringify(e,t);return r.endT(arguments),a},update_import_css_preview:function(n,i,a){r.startT(arguments);var o=r.force_fresh_url(i.c.closest(".stylesheet-to-import").find("input.combobox").val());if("loadNew"==a){var l=r.file_extension(o)[1];if(l&&"css"!=l.toLowerCase()){var c="scss"==l?TvrLang.scss_import_long:TvrLang.css_import_long;return s.update_full_logs({short:TvrLang.css_import_short,long:"<p>"+c+"</p>"}),!1}i.dataType="text",r.domain_matches(o)||(o=t.ajaxUrl+"&mt_action=tvr_get_remote_css&url="+encodeURI(o),i.remote=1),s.simple_ajax_request({url:o,dataType:i.dataType,plus:TvrLang.retrieve_css,minus:TvrLang.retrieve_css_failed,cbFunction:h.update_import_css_preview,cbfArgs:[i,"updateACE"],skipQueue:1})}else{if(i.remote){var u=e(n),d=u.find("ul.logs");"0"===(n=u.find("#remote-css").text())&&(n="/* Stylesheet could not be loaded.\n\n",d.find("li").each((function(){n+=e(this).find(".short").text()+"\n",n+=e(this).find(".long").text()+"\n\n"})),n+="*/")}e("#import-stats").removeClass("show"),h.update_import_css_editor(n),t.remember_css_import_file()}r.endT(arguments)},update_import_css_editor:function(e){r.startT(arguments),a.update_arbitrary_editor({context:"importCSS",editorID:"preview-import-css-0",data:e,filterClass:"preview-import-css",readOnly:!1,editorHeight:370}),r.endT(arguments)},is_primary_sel:function(e,t){return h.selectors_match(e.selectors,t.newSelCode)},tag_sub_sels:function(e,t){for(var r=0;r<e.length;r++)this.rule_analysis(e[r],t,{},!0)},is_grid_item_rule:function(e,t,r){var n=t.match(h.selector_regex.nth_child({scope:r}));if(n&&h.selectors_match(e,h.strip_extra_from_selector(t))){var i=n[1];return"n"===r?i:parseInt(i)}return!1},syncable_grid_item:function(e,t,n,i){return t.tab_control===n&&r.checkObject(e,[i])},rule_analysis:function(e,t,r,n){var i=e.declarations,a=this.is_primary_sel(e,t);if(r.ruleAnalysis={MTconfigs:[]},a?(r.primaryRuleDisplayValue=null,r.isPrimarySelector=!0):r.isPrimarySelector=!1,i)for(var o=0;o<i.length;o++){var s=i[o];if(s)if("comment"===s.type){var l=h.get_extracted_config(s.comment);l&&(r.ruleAnalysis.sub=l.sub,l.event_value&&r.node_refs&&this.find_event_value_property(r),r.ruleAnalysis.MTconfigs.push(l))}else a&&"display"===s.property&&(r.primaryRuleDisplayValue=s.value);else i.splice(o,1)}if(!r.ruleAnalysis.sub&&n&&!a){var c=this.config_comment({sub:1});i?i.unshift(c):e.declarations=[c]}return a||(r.ruleAnalysis.sub=1),r.ruleAnalysis},get_ast_selector:function(e,n,i,a,o){r.startT(arguments);var s=!1;i.sCode=e.selectors.join(", "),n.inline_css_to_gui||!i.selCommentJustFound&&!i.selCommentNeverFound||(i.selCommentJustFound=!1,n.newSelCode=i.sCode);var l=this.rule_analysis(e,n,i).sub;if(n.inline_css_to_gui&&this.is_primary_sel(e,n))i.sName=n.origSelName;else if(l){var c=i.lastExtractedS||i.extractedS;i.sName=n.inline_css_to_gui?n.origSelName:c,i.isSubSel=!0,i.gridItem=h.is_grid_item_rule(n.newSelCode,i.sCode,"\\d"),i.allGridItems=h.is_grid_item_rule(n.newSelCode,i.sCode,"n"),e.declarations.length||(this.set_declaration_levels(i),this.add_unsupported_declaration(!1,i.non_gui_levels,a,i.sCode))}else i.extractedS?(i.sName=i.extractedS,i.lastExtractedS=i.sName,i.extractedS=!1,n.ai_sync&&(s=!0)):n.css_imp_friendly?(i.sName=t.human_css_name(i.sCode,"import",i),i.sName=t.ensure_unique_name(i.sName,i.sCode,"import",i)):i.sName=i.sCode;if(r.isDefined(i.sName)||(i.sName=i.sCode),i.sSlug=n.origSelectorSlug||r.convert_to_param(i.sName),!i.unqSels[i.sSlug]||n.ai_sync&&i.extractedF){if(i.tmpfSlug=!1,i.unqSels[i.sSlug]={code:i.sCode,name:i.sName,slug:i.sSlug,folder:i.fSlug},++i.selCount,++i.fSelCount,i.levels.push(i.fSlug,i.sSlug),"MQ"===o&&i.levels.splice(0,3),n.ai_sync&&(r.updateObject(a,i.levels.concat(["jsu"]),t.jsuVersion),r.updateObject(a,i.levels.concat(["xpath"]),u.attemptXPathConversion(i.sCode)),s)){let e=r.get_js_object_data([i.fSlug,i.sSlug],"all-devices").data,t=e&&r.isNumeric(e.index)?e.index:0;r.updateObject(a,i.levels.concat(["index"]),t)}r.updateObject(a,i.levels.concat(["label"]),i.sName+"|"+i.sCode);var d=n.css_imp_friendly?i.sName:i.sCode;i.stats.selectors.push(d)}else i.tmpfSlug=i.unqSels[i.sSlug].folder;return r.endT(arguments),a},mq_exists:function(e,t){for(var r in t)if(t.hasOwnProperty(r)&&t[r].query===e)return r;return!1},get_import_opts:function(){r.startT(arguments);var t={};if(e("#imp-css-preview").find('input[type="radio"]:checked, input[type="checkbox"]:checked, input[type="text"]').each((function(){var r=e(this),n=r.attr("name").match(/\[(.*?)\]/);n&&n[1]&&(n=n[1],t[n]="radio"==r.attr("type")||"checkbox"==r.attr("type")?parseInt(r.val()):r.val())})),t.css_imp_styles&&!t.css_imp_sels)return alert(TvrLang.imp_sels_too),r.endT(arguments),!1;t.css_source=e("#stylesheet_to_import").val();var n=a.get_editor(e("#preview-import-css-0"));return t.css=t.css_imp_only_selected?n.getCopyText():n.getValue(),r.endT(arguments),t},eval_gui_pos_duplicate:function(e,r,n){if(t.scss_enabled&&n.css_imp_always_cus_code)return!1;for(var i in e.pos_duplicate)e.pos_duplicate.hasOwnProperty(i)&&(e.pos_duplicate[i].is_def=0);var a=r.declarations;for(var o in a){if(a.hasOwnProperty(o))if("background"==(i=a[o].property)){var s=h.sh[i](TvrMT.data.prog.sh.background,i,a[o].value);s&&s[100]&&(e.pos_duplicate.gradient.is_def=1)}else e.pos_duplicate[i]&&(e.pos_duplicate[i].is_def=1)}},will_be_duplicated:function(e,n,i){if(t.scss_enabled&&i.css_imp_always_cus_code)return!1;for(var a in e.pos_duplicate)if(e.pos_duplicate.hasOwnProperty(a)&&e.pos_duplicate[a].is_def&&(!1!==r.in_array(n.property,e.pos_duplicate[a].ignore)||!1!==r.in_array(n.value,e.pos_duplicate[a].ignore,!0)))return!0;return!1},ast_to_data:function(e,t){var r={non_section:{m_query:{},hand_coded_css:"",active_queries:{},m:{opts:t,node_refs:{rules:e},folderPrefix:t.ai_sync?TvrLang.ai:TvrLang.imp_css_folder,selCommentNeverFound:!0,MTconfig:{},ruleAnalysis:{},snippets:{},stylesLog:{active_sub_groups:{},active_tab_controls:{},commented_out:[]},pos_duplicate:{gradient:{is_def:0,ignore:["-webkit-gradient","-webkit-linear-gradient","-moz-linear-gradient","-ms-linear-gradient","-o-linear-gradient","-pie-background"]},opacity:{is_def:0,ignore:["-ms-filter","-moz-opacity","-khtml-opacity"]},"box-shadow":{is_def:0,ignore:["-webkit-box-shadow","-moz-box-shadow"]},"border-radius":{is_def:0,ignore:["-webkit-border-radius","-moz-border-radius"]}},stats:{media:[],folders:[],selectors:[],declarations:[],gui_custom:[],remote_images:[],full_custom:{charset:[],import:[],namespace:[],"font-face":[],keyframes:[],document:[],page:[],supports:[]}},uaNeeded:!1,levels:[],important_levels:[],mqCount:0,createdMQs:{},folderCount:0,lastFComment:"",fName:"",fSlug:"",tmpfSlug:!1,fSelCount:"",sSlug:"",sName:"",sCode:"",selCount:0,unqSels:{},styleCount:0}}};return r=h.traverse_ast_css(r,e,"Reg")},remoteImages:{},process_css_import:function(n,i){r.startT(arguments),h.remoteImages={};var o=h.get_import_opts();if(o){if(!o.css_source&&(o.css_imp_adjust_paths||o.css_imp_copy_remote))return alert(TvrLang.enter_css_source),!1;t.remember_css_import_file(),o.css_imp_max,o.css=o.css.replace(/\.wp-block \{}(\s|\n|\r)+\/\*\s+\(.wp-block \{} ensures MT files load in Gutenberg editor\) \*\//,"");var s=h.parse_css(o.css,!1);if(!s)return!1;if(!s.stylesheet||!s.stylesheet.rules)return alert(TvrLang.imp_css_empty),!1;var l=s.stylesheet.rules,c=h.ast_to_data(l,o),u=c.non_section.m,d="",p=[];for(var f in h.remoteImages)h.remoteImages.hasOwnProperty(f)&&(d+=f+","+h.remoteImages[f]+"|",p.push(f));if(d=r.rtrim(d,"\\|"),e("#get_remote_images").val(d),h.updateMTDataImportedFullCode(u,c,"Imported"),"preview-stats"==i){var _=e("#import-stats"),g=e("#import-from-pack-dialog");_.fadeOut("fast",(function(){_.fadeIn("slow",(function(){r.scroll_to({scrollDiv:g.find(".scrollable-area").first(),offset:610})}))}));var m=u.stats;for(var f in m.errors=s.stylesheet.parsingErrors,m.remote_images=p,m)if(m.hasOwnProperty(f)&&Array.isArray(m[f])){TvrMT.data.prog.combo[f]=m[f];var v=e("#stats-"+f),y=m[f].length;v.find(".stat-count").text("("+y+")")}a.update_arbitrary_editor({context:"statsCSS",editorID:"stats-full_custom",data:cssStr,filterClass:"stats-full_custom",readOnly:!1,editorHeight:370}),r.endT(arguments)}else if("do-import"==i)return c.non_section.m={},e("#stylesheet_import_json").val(JSON.stringify(c)),r.endT(arguments),!0}},updateMTDataImportedFullCode:function(e,t,n,i){var a=e.stats.full_custom,o="",s=" /* "+n+": "+r.date_format(new Date,"mysql")+" */",l=-1;for(var c in a)a.hasOwnProperty(c)&&a[c].length&&(0==++l&&(a[c][0]=a[c][0].replace(/(\n|$)/,s+"$1")),o+=a[c].join("\n")+"\n");o&&(t.non_section.hand_coded_css=o)},build_field_data:function(e,t,n,i,a,o,s){for(var l in r.startT(arguments),e=e||-1,i)if(i.hasOwnProperty(l)&&(!t||!t.MTconfig.google_font||"font-family"!==l)){var c=a[i[l].index+1],u=i[l].config.initial,d=Array.isArray(c),p=d?c[0]:c,f=!1;if(r.isDefined(p)?f=c:u&&(f=d?[u]:u),"gradient"===i[l].group&&(f=c||!1),f){var _=this.resolve_repeated_property_group(l,f,t),g=TvrMT.data.prog.lh[_];h.check_important_and_unit(this.format_field_data(l,f,g,t,s)),n[++e]=h.check_important_and_unit(this.format_field_data(l,f,g,t,s),i,o)}}return r.endT(arguments),e},determine_chain_enabled:function(e,t,n){var i,a=["border-color","border-width","border-style"],o=a.concat(["padding","margin"],["border","border-radius"]);if("border"===e)for(i=0;i<a.length;i++)n.pg_chained[a[i].replace("-","_")]=1;else if(r.in_array(e,o)){var s,l,c=1;for(i=1;i<t.length;i++){if(s=t[i],i>1&&s!==l){c=!1;break}l=s}c&&(n.pg_chained[e.replace("-","_")]=c)}},extract_fieldData_value:function(e,t){return t=t||"group",Array.isArray(e)&&e[0]?e[0][t]:e[t]},should_merge_with_styles:function(e,t,r,n,i,a){var o=this.extract_fieldData_value(e),s=this.query_lookahead_config(i.ruleAnalysis,{key:"group",value:o}),l=Array.isArray(e)?e[0]:e;return e&&(!a||!i.stylesLog.active_sub_groups[t]||!i.stylesLog.active_tab_controls[r])&&(!i.isSubSel||s.event||s.event_target||void 0!==i.gridItem&&void 0!==l.gridItem||void 0!==i.allGridItems&&void 0!==l.allGridItems)||n},process_commented_out_styles:function(e,t,r,n){var i,a,o=t.stylesLog.commented_out;if(o.length)for(a=0;a<o.length;a++)i=o[a],this.reset_m_root_levels(t,r,n),h.extractable_css_functions(i,t)?h.extract_css_functions(!1,i.value,r,n,i,t,e,!0):this.process_declaration(i,t,e,!0)},process_declaration:function(e,t,n,i){if(this.set_declaration_levels(t),t.MTconfig.google_font&&"font-family"===e.property)return!1;var a=h.maybe_auto_adjust_path(t.opts,e.value,e.type),o=h.input_field_available(e.property,a,t),s=this.extract_fieldData_value(o,"sub_slug"),l=this.extract_fieldData_value(o,"tab_control"),c=this.extract_fieldData_value(o,"gridItem"),u=this.is_event_value_style(e,t);if(u&&(s="transition"),!t.opts.css_imp_always_cus_code&&this.should_merge_with_styles(o,s,l,u,t,i)){if(u){var d={group:"transition",prop:"event_value",important_prop:!!o.important_prop&&"event_value",value:Array.isArray(o)?o[0].value:o.value,unit:Array.isArray(o)?o[0].unit:o.unit,longProp:"event_value"};void 0!==o.unit&&(d.unit=o.unit),this.apply_fieldData_to_mtData(d,n,t,e,i)}else{if(Array.isArray(o))for(var p=0;p<o.length;p++)this.apply_fieldData_to_mtData(o[p],n,t,e,i);else this.apply_fieldData_to_mtData(o,n,t,e,i);r.obj_length(t.pg_chained)>0&&r.updateObject(n,t.selector_levels.concat(["pg_chained"]),t.pg_chained,{action:"array_merge_recursive_distinct"})}if(i){var f=t.selector_levels.concat(["pg_disabled",s]);void 0!==c&&f.push(c),r.updateObject(n,f,1)}else t.stylesLog.active_sub_groups[s]=1,t.stylesLog.active_tab_controls[l]=1}else h.maybe_add_unsupported_declaration(n,t,e,i)},maybe_add_unsupported_declaration:function(e,n,i,a){var o,s,l=!1;t.scss_enabled?l={action:"replace_string",replacePattern:/}$/,replaceValue:"\t"+(s=o=i.property+": "+i.value+";")+"\n}",ifUndefined:n.sCode+" {\n"+s+"\n}"}:(o=i.property+": "+i.value+";",s="consolidatedGUI",a&&(i={type:"comment",comment:o}),this.add_unsupported_declaration(i,n.non_gui_levels,e,n.sCode));var c=n.levels.concat(["code","css","value"]);r.updateObject(e,c,s,l),n.stats.gui_custom.push(o)},input_field_available:function(e,n,i){if(r.startT(arguments),!n)return!1;var a=TvrMT.data.prog.sh,o=TvrMT.data.prog.lh,s=[],l=-1,c=i&&i.gridItem?i.gridItem:0,u=i&&i.allGridItems,d=o[e=this.resolve_repeated_property_group(e,n,i)];if("background-image"===e||"list-style-image"===e){if(n.indexOf("radial-gradient")>-1)return!1;if(n.indexOf("linear-gradient")>-1){var p=a["linear-gradient"],f=h.sh["linear-gradient"](p,e,n);if(!f)return!1;f.normSh&&(l=h.build_field_data(l,i,s,p,f.normSh,n,c)),n=f.gradientStripped}if(!n)return!!s.length&&s;if(!h.commas_ok(e,n,a,o))return!1;var _=new RegExp(h.reg.url({inc:["none"],inside:1}),"i").exec(n);_&&_[1]&&(n=_[1])}if("background"!==e&&"linear-gradient"!==e&&!h.commas_ok(e,n,a,o))return!1;if(!u&&a[e]){var g=a[e],m=!1;if(h.sh[e])if(h.onlyShortProps[e]&&h.isJustVariable(n))m=["",n];else{if(!h.quadProps[e]){var v=h.variables_to_values(e,n);v.modifiedStr&&(n=v.modifiedStr)}m=h.sh[e](g,e,n),delete h.varValueMap[e]}return!!m&&(i&&this.determine_chain_enabled(e,m,i),l=h.build_field_data(l,i,s,g,m,n,c),"background"!==e&&"linear-gradient"!==e||!Array.isArray(m[100])||h.build_field_data(l,i,s,a["linear-gradient"],m[100],n,c),r.endT(arguments),s)}return!!d&&(r.in_array(e,t.gridTrackProps)&&(n=h.split_grid_tracks(n)),s.push(h.check_important_and_unit(this.format_field_data(e,n,d,i,c))),r.endT(arguments),s)},format_field_data:function(e,t,r,n,i){return{group:r.group,sub_slug:r.sub_slug,prop:r.prop,value:t,longProp:e,gridItem:this.syncable_grid_item(n,r,"griditems","gridItem")?i:void 0,allGridItems:!!this.syncable_grid_item(n,r,"allgriditems","allGridItems")||void 0,tab_control:r.tab_control}},resolve_repeated_property_group:function(e,n,i){var a=e,o=Object.values(t.propAliases);return r.in_array(e,o)&&("display"===e?a={flex:"display-flex","inline-flex":"display-flex",grid:"display-grid","inline-grid":"display-grid"}[n]||e:i&&"grid"===i.primaryRuleDisplayValue&&(h.is_grid_item_rule(i.opts.newSelCode,i.sCode,"n")?a=e+"-gridall":h.is_grid_item_rule(i.opts.newSelCode,i.sCode,"\\d")?a="grid-area"===e?e:e+"-grid":"align-items"===e&&(a=e+"-grid"))),a},check_important_and_unit:function(e,t,n){r.startT(arguments);var i=e.value;return(!t&&h.is_important(i)||t&&h.is_important(n))&&(e.value=h.strip_important(i),e.important_prop=t?this.get_important_carrier_prop(e.longProp,e.prop):e.prop),e.value=this.process_value_unit(e.value,e),r.endT(arguments),e},get_important_carrier_prop:function(e,t){var r,n=t,i=this.is_only_shorthand(e);if(i)for(var a in r=TvrMT.data.prog.sh[i])r.hasOwnProperty(a)&&r[a].important_carrier&&(n=r[a].prop);return n},is_only_shorthand:function(e){var t=TvrMT.data.prog.lh[e];return!!(t&&t.sh&&t.sh[2]&&t.sh[2].onlyShort)&&t.sh[0]},is_important:function(e){return Array.isArray(e)&&(e=e.join()),e.indexOf("!important")>-1},separate_value_unit:function(e){if(!r.isDefined(e))return!1;var t=!1,n=h.reg.lengWithUnitRegex(),i=e.toString().match(n);if(i){var a=i[1];t={value:e.replace(a,""),unit:a}}return t},process_value_unit:function(e,t,r){if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]&&(e[n]=this.process_value_unit(e[n],t,!0));else{var i=this.separate_value_unit(e);i&&(r||(e=i.value),t.unit=i.unit)}return e},strip_important:function(e){var t=/\s?!important/;if(!Array.isArray(e))return e.replace(t,"");for(var r=0;r<e.length;r++)e[r]=e[r].replace(t,"");return e},isJustColor:function(e,t){return e.match(new RegExp("^\\s*(?:"+h.reg.color({excludeCurrent:t})+")\\s*$","i"))},checkStringValue:function(e){return!!e&&(h.isJustColor(e)?"color":e.match(new RegExp(h.reg.leng({optUnit:1})))?"length":"other")},maybe_fill_important:function(t,n,i){if(i.important_prop){var a=e.extend(!0,[],n.important_levels);a.push(i.group,i.important_prop),void 0!==i.gridItem&&a.push(i.gridItem),r.updateObject(t,a,1)}},commas_ok:function(e,t,r,n){var i=0,a=r[e]?r[e]:n[e]?n[e]:0;if(!a)return!1;if(r[e]){for(var o in a)if(a.hasOwnProperty(o)&&a[o].multiple){i=1;break}}else n[e]&&(i=a.multiple);if(i){if(e.indexOf("mask-")<0&&"box-shadow"!==e&&"text-shadow"!==e&&"background-image"!==e)return!1;var s=new RegExp(h.reg.color({noNames:1}),"gi"),l=new RegExp(h.reg.gradient(),"g"),c=t.replace(l,"").replace(s,"");if(("background-image"===e||"box-shadow"===e||"text-shadow"===e)&&c.indexOf(",")>-1)return!1}return!0},get_valid_keywords:function(t){r.startT(arguments);var n={};for(var i in t)t.hasOwnProperty(i)&&(n[t[i]]=e.extend(!0,[],TvrMT.data.prog.combo[t[i]]),n[t[i]]?(""===n[t[i]][0]&&n[t[i]].shift(),n[t[i]].sort((function(e,t){return t.length-e.length}))):n[t[i]]=[]);return r.endT(arguments),n},prop_patterns:function(e,t,n,i){r.startT(arguments);var a="",o=0;for(var s in e)if(e.hasOwnProperty(s)&&(("other"==n&&s!=t||"this"==n&&s==t)&&(a+=++o>1?"|":"",a+=e[s].join("|")),s==t&&("hor"==n||"vert"==n))){var l=[],c={},u=-1;for(var d in e[s])if(e[s].hasOwnProperty(d)){var p=e[s][d].split(" "),f="hor"==n?p[0]:p[1];c[f]||(l[++u]="hor"==n?p[0]:p[1],c[f]=1)}return a=l.join("|")}return r.endT(arguments),a},filter_initial_inherit:function(){},try_to_return_variables:function(e,t){for(var r=e.vars,n=r.length,i=0,a=0;a<n;a++){var o=r[a],s=o.index,l=Array.isArray(t.index)?t.index.indexOf(s,1):-1,c=t[l],u=Array.isArray(c),d=u?c.join(" "):c;if(l>-1&&d===o.varValue){var p="var("+o.varName+")";t[l]=u?[p]:p,++i}}return n===i&&t},filter_shorthand_matches:function(e,t,n,i,a){if(!n)return!1;var o=h.varValueMap[e];if(o&&o.vars.length&&!(n=this.try_to_return_variables(o,n)))return!1;var s=h.singleKeywords,l=n[i];Array.isArray(l)&&(l=l[0]);var c=h.isJustVariable(l)?h.get_variable_value(l,"css",!0):l;if(r.in_array(c,s))if(a)n[1]=l;else if("inherit"===c||"initial"===c)for(var u in n)if(n.hasOwnProperty(u)&&u>0&&r.isInteger(parseInt(u))){var d="inherit"===c?l:void 0;Array.isArray(n[u])&&(d=[d]),n[u]=d}return n},update_full_custom:function(e,t,n){r.startT(arguments),e.stats.full_custom[t.type].push(h.stringify_css(t,{singleNode:1,opts:n,tab:"",tabDepth:0})),r.endT(arguments)},comment_regex:{config:p+"\\s*$",mq:"(?:\\(\\s(.+?)"+f+"\\s*\\))$",section:"(?:=\\s([^=]+?)"+f+"\\s*=+\\s*)$",selector:"(?:\\*\\s(.+?)\\s>>\\s(.+?)"+f+"\\s*\\*)$"},parse_custom_nodes:function(e,t){function r(){var e=n(/^(\*?[-$#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(e&&(e=i(e[0]),n(/^:\s*/))){var t=n(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),r={type:"declaration",property:e,value:t?i(t[0]):""};return n(/^[;\s]*/),r}}function n(t){var r=t.exec(e);if(r){var n=r[0];return e=e.slice(n.length),r}}function i(e){return e?e.replace(/^\s+|\s+$/g,""):""}switch(t){case"rules":break;case"declarations":return function(){for(var e,t=[];e=r();)!1!==e&&t.push(e);return t}();case"declaration":return r()}},css_functions:["attr","blur","brightness","calc","circle","contrast","counter","counters","cubic-bezier","drop-shadow","ellipse","fit-content","grayscale","hsl","hsla","hue-rotate","hwb","image","inset","invert","linear-gradient","matrix","matrix3d","min-max","opacity","perspective","polygon","radial-gradient","repeat","repeating-linear-gradient","repeating-radial-gradient","rgb","rgba","rotate","rotate3d","rotateX","rotateY","rotateZ","saturate","sepia","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","symbols","translate","translate3d","translateX","translateY","translateZ","url"],selector_regex:{browser_event_keys_reversed:function(){return Object.keys(TvrMT.data.prog.browser_event_keys).reverse().join("|")},event_key:function(){return new RegExp("(?:(?:\\.mt-|:)("+h.selector_regex.browser_event_keys_reversed()+"))")},eventless_selector:function(){return new RegExp("^([\\s\\S]*?)(?:(?:\\.mt-|:)(?:"+h.selector_regex.browser_event_keys_reversed()+"))")},plain_selector:function(){return new RegExp("^([\\s\\S]*?)(?:(?:(?:\\.mt-|:)(?:"+h.selector_regex.browser_event_keys_reversed()+"))|(?:"+h.selector_regex.nth_child({scope:"\\d|n"})+"))")},nth_child:function(e){return"\\s*>\\s*:nth-child\\(("+e.scope+")\\)\\s*"}},any_mt_comment:function(e){var t=new RegExp("^"+Object.values(this.comment_regex).join("|")).exec(e);return!!t&&{config:t[1]?r.config_string_to_obj(t[1]):void 0,mq:t[2],mq_config:t[3]?r.config_string_to_obj(t[3]):void 0,section:t[4],section_config:t[5]?r.config_string_to_obj(t[5]):void 0,selector_section:t[6],selector:t[7],selector_config:t[8]?r.config_string_to_obj(t[8]):void 0}},get_extracted_config:function(e,t){return t=t||"config",r.checkObject(h.any_mt_comment(e),[t])},is_event_value_style:function(e,t){return t.ruleAnalysis.event_value_property===e.property},strip_sub_sel_only_flags:function(e){for(var t=0;t<e.length;t++)for(var r=e[t].declarations,n=0;n<r.length;n++){var i=r[n];i?"comment"===i.type&&" MT [ sub: 1 ] "===i.comment&&r.splice(n,1):r.splice(n,1)}},just_sub_sel_flag:function(e){return e.sub&&1===r.obj_length(e)},find_event_value_property:function(e){var t=!!e.node_refs&&e.node_refs.rules,r=e.sCode.match(this.selector_regex.eventless_selector()),n=!!r&&r[1];if(!t||!n)return!1;for(var i=0;i<t.length;i++){var a=t[i],o=a.selectors;if(Array.isArray(a.declarations)&&this.selectors_match(n,o))for(var s=a.declarations,l=0;l<s.length;l++){var c=s[l];if("transition-property"===c.property)return e.ruleAnalysis.event_value_property=c.value,!0}}return!1},get_font_family_from_decs:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var n=e[t];if(n){if("font-family"===n.property)return r.strip_quotes(n.value);if("font"===n.property){var i=h.sh.font(TvrMT.data.prog.sh.font,n.property,n.value);if(Array.isArray(i))return r.strip_quotes(i[6])}}else e.splice(t,1)}return""},query_lookahead_config:function(e,t,r){for(var n=0;n<e.MTconfigs.length;n++){var i=e.MTconfigs[n];if(!t)return r?i[r]:i;if(i[t.key]===t.value)return r?i[r]:i}return{}},apply_comment_data_to_mtData:function(e,n,i){for(var a=t.cssProps.html.map((e=>e.prop)),o=["google_font","event","event_target"].concat(a),s=e.sCode,l=!1,c=0;c<o.length;c++){var d,p,f,h,_=o[c];if(e.MTconfig[_])switch(_){case"google_font":var g=this.get_font_family_from_decs(e.node_refs.declarations),m=[];e.MTconfig.variant&&m.push(e.MTconfig.variant),e.MTconfig.subset&&m.push(e.MTconfig.subset),m.length&&(g+=" ("+m.join(", ")+")"),this.apply_fieldData_to_mtData({group:"font",prop:"font_family",value:TvrLang.google_font},n,e,i,!0),this.apply_fieldData_to_mtData({group:"font",prop:"google_font",value:g},n,e,i,!0);break;case"event":case"event_target":f=e.MTconfig.group,d="event"===_?this.selector_regex.event_key():this.selector_regex.eventless_selector(),(p=s.match(d))&&("event"===_?h=TvrMT.data.prog.browser_event_keys[p[1]]:"event_target"===_&&(h=this.strip_extra_from_selector(s),e.MTconfig.target_path&&(h+="|"+e.MTconfig.target_path)),this.apply_fieldData_to_mtData({group:f,prop:_,value:h,longProp:h},n,e));break;default:if(!l){let t=r.getMaxArrLength(e.MTconfig),a=!1;for(let r=0;r<t;r++)Object.keys(e.MTconfig).forEach((t=>{let o=e.MTconfig[t][r];o&&"snippet"!==t&&"move_relative_dom"!==t&&(this.apply_fieldData_to_mtData({group:"html",prop:t,value:o,index:r},n,e,i,!0),"selector"===t&&this.apply_fieldData_to_mtData({group:"html",prop:"xpath",value:u.attemptXPathConversion(o),index:r},n,e,i,!0),(!a&&"move_to_selector"===t||"move_to_relative"===t)&&(this.apply_fieldData_to_mtData({group:"html",prop:"move_relative_dom",value:u.resolveRelativeDom(e.MTconfig.move_to_selector[r],e.MTconfig.move_to_relative[r]),index:r},n,e,i,!0),a=!0))}));l=!0}}}},apply_fieldData_to_mtData:function(t,n,i,a,o){var s=e.extend(!0,[],i.levels),l=e.extend(!0,[],i.levels);s.push(t.group,t.prop,"value"),l.push(t.group,t.prop,"unit"),void 0!==t.gridItem&&(s.push(t.gridItem),l.push(t.gridItem)),void 0!==t.index&&(s.push(t.index),l.push(t.index));var c=r.checkObject(n,s);if(!1===c||c===t.value){r.updateObject(n,s,t.value),t.unit&&r.updateObject(n,l,t.unit);var u=t.important_prop===t.prop?" !important":"";h.maybe_fill_important(n,i,t)}else h.maybe_add_unsupported_declaration(n,i,a,o);i.stats.declarations.push(t.longProp+": "+t.value+u)},add_unsupported_declaration:function(e,t,n,i){var a=r.checkObject(n,t),o=this.build_ast_rules_log(a),s=[{type:"rule",selectors:Array.isArray(i)?i:this.format_ast_selector(i),declarations:e?[e]:[]}],l=this.consolidate_duplicate_rules(s,a,o);r.updateObject(n,t,l,{action:"replace"})},build_ast_rules_log:function(e){var t={};if(Array.isArray(e))for(var r=0;r<e.length;r++){var n=e[r].selectors.join(",");t[n]||(t[n]=r)}return t},set_declaration_levels:function(t){t.levels.push(t.tmpfSlug?t.tmpfSlug:t.fSlug,t.sSlug,"styles"),t.non_gui_levels=t.levels.slice(0,-1),t.selector_levels=e.extend(!0,[],t.non_gui_levels),t.non_gui_levels.push("ast","rules","non_gui"),t.important_levels.push(t.tmpfSlug?t.tmpfSlug:t.fSlug,t.sSlug),t.pg_chained={}},reset_m_root_levels:function(e,t,r){e.levels="MQ"===t?["non_section","m_query",r]:[],e.important_levels="MQ"===t?["non_section","important","m_query",r]:["non_section","important"]},traverse_ast_css:function(e,n,i,a){r.startT(arguments);var o=e.non_section.m,s=o.opts;for(var l in n)if(n.hasOwnProperty(l)){var c=n[l];switch(this.reset_m_root_levels(o,i,a),o.levels="MQ"===i?["non_section","m_query",a]:[],o.important_levels="MQ"===i?["non_section","important","m_query",a]:["non_section","important"],c.type){case"comment":var u=this.any_mt_comment(c.comment);if(u)u.mq?o.extractedMQ=u.mq:u.section?o.extractedF=u.section:u.selector?(o.extractedS=u.selector,o.selCommentJustFound=!0,o.selCommentNeverFound=!1,u.selector_section&&u.selector_section!==o.extractedF&&(o.extractedF=u.selector_section)):u.config&&(this.set_declaration_levels(o),o.MTconfig=u.config,this.apply_comment_data_to_mtData(o,e,c),this.just_sub_sel_flag(o.MTconfig)&&this.add_unsupported_declaration(c,o.non_gui_levels,e,o.sCode));else{var d=this.parse_custom_nodes(c.comment,"declarations");d.length?o.stylesLog.commented_out=o.stylesLog.commented_out.concat(d):(s.inline_css_to_gui||o.selCount>0)&&(this.set_declaration_levels(o),this.add_unsupported_declaration(c,o.non_gui_levels,e,o.sCode))}break;case"rule":s.css_imp_sels&&(o.MTconfig={},o.ruleAnalysis={},o.isSubSel=!1,o.gridItem=void 0,o.allGridItems=void 0,o.pg_disabled={},o.pgtab_disabled={},o.stylesLog={active_sub_groups:{},active_tab_controls:{},commented_out:[]},s.css_imp_sels&&"declaration"!==c.type&&(0==o.folderCount||o.fSelCount>=t.maxSelsPerFolder||o.extractedF)&&(o.fSelCount=1,++o.folderCount,o.extractedF?o.fName=s.ai_sync&&"edit"===t.pref.ai_can?o.extractedF:o.folderPrefix+" - "+o.extractedF:o.fName=o.folderPrefix+" "+o.folderCount,o.fSlug=r.convert_to_param(o.fName),r.checkObject(e,[o.fSlug,"this","label"])||o.stats.folders.push(o.fName),r.updateObject(e,[o.fSlug,"this","label"],o.fName)),e=h.get_ast_selector(c,s,o,e,i),o.extractedF=!1,s.css_imp_styles&&(o.node_refs.declarations=c.declarations,e=h.traverse_ast_css(e,c.declarations,i,a),this.process_commented_out_styles(e,o,i,a)));break;case"declaration":h.extractable_css_functions(c,o)?h.extract_css_functions(!1,c.value,i,a,c,o,e):this.process_declaration(c,o,e);break;case"charset":case"import":case"font-face":case"keyframes":case"namespace":case"document":case"page":case"supports":h.update_full_custom(o,c,s);break;case"keyframe":default:break;case"media":if(s.css_imp_mqs){var p="@media "+c.media;if(!(a=h.mq_exists(p,t.pref.m_queries)))if(o.createdMQs[p])a=o.createdMQs[p];else{a=o.opts.ai_sync?"mtmq"+h.randomHex(13)+o.mqCount:++o.mqCount;var f=o.extractedMQ?o.extractedMQ:r.simpler_media_query_label(p);o.extractedMQ=!1,e.non_section.active_queries[a]=h.mq_min_max({label:f,query:p}),o.createdMQs[p]=a,o.stats.media.push(p)}s.css_imp_sels&&(o.node_refs.rules=c.rules,e=h.traverse_ast_css(e,c.rules,"MQ",a))}}}return r.endT(arguments),e},randomHex:function(e){return[...Array(e)].map((()=>Math.floor(16*Math.random()).toString(16))).join("")},mq_min_max:function(e){const t=e.query,r={...e};return["min","max"].forEach((e=>{const n=t.match(new RegExp(`${e}-width:\\s*([0-9.]+)\\s*(px|em|rem)`));r[e]=n?parseInt(n[1],10):0,n&&(r[`${e}_unit`]=n[2])})),/@container/.test(t)&&(r.container=1),r},singleKeywords:["initial","inherit","unset","none"],singleKeywordRegex:function(t){t=t||{};var r=e.extend(!0,[],this.singleKeywords),n=t.numMatches?t.numMatches:"1";return t.css_variable&&r.push(h.reg.function_call({name:"var"})),t.exclude_none&&r.splice(r.indexOf("none"),1),"(?=("+r.join("|")+"){"+n+"})"},reg:{alpha_num:function(e){return"(?:["+(e.alpha||!r.isDefined(e.alpha)?"a-z":"")+(e.numbers||!r.isDefined(e.numbers)?"0-9":"")+(e.underscores?"_":"")+(e.dashes?"-":"")+(e.spaces?"s":"")+"])"},trailing_before_after:function(){return"::?(before|after)$"},before_after_html_line:function(){return"^\\s*::(before|after)\\n?$"},abs_or_rel_file:function(){return"^\"?'?((?:[^(\\r\\n]+)\\.(?:[a-zA-Z]+)(?:\\?[-a-zA-Z0-9()@:%_\\+.~#?&\\/=]*)?)\"?'?$"},opening_html_tag:function(e){return"^\\s*<\\s*(?!\\/)(?:"+(e.matchComments?"(!(?:(?:--)|(?:\\[endif\\]))(.+))|":"")+"(?:(?:!doctype\\s)?([a-zA-Z0-9]+)(.+)))"},url:function(e){return(e&&e.inc?e.inc.join("|")+"|":"")+"(?:url\\(['\"]?("+(e&&e.inside?"":"?:")+".*?)['\"]?\\))"},quoted:function(e){return"(?:['\"]("+(e&&e.inside?"":"?:")+".*?)['\"])"},only_keyword:function(e){return"(?:^\\s*"+h.singleKeywords.join("|")+"\\s*$)"},custom_ident:function(e){return"(?:[a-z]{1,}[a-z0-9_-]*)+"},time:function(e){return"(?:[-\\.\\d]+(?:s|ms))"},timing_function:function(e){return"(?:ease-?(?:in)?(?:out)?|linear|step-(?:start|end))|(?:cubic-bezier|(?:steps))\\([^\\(]+\\)"},animation_iteration:function(e){return"(?:[\\.\\d]+(?![ms]+))|infinite"},gradient:function(e){return"(?:repeating-)?(?:linear|radial)-gradient\\s*\\(("+(e&&e.inside?"":"?:")+"(?:\\([^\\)]*\\)|[^\\)\\(]*)*)\\)"},lengWithUnitRegex:function(){return new RegExp("^\\s*"+h.reg.leng({captUnit:1,mustHaveUnit:1})+"\\s*$","i")},css_units:function(e){return"("+(e&&e.captUnit?"":"?:")+"%|in|r?[cem][chm]|v(?:h|w|min|max)|ex|s|ms|p[ctx]|fr|deg|g?rad|turn)"},leng:function(e){var t=e&&e.inc?e.inc.join("|")+"|":"",r=e&&e.optUnit?"?":"",n=e&&e.mustHaveUnit?"":"|0(?![^url\\(]*\\))";return"(?:"+t+"[-\\.\\d]+"+h.reg.css_units(e)+r+n+")"},non_leng:function(){return"(?!"+h.reg.leng()+").*?"},colornames:function(e){r.startT(arguments),e=e||{};var t=tinycolor.names,n="transparent|";for(var i in e.excludeCurrent||(n+="currentColor|"),t)t.hasOwnProperty(i)&&(n+=i+"|");return r.endT(arguments),n.slice(0,-1)},anyRGBNum:function(e){return"rgba?\\((?:(\\d+),\\s*)?(?:(\\d+),\\s*)?"+(e.endOfString?"$":"")},color:function(e){return"#(?:[\\da-f]{3}){1,2}|rgb\\(\\s*(?:\\d{1,3}\\s*,\\s*){2}\\d{1,3}\\)|rgba\\(\\s*(?:\\d{1,3}\\s*,\\s*){3}\\d*\\.?\\d+\\)|hsl\\(\\s*\\d{1,3}\\s*(?:,\\s*\\d{1,3}%){2}\\)|hsla\\(\\s*|[a-z]+\\d{1,3}\\s*(?:,\\s*\\d{1,3}%){2}\\s*,\\s*\\d*\\.?\\d+\\)"+(e&&e.noNames?"":"|"+h.reg.colornames(e))},no_following_bracket:function(e){return"(?![^()]*(?:\\([^()]*\\))?\\))"},relative_dom_code:function(e){return"(?:(parents|parent|closest|children|find|next|prev|siblings)(?:\\((?:'|\")?([^)^'^\"]+)(?:'|\")?\\))?)"},not_in_brackets:function(e){return e+"(?![^\\(]*\\))"},char_not_inside:function(e,t){var r=[];return t.brackets&&r.push("(?:\\([^)]+\\))"),t.square_brackets&&r.push("(?:\\[[^\\[]+\\])"),t.quotes&&r.push("(?:['\"][^'\"]+['\"])"),"(?:"+r.join("|")+")|("+e+"+)"},just_function_call:function(e){return"^\\s*"+h.reg.function_call(e)+"\\s*$"},function_call:function(e){var t=e.name?e.name:"[a-z]{1,}[a-z0-9_-]*",r=e.inside?"(":"",n=e.inside?")":"";return"(?:"+t+"\\("+r+(e.possibleNesting?"(?:[^()]*|\\([^()]*\\))*":"[^)]+")+n+"\\))"},"specific-function":function(e){return"(?:"+e.name+"\\([^)]+\\))"},"grid-sh-parts":function(){return"(?:([^/]+)(?:\\/\\s*(.+))?)"},gridLine:function(e){var t=e.end?"$":"",r=e.optional?"{0,}":"";return"(?:\\["+(e.inside?"(":"")+"[^\\]]"+(e.inside?"+)":"")+"*\\]\\s*"+t+")"+r},"auto-flow-flag":function(e,t,r){return"(?:auto-flow)(\\s+dense)?"},"rows-areas-interlaced":function(e,t,r){return"([\"']([^\"']*)[\"'])|(\\[([^[]+)\\][\\s]*\\[([^[]+)\\])"},gridTracks:function(e){return["(","("+h.reg.gridLine({optional:1})+")","(",h.reg.function_call({possibleNesting:1})+"|",h.reg.leng({inc:["auto","none","inherit","initial","min-content","max-content","subgrid","masonry"],optUnit:1}),")\\s*",")","|","("+h.reg.gridLine({end:1})+")"].join("")},splitGridRowsCols:function(){return h.reg.char_not_inside("\\s",{brackets:1,square_brackets:1,quotes:1})},emptySelector:function(e){return/^([^{]+){\s*?(\/\* MT \[\s+?] \*\/)?\s*?}\s*?$/}},isJustVariable:function(e,t){if(!e||"$"===e)return!1;var r=new RegExp(h.reg.just_function_call({name:"var"}),"i");return e.match(r)},remove_match:function(e,t,n,i,a){var o=n[a].length;return i.modifiedStr=r.replaceAt(i.modifiedStr,n.index-i.indexCorrection,"",o),o},extract_auto_flow:function(e,t,r,n,i,a){var o=r[i+1]||"";return n.autoFlow=a+o,n.autoType=a,n.autoKeywordSet=!0,h.remove_match(e,t,r,n,i)},extract_grid_areas:function(e,t,r,n,i){if(void 0!==r[i])return n.areas.push(r[i]),h.remove_match(e,t,r,n,i)},handle_double_grid_names:function(e,t,n,i,a,o){if(void 0!==n[a]){var s=1===o?" ":"] auto [",l="["+n[a+1]+s+n[a+2]+"]",c=n[a].length,u=l.length;return i.modifiedStr=r.replaceAt(i.modifiedStr,n.index-i.indexCorrection,l,c),c-u}},split_grid_tracks:function(e){return r.split_on_regex_group(e,new RegExp(h.reg.splitGridRowsCols(),"mg"),1)},parse_grid_or_grid_template:function(e,t,i){var a=new n(h.reg["grid-sh-parts"](),"m").exec(i);if(!a)return!1;var o,s={row:a[1],column:a[2]||"none",autoFlow:"row",autoKeywordSet:!1,autoType:null},l=["none"],c=["none"],u=["auto"],d=["auto"],p="",f=h.special_grid_rows_to_plain_rows(s.row),_=new RegExp(h.reg["auto-flow-flag"](),"g");if(s.row=f.modifiedStr&&f.modifiedStr.trim()?f.modifiedStr:"none",o=f.areas.length?f.areas.join(" "):"none","grid"===t)for(var g=["row","column"],m=0;m<g.length;m++){var v=g[m];r.iterate_string(s[v],_,[{item:h.extract_auto_flow,args:[0,v]}],s),s[v]=s.modifiedStr}s.row=h.split_grid_tracks(s.row),s.column=h.split_grid_tracks(s.column),"grid"===t&&s.autoKeywordSet?("row"===s.autoType?(u=s.row.length?s.row:["auto"],c=s.column.length?s.column:["none"]):(d=s.column.length?s.column:["auto"],l=s.row.length?s.row:["none"]),p=s.autoFlow):(l=s.row,c=s.column);var y=["",l,c,o];"grid"===t&&y.push(u,d,p);var b=i.match(new RegExp(h.reg.only_keyword()))?1:-1;return y.index=a.index,y=h.filter_shorthand_matches(t,e,y,b)},special_grid_rows_to_plain_rows:function(e){var t=new RegExp(h.reg["rows-areas-interlaced"](),"mg"),n={areas:[]};return r.iterate_string(e,t,[{item:h.extract_grid_areas,args:[1]},{item:h.handle_double_grid_names,args:[3,1]}],n),r.iterate_string(n.modifiedStr,t,[{item:h.handle_double_grid_names,args:[3,2]}],n),n},parse_grid_row_column_gap:function(t,n,i,a){a=a||"\\s*/\\s*";var o=(i=h.strip_important(i).trim()).split(new RegExp(h.reg.not_in_brackets(a)));e.extend([],o);if("gap"!==n||r.isDefined(o[1])||(o[1]=o[0]),"grid-area"===n){var s=new RegExp(h.reg.custom_ident());switch(o.length){case 3:o[1].match(s)&&(o[3]=o[1]);break;case 2:o[0].match(s)&&(o[2]=o[0]);break;case 1:o[0].match(s)&&(o[1]=o[2]=o[3]=o[0])}}return[""].concat(o)},parse_css_function_shorthand:function(e,t,r){var n=new RegExp(h.reg.not_in_brackets("\\s*,\\s*"));return[""].concat(r.split(n))},combineRegExp:function(e,t){r.startT(arguments);var n,i="";for(n=0;n<e.length;n++)"string"==typeof e[n]?i+=e[n]:i+=e[n].source;return r.endT(arguments),new RegExp(i,t)},generateRegExp:function(){r.startT(arguments);var e=/\s*,\s*/,t=/(?:[+-]?\d*\.?\d+)(?:%|[a-z]+)?/,n=new RegExp(h.reg.colornames(),"i"),i=h.combineRegExp(["(?:",/\#(?:[A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/,"|","(?:rgb|hsl)",/\(\s*(?:[0-9]{1,3}\s*,\s*){2}[0-9]{1,3}\s*\)/,"|","(?:rgba|hsla)",/\(\s*(?:[0-9]{1,3}\s*,\s*){3}(?:[\.\d]+)\s*\)/,"|",n,")"],""),a=h.combineRegExp([i,"(?:\\s+",t,")?"],""),o=h.combineRegExp(["(?:",a,e,")*",a],""),s=h.combineRegExp(["(?:(",/(?:[+-]?\d*\.?\d+)(?:deg|grad|rad|turn)/,")|",/to\s+((?:(?:left|right)(?:\s+(?:top|bottom))?))/,")"],""),l=h.combineRegExp(["(?:(",s,")",e,")?(",o,")"],"gi"),c=h.combineRegExp(["\\s*(",i,")","(?:\\s+","(",t,"))?","(?:",e,"\\s*)?"],"gi");return r.endT(arguments),{gradientSearch:l,colorStopSearch:c}},parseGradient:function(e,t){var n,i,a,o;if(r.startT(arguments),null!==(i=e.gradientSearch.exec(t)))for(n={original:i[0],colorStopList:[]},i[1]&&(n.line=i[1]),i[2]&&(n.angle=i[2]),i[3]&&(n.sideCorner=i[3]),a=e.colorStopSearch.exec(i[4]);null!==a;)o={color:a[1]},a[2]&&(o.position=a[2]),n.colorStopList.push(o),a=e.colorStopSearch.exec(i[4]);return r.endT(arguments),n},test_this_thing:function(e){r.startT(arguments);var t=h.generateRegExp(),n=/.*gradient\s*\(((?:\([^\)]*\)|[^\)\(]*)*)\)/.exec(e);null!==n&&h.parseGradient(t,n[1]),r.endT(arguments)},get_vWords:function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(e[r].prop);return h.get_valid_keywords(t)},animation_transition_sh:function(e,t,r,i){var a=h.split_multiple_css_values(i);if(a&&a.length>1)return!1;var o,s,l=h.get_vWords(t),c="(?:"+h.sh.general_wl()+")",u="\\s+",d=h.reg.custom_ident(),p=h.reg.time(),f=h.reg.timing_function({shMap:t,vWords:l}),_="(?=(?:(?:(?!"+p+")"+c+u+"){0,"+"20}(?:("+p+"))){0,1})",g="(?=(?:(?:"+c+u+"){0,"+"20}(?:("+f+"))){0,1})",m="(?=(?:(?:"+c+u+"){0,"+"20}(?:"+p+u+"){1}("+p+")){0,1})";if("animation"===e){var v=h.reg.animation_iteration(),y=h.prop_patterns(l,"animation_direction","this",t),b=h.prop_patterns(l,"animation_fill_mode","this",t),w=h.prop_patterns(l,"animation_play_state","this",t);o=["^\\s*","(?=(?:(?:"+c+u+"){0,"+"20}(?:((?!"+f+v+"|"+y+"|"+b+"|"+w+")"+d+"))){0,1})",_,g,m,"(?=(?:(?:"+c+u+"){0,"+"20}(?:("+v+"))){0,1})","(?=(?:(?:"+c+u+"){0,"+"20}(?:("+y+"))){0,1})","(?=(?:(?:(?!backwards|forwards|both)"+c+u+"){0,"+"20}(?:("+b+").*?)){0,1})","(?=(?:(?:"+c+u+"){0,"+"20}(?:("+w+"))){0,1})","(?=(initial|inherit){0,1})"],s=9}else"transition"===e&&(o=["^\\s*","(?=(?:(?:"+c+u+"){0,"+"20}(?:((?!"+f+")"+d+"))){0,1})",_,g,m,"(?=(initial|inherit){0,1})"],s=5);var T=new n(o.join(""),"i").exec(i);return h.filter_shorthand_matches(r,t,T,s)},split_multiple_css_values:function(e){var t=/((?:[^"']|".*?"|'.*?')*?)([(,)]|$)/g;return function r(){for(var n=[];;){var i=t.exec(e);if("("===i[2]?(n.push(i[1].trim()+"("+r().join(", ")+")"),i=t.exec(e)):n.push(i[1].trim()),","!==i[2])return n;","===i[2]&&"%"===i[1][i[1].length-1]&&(n[n.length-1]+=i[1])}}()},varValueMap:{},get_variable_name:function(e){var t=h.reg.function_call({name:"var",inside:!0}),r=new RegExp(t),n=e.match(r);return!!n&&n[1]},variables_to_values:function(e,t){var n={origStr:t,vars:[]},i=h.reg.function_call({name:"var",inside:!0}),a=new RegExp(i,"g");return r.iterate_string(t,a,[{item:function(e,t,r,n){var i=r[1],a=h.get_variable_value(i,"css",!0);if(!1!==a)return n.vars.push({varName:i,varValue:a,index:r.index-n.indexCorrection}),this.replace_all(e,t,r,n,0,a)},args:[]}],n),h.varValueMap[e]=n,n},get_scss_variables:function(e){var n=r.checkObject(t.uiData.non_section,["scss_usage","variable"]);return!(!n||!r.obj_length(n))&&("keys"===e?Object.keys(n):n)},get_variable_value:function(e,n,a,o){var s=!1;if(!e)return!1;if("css"===n){var l=r.checkObject(t.pref.my_props,["sug_variables",e,"declarations"]);if(a&&t.iframeEditing()){var c=i.stat.doc.documentElement,u=r.checkObject(l,[0,"scope"]);if(u){var d=i.frontend_jquery_select(u);r.isDomEl(d)&&(c=d[0])}if(s=getComputedStyle(c).getPropertyValue(e))return s.trim()}if(l&&l.length){if(1===l.length||!o)return l[0].value;if(l.length>1&&o){for(var p=[],f=0;f<l.length;f++){var h=l[f];p.push(h.value+" ("+h.scope+")")}return p.join("\n")}}}else"scss"===n&&(e=e.split("$")[1],s=r.checkObject(t.uiData.non_section,["scss_usage","variable",e,"finalDecVal"]));return s},$shDiv:e("div"),quadProps:{padding:1,margin:1,"border-color":1,"border-width":1,"border-style":1,"border-radius":1,"grid-area":1,"grid-row":1,"grid-column":1,gap:1},onlyShortProps:{"text-shadow":1,"box-shadow":1},sh:{padding:function(e,t,r){return h.sh.quad(e,t,r)},margin:function(e,t,r){return h.sh.quad(e,t,r)},"border-color":function(e,t,r){r=h.strip_important(r).trim();var n=new RegExp(h.reg.color(),"ig"),i=r.match(n);if(!i)return!1;var a="";for(var o in i)i.hasOwnProperty(o)&&(a+=0===o?o:" "+o);var s=h.sh.quad(e,t,a);for(var l in s)if(s.hasOwnProperty(l)){var c=s[l];i[c]&&(s[l]=i[c])}return s},"border-width":function(e,t,r){return h.sh.quad(e,t,r)},"border-style":function(e,t,r){return h.sh.quad(e,t,r)},"border-radius":function(e,t,r){return h.sh.quad(e,t,r)},grid:function(e,t,r){return h.parse_grid_or_grid_template(e,t,r)},"grid-template":function(e,t,r){return h.parse_grid_or_grid_template(e,t,r)},"grid-area":function(e,t,r){return h.parse_grid_row_column_gap(e,t,r)},"grid-row":function(e,t,r){return h.parse_grid_row_column_gap(e,t,r)},"grid-column":function(e,t,r){return h.parse_grid_row_column_gap(e,t,r)},gap:function(e,t,r){return h.parse_grid_row_column_gap(e,t,r,"\\s")},scale:function(e,t,r){var n=h.parse_css_function_shorthand(e,t,r,"\\s");return n&&n.length<3&&(n[2]=n[1]),n},scale3d:function(e,t,r){return h.parse_css_function_shorthand(e,t,r,"\\s")},translate:function(e,t,r){return h.parse_css_function_shorthand(e,t,r)},translate3d:function(e,t,r){return h.parse_css_function_shorthand(e,t,r)},rotate3d:function(e,t,r){return h.parse_css_function_shorthand(e,t,r)},skew:function(e,t,r){return h.parse_css_function_shorthand(e,t,r)},quad:function(e,t,n){r.startT(arguments);var i=h.strip_important(n).trim();if("border-radius"===t){if("initial"===i||"inherit"===i)return["",i];var a=i.split(new RegExp(h.reg.not_in_brackets("\\/"))),o=!!a[1]&&a[1].trim();i=a[0].trim()}var s=h.sh["split-quad"](i);if(o){var l=h.sh["split-quad"](o);for(var c in l)l.hasOwnProperty(c)&&(s[c]=s[c]+" "+l[c])}return s.unshift(""),r.endT(arguments),s},"split-quad":function(e){r.startT(arguments);var t=new RegExp(h.reg.not_in_brackets("\\s")),n=e.split(t),i=[];for(var a in n)n.hasOwnProperty(a)&&""!=n[a]&&i.push(n[a]);n=i;var o=[];return o[0]=n[0],o[1]=n[1]?n[1]:n[0],o[2]=n[2]?n[2]:n[0],o[3]=n[3]?n[3]:n[1]?n[1]:n[0],r.endT(arguments),o},font:function(e,t,i){r.startT(arguments);var a=["^(?:(?:\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|"+h.reg.leng()+")","(?:\\s*\\/\\s*(normal|"+h.reg.leng({optUnit:1})+"))?","\\s*([-,\\\"\\'\\sa-z]+?)\\s*)|(caption|icon|menu|message-box|small-caption|status-bar|initial|inherit|none))$"],o=new n(a.join(""),"i").exec(i);return o=h.filter_shorthand_matches(t,e,o,7),r.endT(arguments),o},border_pattern:function(e,t,n){r.startT(arguments);var i=h.get_valid_keywords(["border_top_style"]),a=h.prop_patterns(i,"border_top_style","this",e),o=h.sh.general_wl(),s="\\s+",l=["^\\s*","(?=(?:(?:"+o+s+"){0,2}(?:("+h.reg.leng()+"))){0,1})","(?=(?:(?:"+o+s+"){0,2}("+a+")){0,1})","(?=(?:(?:"+o.replace("#","")+s+"){0,2}(?:("+h.reg.color()+"))){0,1})","(?=(initial|inherit){0,1})"];return r.endT(arguments),new RegExp(l.join(""),"i")},border:function(e,t,n){r.startT(arguments);var i=h.filter_shorthand_matches(t,e,h.sh.border_pattern(e,t,n).exec(n),4);i&&(i=["",i[1],i[1],i[1],i[1],i[2],i[2],i[2],i[2],i[3],i[3],i[3],i[3]]);return r.endT(arguments),i},"border-top":function(e,t,r){return h.filter_shorthand_matches(t,e,h.sh.border_pattern(e,t,r).exec(r),4)},"border-right":function(e,t,r){return h.filter_shorthand_matches(t,e,h.sh.border_pattern(e,t,r).exec(r),4)},"border-bottom":function(e,t,r){return h.filter_shorthand_matches(t,e,h.sh.border_pattern(e,t,r).exec(r),4)},"border-left":function(e,t,r){return h.filter_shorthand_matches(t,e,h.sh.border_pattern(e,t,r).exec(r),4)},general_wl:function(){return r.startT(arguments),"(?:[-a-z%:#,\\?'\"\\/\\.\\d\\(\\)]|"+h.reg.url()+")+"},background:function(e,t,i){r.startT(arguments);var a=[];for(var o in e)e.hasOwnProperty(o)&&a.push(e[o].prop);var s=h.get_valid_keywords(a),l=h.sh.general_wl(),c="\\s+",u=h.prop_patterns(s,"background_position","hor",e),d=h.prop_patterns(s,"background_position","vert",e),p=(h.prop_patterns(s,"background_position","this",e),h.reg.leng(),h.prop_patterns(s,"background_origin","this",e)),f=h.prop_patterns(s,"background_size","this",e),_=["^\\s*","(?=(?:(?:"+l.replace("#","")+c+"){0,"+"20}(?:("+h.reg.color()+"))){0,1})","(?=(?:(?:"+l+c+"){0,"+"20}(?:"+h.reg.url({inc:["none"],inside:1})+")){0,1})","(?=(?:(?:"+l+c+"){0,"+"20}("+h.prop_patterns(s,"background_repeat","this",e)+")){0,1})","(?=(?:(?:"+l+c+"){0,"+"20}("+h.prop_patterns(s,"background_attachment","this",e)+")){0,1})","(?=(?:(?:(?!"+u+"|"+d+"|"+h.reg.leng()+")"+l+c+"){0,"+"20}((?:"+u+"|"+d+"|"+h.reg.leng()+")(?:\\s(?:"+d+"|"+u+"|"+h.reg.leng()+")){0,1})){0,1})","(?=(?:(?:(?!"+f+")"+l+c+"){0,"+"20}(?:\\/\\s*)((?:"+f.replace("|auto","")+")|"+h.reg.leng({inc:["auto"]})+"(?:\\s"+h.reg.leng({inc:["auto"]})+"){0,1})){0,1})","(?=(?:(?:(?!"+p+")"+l+c+"){0,"+"20}("+p+")){0,1})","(?=(?:(?:"+l+c+"){0,"+"20}(?:\\7.+?)("+p+")){0,1})","(?=(initial|inherit){0,1})"],g=h.sh["linear-gradient"](e,t,i);if(!g)return!1;var m=g.altVal,v=new RegExp("(,\\s("+h.reg.color()+"))$","i").exec(m);v&&(m="endColorPlaceholder "+m.replace(v[0],""));var y=r.multiple_comma_values(m);if(y>1)return!1;if(y>0&&m.split(",")[1].trim()!==g.placeholder)return!1;v&&(m=m.replace("endColorPlaceholder",v[2]));var b=new n(_.join(""),"i").exec(m);return g.anyl&&(b||(b=[]),b[100]=g.normSh),r.endT(arguments),h.filter_shorthand_matches(t,e,b,9)},"linear-gradient":function(e,t,n){var i=n,a="linear-gradient"===t,o=[],s={pattern:new RegExp(h.reg.gradient({inside:1})+"{0,1}","i"),placeholder:"gradientPlaceholder",altVal:n},l=s.pattern.exec(n);if(null!==l){if(s.full=l[0],s.inside=l[1],s.altVal=i.replace(s.full,s.placeholder),s.gradientStripped=s.altVal.replace(s.placeholder,""),s.gradientStripped=r.trim(s.gradientStripped,","),s.full.indexOf("radial")>-1||s.full.indexOf("repeating")>-1)return!1;if(s.anyl=h.parseGradient(h.generateRegExp(),s.inside),!s.anyl)return!1;if((c=s.anyl.colorStopList).length>3)return!1;if(c[0]&&c[0].position||c[2]&&c[2].position)return!1;if(s.anyl){var c,u=s.anyl,d=["",u.angle?u.angle:""];(c=u.colorStopList)[0]?d.push(c[0].color):d.push(""),c[1]&&(d.push(c[1].color),c[1].position?d.push(c[1].position):d.push("")),c[2]?d.push(c[2].color):d.push(""),s.normSh=d,o[100]=d}return a?o:s}return a?o:s},animation:function(e,t,r){return h.animation_transition_sh("animation",e,t,r)},transition:function(e,t,r){return h.animation_transition_sh("transition",e,t,r)},"flex-flow":function(e,t,r){var i=h.get_vWords(e),a=(h.sh.general_wl(),h.prop_patterns(i,"flex_direction","this",e)),o=h.prop_patterns(i,"flex_wrap","this",e),s=new n(["^\\s*","(?=(?:(?:(?:"+o+")\\s+){0,1}(?:("+a+"))){0,1})","(?=(?:(?:(?:"+a+")\\s+){0,1}(?:("+o+"))){0,1})","(?=(initial|inherit){0,1})"].join(""),"i").exec(r);return h.filter_shorthand_matches(t,e,s,3)},"list-style":function(e,t,r){var i=[];for(var a in e)e.hasOwnProperty(a)&&i.push(e[a].prop);var o=h.get_valid_keywords(i),s=h.prop_patterns(o,"list_style_type","this",e),l=h.prop_patterns(o,"list_style_position","this",e),c=h.sh.general_wl(),u="\\s+",d=["^\\s*","(?=(?:(?:"+h.prop_patterns(o,"list_style_type","other",e)+u+"){0,2}(?:("+s+")\\s*){1})?)","(?=(?:(?:"+c+u+"){0,2}(?:"+h.reg.url({inc:["none"],inside:1})+"\\s*){1})?)","(?=(?:(?:"+c+u+"){0,2}(?:("+l+")\\s*){1})?)","(?=(initial|inherit){0,1})"],p=new n(d.join(""),"i").exec(r);return"none"==p[1]&&"none"==p[2]&&(r.match(/none/g)||[]).length<2&&(p[2]=void 0),h.filter_shorthand_matches(t,e,p,4)},"text-shadow":function(e,t,r){var i=h.reg.non_leng(),a=h.reg.not_in_brackets("\\s+"),o=["^\\s*","(?:","(?:","(?=(?:(?:"+i+")"+a+"){0,1}(?:("+h.reg.leng()+")\\s+){1})","(?=(?:(?:"+i+")"+a+"){0,1}(?:"+h.reg.leng()+"\\s*){1}(?:("+h.reg.leng()+")\\s*){1})","(?=(?:(?:(?:"+i+")"+a+"){0,1}(?:"+h.reg.leng()+"\\s+){2}(?:("+h.reg.leng()+")\\s*)){0,1})","(?=(?:(?:(?!"+h.reg.color()+").*?){0,1}("+h.reg.color()+")){0,1})",")","|(?=(initial|inherit|none){0,1})",")"],s=new n(o.join(""),"i");return h.filter_shorthand_matches(t,e,s.exec(r),5,!0)},"box-shadow":function(e,t,i){r.startT(arguments);var a=h.reg.non_leng(),o=h.reg.not_in_brackets("\\s+"),s=["^\\s*","(?:","(?:","(?=(?:(?:"+a+")"+o+"){0,2}(?:("+h.reg.leng()+")\\s+){1})","(?=(?:(?:"+a+")"+o+"){0,2}(?:"+h.reg.leng()+"\\s+){1}(?:("+h.reg.leng()+")\\s*){1})","(?=(?:(?:(?:"+a+")"+o+"){0,2}(?:"+h.reg.leng()+"\\s+){2}(?:("+h.reg.leng()+")\\s*)){0,1})","(?=(?:(?:(?:"+a+")"+o+"){0,2}(?:"+h.reg.leng()+"\\s+){3}(?:("+h.reg.leng()+")\\s*)){0,1})","(?=(?:(?:(?!"+h.reg.color()+").*?){0,1}("+h.reg.color()+")){0,1})","(?=(?:(?:(?!inset).*?){0,1}(inset)){0,1})",")","|"+h.singleKeywordRegex({css_variable:1}),")"],l=new n(s.join(""),"i").exec(i);return l=h.filter_shorthand_matches(t,e,l,7,!0),r.endT(arguments),l}},update_gathered_css_store:function(e,t,r,n,i){Array.isArray(t.value)&&(t.value=t.value.join(" "));var a=e.root_cat_keys[t.prop];if(a){var o=t.value?t.value.trim():t.value;if(o&&"initial"!==o&&"inherit"!==o&&"none"!==o){var s;if("color"==a)o=tinycolor(o).toRgbString();t.unit&&(o+=t.unit),e.store[a].push(o),(s=o.match(i))&&this.update_gathered_variable(e,r,n,s[1],!1,"usage")}}},update_gathered_variable:function(e,t,n,i,a,o){if(!{"--containerBorderColor":1,"--containerBorderColorHover":1,"--mtbdr":1,"--mtbg1":1,"--mtbg2":1,"--mthighlight-bg":1}[i]){var s=a?h.strip_important(a).trim():"";e.site_variables[i]||(e.site_variables[i]={lang:"css",type:s?h.checkStringValue(s):"unknown",declarations:[],usage:{}});var l=e.site_variables[i];if("declaration"===o)l.declarations.push({value:s,scope:t});else if("usage"===o){var c=r.cssf_to_prop(n);r.updateObject(l,["usage",c,"scopes",t],1)}}},reinit_stylesheet_rules:function(e){if(r.startT(arguments),t.tooMuchCSS&&e.updateStylesTab)return!1;t.sRules.init((function(){if(t.sRules._cssRules&&t.sRules._cssRules.length>5e3)if(e.updateStylesTab){if(!t.forceStylesAnalysis)return t.tooMuchCSS=!0,t.stat.actStyles.html("<p>"+TvrLang.too_much_css+"</p><p>"+TvrLang.too_much_css_2+'</p><p><span class="link force-styles-analysis">'+TvrLang.force_styles_analysis+"</span></p>"),!1}else if(!t.alwaysAllowSampling&&e.refreshVarsVals){var r=t.sRules._cssRules.length;if(!confirm(tvrsprintf(TvrLang.sample_css_confirm,r)))return!1;t.alwaysAllowSampling=!0}t.reinitRules=!1,e.cbFunction&&e.cbFunction.apply(this,e.cbfArgs)})),r.endT(arguments)},globalVarContexts:["html",":root","body"],refresh_sug_values:function(n){r.startT(arguments),t.reinitRules?h.reinit_stylesheet_rules({cbFunction:h.refresh_sug_values,cbfArgs:[n],refreshVarsVals:1}):t.sRules.getCSSStyleSheetRules("*","selector, properties",-1,(function(a){var o=e.extend(!0,{site_variables:{}},TvrMT.data.prog.gatheredCSS),s=new RegExp(h.reg.function_call({name:"var",inside:1})),l=h.globalVarContexts;if(i){let e=(i.stat.html[0].className+" "+i.stat.body[0].className).trim().split(/\s+/g);for(let t=0;t<e.length;t++)e[t]="."+e[t];l=l.concat(e)}for(var c in a)if(a.hasOwnProperty(c)){var u=a[c].properties,d=a[c].selector;if(u)for(var p in u)if(u.hasOwnProperty(p)){var f=u[p];if(r.in_array(d,l)&&0===p.indexOf("--"))h.update_gathered_variable(o,d,p,p,f,"declaration");else{if(!r.isDefined(f)||!o.eligable[p]||n.reSug&&p!==n.cssf&&!r.in_array(p,n.shArray))continue;var _=h.input_field_available(p,f);if(_)if(Array.isArray(_)){for(var g in _)_.hasOwnProperty(g)&&h.update_gathered_css_store(o,_[g],d,p,s);"grid-area"===p&&o.store.grid_area.push(h.strip_important(f))}else h.update_gathered_css_store(o,_,d,p,s)}}}for(var m in o.store)if(o.store.hasOwnProperty(m)&&(n.all||m===n.specific)){o.store[m]=h.sortByFrequencyAndRemoveDuplicates(o.store[m]);var v=h.max_sug_vals(m,"sampled"),y=h.max_sug_vals(m,"recent");t.pref.my_props.sug_values[m].sampled.length&&(t.pref.my_props.sug_values[m].sampled=[]);var b={color:!0,font_family:!0};for(var w in o.store[m])if(o.store[m].hasOwnProperty(w)){var T=o.store[m][w];if(w>v-1)break;if(t.pref.my_props.sug_values[m].sampled.push(T),!t.pref.default_sug_values_set&&w<y&&b[m]){if(w<1&&t.pref.my_props.sug_values[m].recent.length){b[m]=!1;continue}t.pref.my_props.sug_values[m].recent.push(T)}}"color"===m?t.pref.my_props.sug_values[m].sampled.sort():t.pref.my_props.sug_values[m].sampled=h.sort_number_unit_strings(t.pref.my_props.sug_values[m].sampled,!0),o.store[m]=[]}n.getVars&&(t.pref.my_props.sug_variables=o.site_variables),h.update_mt_color_variables_tag(),n.$resample&&"color"==n.specific&&t.draw_palette(),n.triggeredBy="refresh_sug_values",h.save_sug_vals(n)})),r.endT(arguments)},update_mt_color_variables_tag:function(){for(var n=t.pref.my_props.sug_variables?Object.keys(t.pref.my_props.sug_variables):[],i={},a=0;a<n.length;a++){var o=n[a];if("color"===t.pref.my_props.sug_variables[o].type){var s=h.get_variable_value(o,"css",!0);s&&(i[o]=s)}}var l=r.config_obj_to_string(i,!1,";\n"),c=".sp-container .tile-color, .tvr-input-wrap .var-color-box, .mt-color-picker { "+l+" }",u=t.stat.doc.createElement("style");u.setAttribute("id","mt_color_variables"),u.innerHTML=c,t.stat.head.appendChild(u),e.MTajaxQueue({url:t.ajaxUrl,type:"POST",data:"mt_color_variables_css="+l})},update_stylesheet_rules:function(n){if(r.startT(arguments,!0),!i||!r.isDomEl(i.triggerEl)||i.stat.win.closed)return!1;var a=t.stat.actStyles;if(n||a.parent().addClass("still-gathering"),t.reinitRules)h.reinit_stylesheet_rules({cbFunction:h.update_stylesheet_rules,cbfArgs:[n],updateStylesTab:!n});else{var o=i.triggerEl[0];t.sRules.getCSSRules(o,"*",(function(e){let t=h.sortThenOutput(o,e);n?d.styleSheetRules=t:(a.html(t),a[0].scrollTop=0)})),a.parent().removeClass("still-gathering")}r.endT(arguments,1,!0);var s=r.profiler.update_stylesheet_rules.avg_time;if(s>1e3){var l=(parseInt(s)/1e3).toFixed(2),c=tvrsprintf(TvrLang.slow_styles_tab,"<b>"+l+"</b>");c+='. <a target="_blank" href="https://themeover.com/slow-styles-tab-warning/">'+TvrLang.learn_more+"</a>";var u=e(t.templates.notice).removeAttr("id");s>=3e3&&u.addClass("tvr-error"),u.find(".mt-notice-text").html(c),a.find(".tvr-message").remove().end().prepend(u)}t.forceStylesAnalysis&&(t.forceStylesAnalysis=!1,t.tooMuchCSS=!1,t.reinitRules=!0)},sortThenOutput:function(e,n){n.sort((function(e,t){return e.inheritance.length==t.inheritance.length?e.specificity.toString()===t.specificity.toString()?e.index-t.index:e.specificity[0]!==t.specificity[0]?e.specificity[0]-t.specificity[0]:e.specificity[1]!==t.specificity[1]?e.specificity[1]-t.specificity[1]:e.specificity[2]!==t.specificity[2]?e.specificity[2]-t.specificity[2]:e.specificity[3]-t.specificity[3]:t.inheritance.length-e.inheritance.length})),n.reverse();for(var i="<dl>",a=null,o=0;o<n.length;o++){var s=n[o].inheritance.length>0?n[o].inheritance[0]:null;if(null!=n[o].properties){if(n[o].inheritance.length>0&&s!=a){a=s;var l=s.nodeName.toLowerCase()+(""!=s.id?"#"+s.id:""!=s.className?"."+s.className:"");i+='<dt><span class="inheritance-label">'+TvrLang.inherited_from+': </span><span class="inheritance-el" title="'+l+'">'+l+"</span></dt>"}var c="",u="";if(n[o].href){var d=r.root_rel(n[o].href).split("?")[0],p=r.basename(d),f=n[o].href.indexOf("micro-themes/")>-1?TvrLang.mt_stylesheet+"\n"+d:d;c='<span class="style-src show-dialog" '+('rel="inspect-stylesheet" data-href="'+n[o].href+'" data-selector="'+r.escapeHTML(n[o].selector)+'" data-media="'+n[o].media+'"')+'title="'+f+'">'+p+"</span>",u+=" new-sheet-rule"}else{let e=n[o].idAttr||"",r="@style"===n[o].owner,i=r?"inline":"&lt;style&gt;",a=e?" (style#"+e+")":"";c='<span class="style-src no-sheet-span" title="'+(0===e.indexOf("mtprv")?"User's own "+t.appName+" styles"+a:r?"Inline CSS applied using a HTML style attribute":"CSS added with a style tag"+a)+'">'+i+"</span>",u+=" no-sheet-rule"}var h="";if(n[o].media!=v)h='<span class="media-condition">'+("all"==n[o].media?"["+TvrLang.all_devices+"]":"@media "+n[o].media)+"</span>",u+=" has-media-rule";else u+=" no-media-rule";var _='<span class="media-ss'+u+'">'+c+h+"</span>";for(var g in i+="<dd>"+_+"<pre>",i+="<abbr>",i+='<span class="cssselector">'+n[o].selector+"</span> {\n",n[o].properties)if(n[o].properties.hasOwnProperty(g)){var m=n[o].properties[g];i+="    ","cancelled"==m.status?i+="<del>"+g+": "+m.value+";</del>":i+='<span class="cssproperty">'+g+'</span>: <span class="cssvalue">'+m.value+"</span>;",i+="\n"}i+="}</abbr></pre></pre>";n[o].href;var v=n[o].media}}return"<dl>"==i&&(i+="<dt>The selected element has no rules</dt>"),i+="</dl>"},update_recent_combo_or_save:function(e,n,i){if(r.isDomEl(e.$property,!0)){var a=e.$property,o=t.get_meta(a,"property"),s=a.hasClass("color")?"color":o.propertySlug,l=t.gatheredCSS.root_cat_keys[s],c=a.hasClass("vl-name-input");if(!t.pref.my_props.sug_values[l]&&!c)return!1;n&&h.update_recent_for_input(e,a,o,!1),i&&h.save_sug_vals({specific:l,triggeredBy:"update_recent_combo_or_save"})}},update_recent_for_input:function(e,n,i,a){if(!r.isDomEl(n,!0))return!1;n.hasClass("mt-supplementary-picker")&&(n=n.closest(".tvr-input-wrap").find(".property-input"));var o=n.attr("rel"),s=t.gatheredCSS.root_cat_keys[o];if(s){var l={save:a,redrawPalette:"color"===s,synced_set:!1},c=t.last_field_val_converted?t.last_field_val_converted.origVal:n.val(),u=c===Object(c),d=u?c.value:c;if(t.last_field_val_converted=!1,d&&(d.indexOf("var(")>-1&&!h.isJustVariable(d)||"$"===d))return!1;e.unitEligable&&r.isDefined(e.unit)&&r.isNumber(d)&&(0!=d||"s"===e.unit)&&(d+=e.unit),u?c.value=d:c=d,h.splice_sug_val(c,!1,s,"recent",l)}},maybe_slide_single_combo_suggestion_at_top:function(n,i,a){var o=t.get_related_meta("combo",n),s=o.$container;if(r.isDefined(a)&&r.isDomEl(s)&&s.is(":visible")){var l=[];if(s.find("li").each((function(){var t=e(this);t.hasClass("ui-menu-item")&&t.attr("aria-label")&&t.attr("aria-label").indexOf(TvrLang.suggestions)>-1&&l.push(t.text())})),!r.in_array(a,l)){var c=o.$container.siblings(".sp-input-var"),u=r.isDomEl(c)?c:n;t.resolve_combobox_source(u,!0);s.find("li.suggestions-category").after(e('<li aria-label="'+TvrLang.suggestions+" : "+a+'" class="empty ui-menu-item recent-slidein">'+a+'<span class="mt-combo-icon clear-single-suggestion" data-action="clear-single-suggestion" title="Clear suggestion"></span><span class="mt-combo-icon save-single-suggestion " data-action="save-single-suggestion" title="Save suggestion"></span></li>').data("ui-autocomplete-item",{value:a}))}}},maybe_refresh_suggestions_html:function(n,i,a){var o=t.get_related_meta("combo",n),s=o.$container;if(r.isDefined(a)&&r.isDomEl(s)&&s.is(":visible")){var l=[];if(s.find("li").each((function(){var t=e(this);t.hasClass("ui-menu-item")&&t.attr("aria-label")&&t.attr("aria-label").indexOf(TvrLang.suggestions)>-1&&l.push(t.text())})),!r.in_array(a,l)){for(var c=o.$container.siblings(".sp-input-var"),u=r.isDomEl(c)?c:n,d=t.resolve_combobox_source(u,!0),p=[],f=0;f<d.length;f++){var h=d[f];h.category===TvrLang.suggestions&&p.push(e('<li aria-label="'+TvrLang.suggestions+" : "+h.value+'" class="empty ui-menu-item recent-slidein">'+h.value+'<span class="mt-combo-icon clear-single-suggestion" data-action="clear-single-suggestion" title="Clear suggestion"></span><span class="mt-combo-icon save-single-suggestion " data-action="save-single-suggestion" title="Save suggestion"></span></li>').data("ui-autocomplete-item",h))}s.find("li.ui-menu-item[aria-label^="+TvrLang.suggestions+"]").remove(),s.find("li.suggestions-category").after(p)}}},splice_sug_val:function(e,n,i,a,o){var s,l=t.pref.my_props.sug_values[i][a];if(e){var c=(s=e===Object(e))?e.label:e;if(c=c.toString(),s||(e=c),c===TvrLang.google_font||"list_style_image"===i&&"none"===c||"background_image"===i&&"none"===c||"url"===i&&"none"===c||"mask_image"===i&&"none"===c)return!1;var u=r.in_array(c,l,!1,"label");if(!1!==u){if("color"===i)return!1;l.splice(u,1)}l.unshift(e);var d=h.max_sug_vals(i,a);l.length>d&&l.pop()}if(!1!==n){var p=(s=n===Object(n))?n.value:n;p=p.toString();var f=r.in_array(p,l,!1,"label");!1!==f&&l.splice(f,1)}if(o.redrawPalette&&t.draw_palette(),o.save){var _=o.synced_set?{synced_set:o.synced_set}:{specific:i};_.triggeredBy="splice_sug_val",h.save_sug_vals(_)}},max_sug_vals:function(e,r,n){var i;if("color"===e)i="recent"===r?t.numMiniTiles:"sampled"===r?t.numSiteTiles:t.numSavedTiles;else i="recent"===r?t.numRecent:"sampled"===r?t.numSampled:t.numSug;return i},save_sug_vals:function(r){var n,i={};r.all?(n="all",i={sug_values:t.pref.my_props.sug_values,sug_variables:t.pref.my_props.sug_variables}):r.synced_set?(n="synced_set",i.synced_set={},r.synced_set.each((function(r){var n=e(this).attr("rel");i.synced_set[n]=t.pref.my_props.sug_values[n]}))):r.specific&&(n=r.specific,i.specific=t.pref.my_props.sug_values[n]),r.getVars&&(i.sug_variables=t.pref.my_props.sug_variables),s.simple_ajax_request({type:"POST",url:t.ajaxUrl+"&update_sug_values="+n,sendData:s.serialized_data_with_single_key(JSON.stringify(i)),plus:"",minus:""})},sortByFrequencyAndRemoveDuplicates:function(e){for(var t,r={},n=e.length,i=0;i<n;i++)(t=e[i])in r?r[t]++:r[t]=1;var a=[];for(t in r)r.hasOwnProperty(t)&&a.push(t);return a.sort((function(e,t){return r[t]-r[e]}))},maybe_update_color_picker_tiles:function(e,n){var i=e.closest(".sp-container");r.isDomEl(i)&&t.draw_palette(i)},comboParts:{clearSuggestions:{action:"clear-mt-suggestions",title:function(){return TvrLang.clear_mt_suggestions}},clearSiteStyles:{action:"clear-site-styles",title:function(e){return tvrsprintf(TvrLang.clear_sampled,e)}},clearVariables:{action:"clear-sampled-variables",title:function(e){return tvrsprintf(TvrLang.clear_sampled_variables,"")}},addSuggestions:{action:"add-mt-suggestions",title:function(e){return TvrLang.add_mt_suggestions}},addSiteStyles:{action:"show_sampled_values",title:function(e){return tvrsprintf(TvrLang.resample,e)},extraClass:"resample-styles",catToggleAtts:function(){return t.format_combo_cat_toggle_atts("show_sampled_values")}},addVariables:{action:"show_sampled_variables",title:function(e){return tvrsprintf(TvrLang.resample_variables,"")},extraClass:"resample-styles",catToggleAtts:function(){return t.format_combo_cat_toggle_atts("show_sampled_variables")}},clearSingleSuggestion:{action:"clear-single-suggestion",title:function(){return TvrLang.clear_single_suggestion}},saveSingleSuggestion:{action:"save-single-suggestion",title:function(){return TvrLang.save_single_suggestion}},unSaveSingleSuggestion:{action:"unsave-single-suggestion",title:function(){return TvrLang.unsave_single_suggestion}}},comboPartsHTML:{},setupComboPartsHTML:function(){},combo_icon_clicked:function(n,i){if(n.closest(".ui-autocomplete").hasClass("site-search-menu"))return t.clear_recent_page_path(n,i),!1;var a=t.get_related_meta("combo",n.closest(".ui-autocomplete")),o=a.M,s=a.$colorVarInput||a.$input,l=s.attr("rel");"color_extra"===l&&(l="color");var u=t.gatheredCSS.root_cat_keys[l],d=o.propertySlug,p=t.pref.my_props.sug_values,f=n.data("action"),_=(n.parent(),n.closest("li")),g=(_.closest(".ui-menu"),_.text()),m=_.data("alt-value"),v={specific:d};switch(f){case"add-mt-suggestions":p[u].copiedSrc=e.extend(!0,[],TvrMT.data.prog.combo[l]),c.apply_unit_to_copied_src();break;case"clear-mt-suggestions":p[u].copiedSrc=[];break;case"save-single-suggestion":var y=g;void 0!==m&&m!==g&&(y={label:g,value:m}),h.splice_sug_val(y,!1,u,"saved",{}),h.maybe_update_color_picker_tiles(n,"saved");break;case"unsave-single-suggestion":h.splice_sug_val(!1,g,u,"saved",{}),h.maybe_update_color_picker_tiles(n,"saved");break;case"clear-single-suggestion":var b=_.attr("aria-label").indexOf(TvrLang.sampled)>-1,w=_.attr("aria-label").indexOf(TvrLang.sampled_variables)>-1,T=[];if(b)T=["sampled"];else if(w){var x=h.get_variable_name(g);x&&(delete t.pref.my_props.sug_variables[x],v.getVars=!0,v.specific=!1)}else T=["recent","saved","copiedSrc"];for(var k=0;k<T.length;k++)h.splice_sug_val(!1,g,u,T[k],{});h.maybe_update_color_picker_tiles(n,"recent");break;case"show_sampled_values":case"show_sampled_variables":if("show_sampled_variables"===f)h.refresh_sug_values({getVars:1});else{var S=d.replace(/_/g,"-"),C=[],M=TvrMT.data.prog.lh,A=r.checkObject(M,[S,"sh"]);if(A&&Array.isArray(A))if(Array.isArray(A[0]))for(k=0;k<A[0].length;k++)C.push(A[0][k]);else C.push(A[0]);h.refresh_sug_values({specific:u||d,cssf:S,shArray:C,reSug:!0})}parseInt(t.pref[f])||t.toggle_feature(!1,f);break;case"clear-site-styles":p[u].sampled=[],parseInt(t.pref.show_sampled_values)&&t.toggle_feature(!1,"show_sampled_values");break;case"clear-sampled-variables":h.clear_sampled_variables(l),v.getVars=!0,v.specific=!1,parseInt(t.pref.show_sampled_variables)&&t.toggle_feature(!1,"show_sampled_variables");break;case"toggle-sampled":var O=t.pref.my_props.sug_variables?Object.keys(t.pref.my_props.sug_variables):[],E=n.data("aspect"),P="show_sampled_values"===E?p[u].sampled:O,D=!P||!P.length;if(parseInt(t.pref[E])&&D)return h.combo_icon_clicked(n.siblings(".resample-styles")),!1}t.comboIconReflow=!0,t.resolve_combobox_source(s,!0,!0,""),"show_sampled_values"!==f&&"show_sampled_variables"!==f&&"toggle-sampled"!==f&&(v.triggeredBy="combo_icon_clicked",h.save_sug_vals(v))},clear_sampled_variables:function(e){t.pref.my_props.sug_variables={}},getStringParts:function(e){return e.replace(/([a-zA-Z0-9])(?=[A-Z])/g,"$1-").toLowerCase().split(/[-_]+/g).filter((function(e){return!!e}))},stringPartsMatch:function(e,t){for(var r=0;r<e.length;r++)for(var n=e[r],i=0;i<t.length;i++){var a=t[i];if(n.indexOf(a)>-1||a.indexOf(n)>-1)return!0}return!1},nameIsSimilar:function(e,t){var r=this.getStringParts(e),n=this.getStringParts(t);return this.stringPartsMatch(r,n)},sort_number_unit_strings:function(e,n,i,a,o,s,l){var c=/((?:\d+)?(?:[.]?\d*)?)(\D*)/,u=[],d=[];for(var p in e)if(e.hasOwnProperty(p)){var f=e[p],_=f===Object(f)?f:{value:f},g=c.exec(_.value);if(g){_.num=g[1]?parseFloat(g[1]):0,_.str=g[2]?g[2].replace(/"/g,""):"";var m=_.str.indexOf("var(")>-1||_.str.indexOf("$")>-1;if(l&&!m)continue;if(a||m){var v;if(a)v=_.value;else{var y=new RegExp(h.reg.function_call({name:"var",inside:1})),b=!!_.value&&_.value.match(y);b&&(v=b[1])}r.checkObject(t.pref.my_props,["sug_variables",v,"declarations"]);var w=h.get_variable_value(v,"css",!1,!0),T=r.checkObject(t.pref.my_props,["sug_variables",v,"type"]);if(_.varValue=w,_.variableType=T,a){var x=r.checkObject(t.pref.my_props,["sug_variables",v,"usage",o]),k=h.nameIsSimilar(v,i+"-"+o),S=o.indexOf(T)>-1||"length"===T&&s;if(!S&&("color_extra"===o||"color"===T))continue;S&&(_.var_relevance=1),(x||k)&&(_.var_relevance=S?3:2),_.value="var("+v+")"}}_.str.indexOf("--")>-1||_.str.indexOf("$")>-1?_.variable=1:"auto"===_.str||"none"===_.str?_.standard=1:(0===_.num||_.str.match(/(?:\()|(min-content)|(max-content)|(subgrid)|(masonry)/))&&(_.special=1)}u.push(_)}if(u.sort(r.firstBy("var_relevance",-1).thenBy("variable",-1).thenBy("standard",-1).thenBy("special",-1).thenBy("str").thenBy("num")),n){for(var C in u)u.hasOwnProperty(C)&&d.push(u[C].value);return d}return u}};return e.extend(!0,h.reg,window.MTMainAndWorker.reg),h}()})),jQuery(document).ready((function(e){TvrMT.mod.MTsave=function(){var t,r,n,i,a,o,s,l,c,u,d,p=window.TvrLang,f={set_vars:function(){r=TvrMT.TvrCom,t=TvrMT.TvrUi,n=TvrMT.MTF,i=TvrMT.mod.MTace,a=TvrMT.mod.MTint,o=TvrMT.mod.MTloop,s=TvrMT.mod.MTdd,l=TvrMT.mod.MTwidget,c=TvrMT.mod.MTlayout,u=TvrMT.mod.MThtml,d=TvrMT.mod.MTai},setup_ajax_queue:function(){jQuery.MTajaxQueue=function(e){const t={taskName:"ajaxFetchTask",channel:e.channel||"queueable",terminateOnCompletion:e.terminateOnCompletion||!1,type:e.type,url:e.url,headers:e.headers,dataType:e.dataType,timeout:e.timeout,data:e.data,cb_ww:e.cb_ww,cb:e.cb,cb_failure:e.cb_failure,cb_complete:e.cb_complete,mainThreadData:{...e}};r.ww.assignTask(t)}},full_editor_placeholder_comment:"/* Full Code Editor CSS */",full_editor_pre_save:function(a){var l=a.settings?a.settings:{},c=a.$fullTextarea,u=c.val(),d=s.get_trail_from_name(c.attr("name")),h=e.extend([],d),_=a.$editor;if(l.savePackage=l.savePackage?l.savePackage:[],o.updateObjectAndSavePackage(l.savePackage,{action:"replace",trail:d,data:u}),t.client_scss){var g=e.extend([],d),m=g.pop();g.push(m+"_compiled");var v=["non_section","code_editors",m,"scss_types"],y=t.check_update_scss_changes(l,{code:u,declared:1,onlyGlobalVars:1,scss_types_trail:v,resourceTrail:d}),b=r.checkObject(t.uiData,v);l.preprocessor={code:f.full_editor_placeholder_comment+"\n"+u,compiled_css_trail:g,editor_slug:m,node_trail:e.extend([],g),codeEditorEdited:!0,scss_types:b,scss_types_changed:y,importChanged:y&&r.obj_length(y.import)>0,extendChanged:b&&r.obj_length(b.extend)>0},y&&(l=o.run_global_scans(l,["scss_types"]))}return t.iframeEditing()&&!t.scss_enabled&&n.update_preview_style_node(h,u),l=f.user_action(l,{items:[p.custom_code],val:i.editor_line(i.get_editor(_)),icon:"mtif-code"})},input_pre_save:function(n){r.startT(arguments);var a=n.$property,d=n.settings?n.settings:{savePackage:[]},h=t.get_meta(a,"property"),_=n.$editor,g=o.get_property_data(h),m=t.get_default_unit(h.groupSlug,h.propertySlug),v=g.property.unit,y=a.hasClass("mt-slider");if(!n.triggeredBySlider&&y){l.ensure_slider_connected(a);var b=a.val(),w=s.separate_value_unit(b),T=r.prop_to_cssf(h.propertySlug),x={inputEdited:1,writeUnitToField:1,updateSliderValue:1,positionDragbar:1};w&&!h.property.hasClass("has-variable-line")&&(b=w.value,v=w.unit,t.unitStripped=!0,"focus"!==n.comboAction&&v!==m&&(x.writeUnitToSlider=1,x.updateCopiedSrc=1,x.updateCopiedSrcReflow=!1)),r.isDefined(v)||(v=t.get_default_unit(h.groupSlug,h.propertySlug)),l.update_css_unit(v,x,l.resolve_slider_compatible_value(b,h.propertySlug,T,v,!0),b),l.sliderValPendingComp&&(r.action_after_timeout("reset_slider_to_computed",200,{item:function(){var e=l.get_value_from_computed(h.propertySlug,T,v);l.update_slider_value(e,{positionDragbar:1})}}),l.sliderValPendingComp=!1)}if(n.unitEligable=h.property.hasClass("mt-has-unit"),n.supportsSlider=y,n.unitEligable&&(v=v||t.get_default_unit(h.groupSlug,h.propertySlug),n.unit=v),"animation_name"===h.propertySlug||"transition_property"===h.propertySlug){var k=h.groupSlug,S=a.val(),C=h.groupTab.find("div.field-"+k+"-"+k+"_duration"),M=C.find("input.property-input"),A=C.find(".comp-style").text();!S||A&&"0s"!==A?S||!r.isDefined(M.val())||t.pg_check_values(a,h.tabSlug,!1,"."+k+"_duration")||(M.val(""),t.adjust_comp_span(M,"after")):(M.val("0.5"),t.adjust_comp_span(M,"after"))}if("event"===h.propertySlug&&t.adjust_event_fields(a),"html"===h.groupSlug){u.uiFieldAdjusted(h,a).abortSave}if("transition_property"===h.propertySlug){var O=a.val();a.closest(".field-wrap").siblings(".event-value-field").find(".suppl-picker-wrap")}else h.property.hasClass("is-picker")&&t.adjust_comp_span(a,"after");if("event_value"===h.propertySlug){var E=h.property.find(".mt-event-value-input"),P=(h.property.find(".suppl-picker-wrap"),h.property.find(".mt-supplementary-picker")),D=a.val(),j=(O=h.groupTab.find(".field-transition-transition_property").find(".property-input").val(),new RegExp(s.reg.color()));if(a.hasClass("mt-event-value-input")&&a.is(":focus")){var I=j.exec(D);I&&I[0]?t.update_spectrum(I[0],P,{}):t.clear_spectrum_inputs(h),P.mtspectrum("hide")}else if(a.hasClass("mt-supplementary-picker")){if(O.indexOf("shadow")>-1){var L=E.val();if(L){var R=L.match(j);D=R?L.replace(R[0],D):L.trim()+" "+D}}E.val(D),t.adjust_comp_span(E,"after"),t.update_input_width_and_scroll(E)}}"grid_area"===h.propertySlug?h.groupTab.find("div.subgroup-itemcolumn, div.subgroup-itemrow").find(".property-input").each((function(){f.input_clear_correction(e(this))})):(h.property.hasClass("subgroup-itemcolumn")||h.property.hasClass("subgroup-itemrow"))&&f.input_clear_correction(h.groupTab.find("div.field-grid-grid_area").find(".property-input"));var N,F=t.maybe_set_unit(g.property,h.groupSlug,h.propertySlug,a.val(),a),q=!1,U={isAnimationProp:"animation"===h.groupSlug};if(a.hasClass("tvr-editor-hidden")){var z=a.hasClass("snippet-textarea"),B=z?"snippet-code":"adaptable-editor",$=i.eds[B];q=$.getValue(),N=r.escapeHTML(i.editor_line($,!0)),z||(U=s.code_edited_property(N))}else if(h.property.hasClass("has-variable-line")){var H=[];h.property.find(".property-input").each((function(){H.push(e(this).val())})),N=H.join(" ")}else N="snippet"===h.propertySlug?"updated":a.val();(N=N||p.value_cleared)&&v&&r.isNumeric(N)&&(N+=v);var V=F&&F.calc?F.calc:"",W=t.chain_is_on(h)||t.dblclickToSync?h.subgroupH+" "+p.fields_sync:"";t.dblclickToSync=!1,V+=W?(V?"\n":"")+W:"";var G="";try{G=h.property.find("span.option-icon").attr("class").replace("tvr-icon","")}catch(e){}var K={items:["property"],val:N,M:h,pathTT:!0,valTT:V,icon:G};t.prepareDisabledOrNotLoadingWarning(h);h.groupTab.find("div.field-animation-animation_name").find(".property-input").val(),t.compProps["animation-name"];var Q=U.isAnimationProp&&"event"!==h.propertySlug,X=!(!t.curSelEls||!t.curSelEls.length)&&t.curSelEls.first(),Y=!(!X||!r.isDomEl(X))&&"inline"===X.css("display"),J="all-devices"!==h.tabSlug;return d=s.dom_to_data(e.extend(!0,d,{M:h,domDepth:"group",mq_key:h.tabSlug,incRecurse:J,onlyRecurse:J,recurse_key:["m_query"],stripUnits:1,pre_clear:"grid"===h.groupSlug&&["grid_template_columns","grid_template_rows","grid_auto_columns","grid_auto_rows"],clean:{selector:[["styles"],[h.groupSlug]]},cleanMaxDepth:"selector",activeEditorToCSS:!!_&&{editor:$,editorCSS:q}})),t.scss_enabled,!d.invalidEditorCSS&&(t.scss_enabled||(_?(i.update_gui_shortcut_from_ace_line($,!0),c.editor_and_gui()&&!t.gui_to_editor_running&&i.editor_to_gui(!0,h,n.$editor,$)):c.editor_and_gui()&&i.gui_to_editor(!0,h)),d=t.js_check_values(d,h),!t.skipInputHistory&&r.isDomEl(h.property)&&(d=f.user_action(d,K)),t.skipInputHistory=!1,Q&&t.user_play(d,h.groupTab.find("span.play-icon"),"styleChange",Y),r.endT(arguments),!n.noSave&&d)},input_clear_correction:function(e){e.val(""),t.adjust_comp_span(e,"after")},noNewData:{savePackage:[{action:"no_new_data"}]},action_save:function(n){if(!n.$property||n.updateCopiedSrc||n.userSliding&&!n.draggingStopped||s.update_recent_combo_or_save(n,!0),delete t.pendingAutoSaveConfig[n.timerName],(!parseInt(t.pref.auto_save_mode)||d.disableAutosave)&&!n.manualSave&&!n.essentialSave)return;t.saveInProgress=!0,f.update_prog_indicator("plus",p.save_settings);var i=n.settings,a=r.checkObject(i,["savePackage"]),o=a&&a.length?1:0,l=t.ajaxUrl+"&mt_action=mt_save_interface",c=o?a:t.uiData;n.serialise=!0,n.serialise&&(c=r.escape_backslashes(JSON.stringify(c),!0));var h={partial_data:o,serialise:n.serialise,adjusted_logic:i.adjusted_logic,get_last_save_time:!0,skip_revision:n.skip_revision?1:0,user_action:i.user_action,tvr_mcth:c};u.maybeAddSnippetsToPostData(h),"export"===n.context&&(h=e.extend(!0,h,s.inputs_to_data(e("#microthemer_ui_settings_export"),!0))),r.startT("save: start ajax post");let _=e.extend(!0,{type:"POST",url:l,dataType:"json",data:h,timeout:t.tOut,channel:"revisions",cb_ww:{funcName:"saveRevision"},cb:{ref:"mod.MTsave",funcName:"action_save_success"},cb_failure:{ref:"mod.MTsave",funcName:"action_save_error"},cb_complete:{ref:"mod.MTsave",funcName:"action_save_complete"}},n);e.MTajaxQueue(_)},action_save_success:function(i,a){r.endT("save: start ajax post");var o,l=i.responseData,c=e(l.html);if(r.startT("save: process return data"),t.updateRevisionStack(i,a),l.html)t.pref.num_saves=l.num_saves,t.pref.num_unpublished_saves=l.num_unpublished_saves,t.pref.asset_loading=e.extend(!0,{},l.asset_loading),parseInt(l.outdatedTab)?l&&parseInt(l.outdatedTab)&&f.alert_outdatedTab(l):t.uiData.non_section.last_save_time=l.returnedSaveTime,l.returnedRevisions&&e("#revisions-summary").html(l.returnedRevisions),o=f.extract_status(c),t.animation_inline_warning&&(o.push(t.animation_inline_warning),t.animation_inline_warning=!1),t.notifyFolderChanged&&(o.push(t.notifyFolderChanged),t.notifyFolderChanged=!1);else{var u=e(t.templates.log);o={short:u.find(".short").text(),long:u.find(".long").html()}}if(f.update_prog_indicator("minus",o,p.save_settings),r.endT("save: process return data"),l.num_unpublished_saves>0&&f.signal_settings_ready_to_publish(),a.$property&&s.update_recent_combo_or_save(a,!1,!0),t.js_in_focus()&&(r.startT("save: refreshJS"),f.update_prog_indicator("plus",p.refresh_js),n.refreshJS(),r.endT("save: refreshJS")),"view-code"===a.context&&t.default_to_tab("view-code"),"export"===a.context){var d=l.exportName;d&&t.update_packs_obj(d);var h=e("#export-to-pack-dialog").find("span.export-dialog-button");t.reload_iframe(h,"manage"),t.show_dialog(t.stat.settingsMenu.find("li.item-manage-design-packs"))}a.cbFunction&&(a.cbfArgs=a.cbfArgs||[],a.cbfArgs.unshift(l),a.cbFunction.apply(this,a.cbfArgs)),a.runLogicTestCallback||f.maybeBroadcastChanges(l),TvrMT.integrate.gutenberg&&TvrMT.integrate.gutenberg.maybeAutoSaveContent()},action_save_error:function(e,r){t.reSave=!1,f.update_prog_indicator("minus",{short:p.save_settings_error,long:"<p>"+t.handle_ajax_error(e.xhrSim,e.textStatus)+"</p>"})},action_save_complete:function(r,n){t.saveInProgress=!1,t.folderDisabledWarningDone=!1,t.folderLoadingWarningDone=!1,e("#custom-css-js").removeClass("changed"),n.aiRetryShouldAwaitSave&&(t.aiRetryShouldAwaitSave=0)},maybeBroadcastChanges:function(e){n&&window.MTBroadCast&&parseInt(t.pref.sync_browser_tabs)&&window.MTBroadCast.broadcastChange({update:"css",updateTarget:"outsideTab",adjusted_logic:e.adjusted_logic,asset_loading_change:e.asset_loading_change,asset_loading:t.pref.asset_loading,MTDynFrontData:n.getMTDynFrontData(),microUrl:t.microUrl,mtURL:t.microUrl+"draft-styles.css",gfURL:r.checkObject(t.uiData,["non_section","meta","g_fonts","g_url_with_subsets"])})},pending_auto_saves:function(e){for(var r in t.pendingAutoSaveConfig)if(t.pendingAutoSaveConfig.hasOwnProperty(r)){var n=t.pendingAutoSaveConfig[r];clearTimeout(t.timer[r]),"save"===e&&(n.async=!1,f.action_save(n))}"clear"===e&&(t.pendingAutoSaveConfig={})},update_js_object_and_maybe_save:function(e,t){return e},quick_save_data:function(e,t){var r=[],n={action:"array_merge_recursive_distinct",trail:[],data:t=t||s.inputs_to_data(e)};return o.updateObjectAndSavePackage(r,n),f.silent_save("",[n]),r},silent_save:function(r,n,i){var a="GET";if(n){if(!n.length)return!1;r="&mt_action=mt_silent_save_interface",a="POST"}e.MTajaxQueue({url:t.ajaxUrl+r,type:a,channel:i||"revisions",data:{savePackage:n}})},ajax_save_settings:function(e){r.startT(arguments);var n=!(e=e||{}).noSaveDelay,i=r.isDomEl(e.$property)||e.$fullTextarea;if(e.propOrEditor=i,i){var a,o=!1;if(e.$fullTextarea)o=!0,a=e.$fullTextarea,e.settings=f.full_editor_pre_save(e);else if(a=e.$property,e.settings=f.input_pre_save(e),!e.settings)return!1}f.should_do_sass_compile(e)?t.mt_compile_scss(e,n,i,o,a):f.save_or_start_timer(e,n,i,a),r.endT(arguments)},should_do_sass_compile:function(e){return t.client_scss&&!e.settings.skipSassCompile&&"javascript"!==i.ace_sync_details.mode&&(e.settings.fullSCSSCompile||e.settings.preprocessor)},save_or_start_timer:function(e,r,a,o){var s;(e.$fullTextarea&&!e.sassCompileError&&i.update_parsed_full_code_selectors(e.settings,!0),t.iframeEditing()?t.update_gf_url?(t.update_gf_url=!1,n.refresh_stylesheet({gf:!0})):setTimeout(n.post_css_refresh,200):t.awaitingIframeReloadAfterSave=!0,r)?(s=e.timerName?e.timerName:a?o.attr("name"):(new Date).getTime(),e.timerName="save"+s,t.pendingAutoSaveConfig[e.timerName]=e,t.set_defer_save_timer(e,s)):f.action_save(e)},save_javascript:function(e){i.ace_instant_save("full",i.ace_sync_details.$textarea,t.stat.adaptableEditor,!0)},alert_outdatedTab:function(e){var t=p.multi_tab_short+"\n"+p.multi_tab_long+"\n"+e.outdatedTabDebug;alert(t)},save_ui_toggle_update:function(r,n,i,a){a&&(t.pref[r]=n),e.MTajaxQueue({url:t.ajaxUrl,type:"GET",data:r+"="+n+i,async:!0})},serialiseJsObject:function(e,t,n){let i=JSON.stringify(e);return t?r.escape_backslashes(i,n):i},serialized_data_with_single_key:function(t){return t=r.escape_backslashes(t,!0),e("#tvr-serialised-data").val(t),e("#tvr_microthemer_ui_serialised").serialize()},save_single_preference:function(){},save_multiple_preferences:function(r,n,i){e.MTajaxQueue({channel:i||"revisions",url:t.ajaxUrl+"&save_multiple_preferences=1",type:"POST",data:{allInt:n,pref_array:r},async:!0})},save_preferences:function(n){r.startT(arguments);var i=t.ajaxUrl,a=p.saving_preferences,o=r.escape_backslashes(e("#tvr-preferences").serialize(),!0);f.general_ajax_submission("Preferences save",i,a,"POST",o),r.endT(arguments)},save_media_queries:function(n){r.startT(arguments);var i=!1;if(e("#mqs-dyn-menu").find("input.mquery-label, textarea.mquery-query").each((function(){if(!e(this).val().length)return e(this).focus(),i=!0,!1})),i)return alert(p.complete_media_fields),!1;var a=t.ajaxUrl,o=p.saving_mqs,s=r.escape_backslashes(e("#edit-media-queries-form").serialize(),!0);f.general_ajax_submission("Media query save",a,o,"POST",s),r.endT(arguments)},save_enq_js:function(n){r.startT(arguments);var i=t.ajaxUrl,a=p.saving_enqjs,o=r.escape_backslashes(e("#mt-enqueue-js").serialize(),!0);f.general_ajax_submission("Script enqueue",i,a,"POST",o),r.endT(arguments)},simple_ajax_request:function(n){r.startT(arguments),n.cbfArgs||(n.cbfArgs=[]),n.plus&&f.update_prog_indicator("plus",n.plus);var i=n.url.indexOf("?")>-1?"&":"?";n.url+=i+"nomtcache="+(new Date).getTime(),e.MTajaxQueue({channel:n.channel?n.channel:n.skipQueue?"async":"queueable",terminateOnCompletion:n.terminateOnCompletion||n.skipQueue,type:n.type?n.type:"GET",url:n.url,data:n.sendData?n.sendData:"",dataType:n.dataType?n.dataType:"text",async:void 0===n.async||n.async,timeout:n.timeout?n.timeout:t.tOut,cb:{ref:"mod.MTsave",funcName:"simple_ajax_request_success"},cb_failure:{ref:"mod.MTsave",funcName:"simple_ajax_request_error"},cbFunction:n.cbFunction,cbfArgs:n.cbfArgs,plus:n.plus,minus:n.minus}),r.endT(arguments)},simple_ajax_request_success:function(e,t){if(t.minus){f.update_prog_indicator("minus",!1,t.plus)}t.cbFunction&&(t.cbfArgs.unshift(e.responseData),t.cbFunction.apply(this,t.cbfArgs))},simple_ajax_request_error:function(e,r){r.minus&&f.update_prog_indicator("minus",{short:r.minus,long:"<p>"+t.handle_ajax_error(e.xhrSim,e.textStatus)+"</p>"},r.plus)},general_ajax_submission:function(n,i,a,o,s,l){r.startT(arguments),f.update_prog_indicator("plus",a),e.MTajaxQueue({channel:l||"queueable",type:o,url:i,data:s,timeout:"import"===n?12e4:t.tOut,action:n,inProg:a,dataType:"json",cb_ww:{funcName:"saveRevision"},cb:{ref:"mod.MTsave",funcName:"general_ajax_submission_success"},cb_failure:{ref:"mod.MTsave",funcName:"general_ajax_submission_error"}}),r.endT(arguments)},general_ajax_submission_success:function(e,r){if(TvrMT.integrate.FLBuilder&&a.builderUnq.FLBuilder.bb_changes_made()&&!confirm(p.beaver_builder_confirm))return f.update_prog_indicator("minus",!1,r.inProg),f.update_full_logs({short:r.inProg+" "+p.halted,long:"<p>"+p.page_reload_aborted+"</p>",type:"info"}),!1;window.location=t.uiUrl},general_ajax_submission_error:function(e,r){f.update_prog_indicator("minus",{short:r.action+" error",long:"<p>"+t.handle_ajax_error(e.xhrSim,e.textStatus)+"</p>"},r.inProg),t.close_dialog(!0)},import_settings:function(){r.startT(arguments);var n=e("#import-from-pack-dialog");if(1===t.get_dialog_tab_focus(n)){var i="CSS Stylesheet";if(!s.process_css_import(0,"do-import"))return!1}else{if(""==e("#import_from_pack_name").val())return alert(p.select_design_pack),!1;if(!e("#ui-import-overwrite").is(":checked")&&!e("#ui-import-merge").is(":checked"))return alert(p.choose_import_method),!1;i=e("#ui-import-overwrite").is(":checked")?"overwrite":"merge";e("#stylesheet_import_json").val("")}var a=t.ajaxUrl,o=tvrsprintf(p.import_settings,i),l=e("#microthemer_ui_settings_import").find("input, textarea").not(".dont-serialize").serialize();f.general_ajax_submission("import",a,o,"POST",l),r.endT(arguments)},export_settings:function(n){r.startT(arguments);var i=e("#export_pack_name").val();if(!i)return alert(p.select_settings_pack),!1;var a=i.toLowerCase(),o=!1;for(var s in TvrMT.data.prog.combo.directories)if(TvrMT.data.prog.combo.directories.hasOwnProperty(s)&&TvrMT.data.prog.combo.directories[s].toLowerCase()==a){o=!0;break}o||e("#new_pack").val(1);var l=f.user_action(e.extend(!0,{},f.noNewData),{items:[t.title(n)],val:i,icon:"mtif-export"});f.ajax_save_settings({context:"export",settings:l,essentialSave:1}),r.endT(arguments)},action_in_prog:function(e,t){return!!r.hasValue(e.attr(t+"-in-prog"))},log_action:function(e,t){e.attr(t+"-in-prog",1)},unlog_action:function(e,t){e.removeAttr(t+"-in-prog")},ei:-1,logArr:[],log:function(t){if(r.startT(arguments),e.isPlainObject(t[0]))for(var n in t)t.hasOwnProperty(n)&&(t[n].long=t[n].long?t[n].long:"<p></p>",t[n].type=t[n].type?t[n].type:"error",f.logArr[++f.ei]=t[n]);else t.long=t.long?t.long:"<p></p>",t.type=t.type?t.type:"error",f.logArr[++f.ei]=t;r.endT(arguments)},extract_status:function(t){r.startT(arguments);var n=-1,i=[];return t.find("li.tvr-message").each((function(){var t=e(this),r=t.attr("class"),a="notice",o=t.find(".short").text(),s=t.find(".long").html();r.indexOf("tvr-info")>-1?a="info":r.indexOf("tvr-warning")>-1?a="warning":r.indexOf("tvr-error")>-1&&(a="error"),i[++n]={short:o,long:s,type:a}})),r.endT(arguments),i},update_tmp_prog:function(n,i){r.startT(arguments);e("#toggle-mt-interface");var a=e("#status-short"),o=t.stat.dialogs.find(".tvr-dialog"),s=o.find(".dialog-status").find("span"),l=o.find(".dialog-icon"),c=a.add(s).add(l),u=a.add(s);i?(c.removeClass("active"),u.text("")):(u.removeClass(),c.addClass("active"),u.text(n)),r.endT(arguments)},update_prog_indicator:function(e,n,i,a){r.startT(arguments);var o,s=t.scss_error&&t.client_scss;if(s&&(o=t.stat.dialogs.find(".tvr-dialog").find(".dialog-icon")),"plus"===e){if(!t.something_wrong){s?o.addClass("active"):f.update_tmp_prog(n+"...");var l=r.in_array(n,t.progStatus);!1!==l&&(t.progStatus.splice(l,1),clearTimeout(t.timer.prog[n])),t.progStatus.push(n);var c=t.tOut;t.timer.prog[n]=setTimeout(f.prog_error,c,n,c)}}else{n&&f.log(n),clearTimeout(t.timer.prog[i]),f.unset_prog(i);var u=t.progStatus.length;u<=0?(a||t.something_wrong||s||(f.update_tmp_prog("",!0),f.update_full_logs()),s&&o.removeClass("active")):a||t.something_wrong||s||f.update_tmp_prog(t.progStatus[u-1])}r.endT(arguments)},unset_prog:function(e){var n=r.in_array(e,t.progStatus);!1!==n&&t.progStatus.splice(n,1)},prog_error:function(e,n,i){if(r.startT(arguments),t.something_wrong)return f.unset_prog(e),!1;t.something_wrong=!0,f.update_tmp_prog("",!0);var a=t.js_error_deets(!0),o=a?p.something_wrong_discovered:t.appName+" "+p.something_wrong_no_errors,s=tvrsprintf(p.something_wrong_intro,e,n/1e3);f.log({short:p.something_wrong,long:"<p>"+s+" "+o+"</p>"+a+'<div class="heading">'+p.something_wrong_tips_heading+'</div><ol><li><a target="_blank" href="https://codex.wordpress.org/Using_Your_Browser_to_Diagnose_JavaScript_Errors">'+p.something_wrong_console_article+"</a> ("+p.something_wrong_reliable+")</li><li>"+p.something_wrong_disable+"</li><li>"+p.something_wrong_clueless+"</li><li>"+p.something_wrong_configure+"</li><li>"+p.something_wrong_other+"</li></ol><p>"+p.something_wrong_priority+"</p>",type:"warning"}),f.update_full_logs(),f.unset_prog(e),r.endT(arguments)},log_js_error:function(){},subtle_notification:function(){var e="";t.pref.num_saves<1?e=p.initial_welcome:t.pref.num_unpublished_saves>0?(e=p.ready_to_publish,f.signal_settings_ready_to_publish()):(e=p.settings_published,f.signal_settings_published()),f.update_full_logs({short:e,long:"",type:"info",subtle:1})},update_short_status:function(n){r.startT(arguments),n=n||{};var i=t.stat.dialogs.find(".tvr-dialog").find(".dialog-status").find("span"),a=e("#status-short");a.add(i).removeClass();var o=["error","warning","info","notice"];for(var s in o)if(o.hasOwnProperty(s)){var l=e("#full-logs").find("ul.logs").find("li.tvr-"+o[s]).last();if(r.isDomEl(l)){var c=o[s];break}}if(r.isDomEl(l)){var u=l.find(".short").text(),d="",f="",h="",_=e("#status-board"),g=u===p.settings_saved,m=g||n.subtle||"Preferences saved"===u;if(n.subtle||m?_.addClass("dont-show-full-logs"):(_.removeClass("dont-show-full-logs"),d="..."),g){f="";var v=new Date,y=v.getHours()+":"+v.getMinutes()+":"+v.getSeconds();h='title="'+p.settings_saved+": "+y+'"'}var b='<span class="short-status-text" '+h+">"+u+d+"</span>"+f;a.add(i).addClass("tvr-"+c).html(b),a.addClass("tvr-message mt-fixed-opacity mt-fixed-color"),m&&i.find(".short-status-text").remove();var w=l.find(".long").text();i.attr("title",w),t.stat.tvr.addClass("notice_showing")}else t.stat.tvr.removeClass("notice_showing");r.endT(arguments)},update_full_logs:function(n){r.startT(arguments),n&&f.log(n);var i=e("#full-logs").find(".logs"),a=[];for(var o in f.logArr)if(f.logArr.hasOwnProperty(o)&&"dev-notice"!=f.logArr[o].type){var s=e(t.templates.log_item).removeAttr("id");s.attr("class",s.attr("class").replace("tvr-error","tvr-"+f.logArr[o].type)).find(".short").text(f.logArr[o].short).end().find(".long").html(f.logArr[o].long),a[o]=s}var l=e("#data-msg-pending"),c=!parseInt(l.attr("rel")),u=r.hasValue(f.logArr[o])&&f.logArr[o].short===p.something_wrong;c||u?i.html(a):t.doNotShowSubtleNotice=1,l.attr("rel",0),f.logReset(),f.update_short_status(n),r.endT(arguments)},logReset:function(){f.logArr=[],f.ei=-1},clear_messages:function(){r.startT(arguments),e("#status-board").addClass("dont-show-full-logs"),e("#status-short").add(t.stat.dialogs.find(".tvr-dialog").find(".dialog-status").find("span")).removeClass().html(""),e("#full-logs").find(".logs").html(""),f.subtle_notification(),r.endT(arguments)},publish_settings:function(){if(!t.stat.publishButton.hasClass("ready-to-publish"))return!1;f.simple_ajax_request({url:t.ajaxUrl+"&mt_publish_settings=1",plus:p.publishing_settings,minus:p.publish_failed,cbFunction:function(t){let r=JSON.parse(t);f.log({short:p.settings_published,long:"<p>"+p.settings_published_long+"</p><p>"+p.settings_published_long_p2+"</p>",type:"notice"}),r.html&&f.log(f.extract_status(e(r.html))),r.notify_amender_subscription_needed&&f.log({short:p.notify_content_publish,long:"<p>"+p.notify_content_publish_long+'</p><p><a target="_blank" href="https://themeover.com/">'+p.purchase_amender+"</a></p>",type:"info"}),f.update_full_logs(),f.signal_settings_published()},cbfArgs:[]})},signal_settings_published:function(){t.stat.publishButton.add(t.stat.tvr).removeClass("ready-to-publish")},signal_settings_ready_to_publish:function(){t.stat.publishButton.add(t.stat.tvr).addClass("ready-to-publish")},crumb_str:function(e,n){var i="",a="<span>",o="</span>",s=e.val;for(var l in e.plainText&&(a=o=""),e.items)if(e.items.hasOwnProperty(l)){var c=e.items[l];if("subgroup"!==c||"property"!==n){var u=e.M?e.M[c+"H"]:c;if(u=""+a+u+o,i+=0!=l?a+"&nbsp;&raquo;&nbsp;"+o+u:u,c==n)break}}var d=i;if(e.plainText||(d='<span class="his-items">'+i+"</span>"),s){var p=a,f="";e.plainText||(p='<span class="his-val">',e.valTT&&(f='<span class="info-icon tvr-icon" title="'+r.custom_escape_quotes(e.valTT)+'"></span>'),e.M&&"code"!==e.M.groupSlug&&(s=t.colored_box(s,!0))),s=p+s+o+f;var h=a+"&nbsp;:&nbsp;"+o;d=e.valFirst?s+h+d:d+h+s}return d},user_action:function(n,i){r.startT(arguments);var a=e.extend(!0,{},i);a.icon_html=a.pathTT_html="",a.target_depth=i.items[i.items.length-1]||"",a.main_class=i.main_class?i.main_class:"";var o=i.M;if(a.targ_and_val=f.crumb_str(i,a.target_depth),i.pathTT&&(i.plainText=!0,i.M&&(i.items=["section","selector","tab","group","subgroup","property"]),a.pathTT_crumbs=f.crumb_str(i,a.target_depth),a.pathTT_html='title="'+a.pathTT_crumbs+'"',a.main_class+=" has-path-tt"),i.icon){if(o&&o.propertySlug){var s=o.property.attr("class").split(" ");for(var l in s)if(s.hasOwnProperty(l)&&s[l].indexOf("icon-size")>-1){a.main_class+=" "+s[l];break}}"string"==typeof i.icon?a.icon_html=f.history_icon(i.icon,i.iconC,i.tt):a.icon_html+=f.history_icon(i.icon[1].icon,i.icon[1].iconC,i.icon[1].tt)}return a.html='<span class="history-item history_'+r.convert_to_param(a.target_depth,"")+a.main_class+'" '+a.pathTT_html+">"+a.targ_and_val+"</span>",delete a.M,delete i.M,a.plain_object=i,n.user_action=a,window.TVR_DEV_MODE,r.updateObject(t.uiData,["non_section","meta","user_action"],a),r.endT(arguments),n},h_i_class:function(e,n){r.startT(arguments);var i=t.hi[e];return"subgroup"==e?i="lg-icon pg-icon-"+n.groupSlug:"property"==e&&(i=n.property.find("span.option-icon").attr("class").replace("tvr-icon","")),r.endT(arguments),i},history_icon:function(e,t,r){return'<span class="h-i no-click '+e+'" '+(r=r?'title="'+r+'"':"")+">"+(t=t||"")+"</span>"}};return f}()})),window.MTWindow=!1,window.MTLocalFunctionsReady=!1,jQuery(document).ready((function(e){window.MTlocal=function(){var t,r,n,i,a,o,s,l,c,u,d,p={set_vars:function(){MTWindow=function(e,t){try{return t&&t.TvrMT&&!t.closed&&t.document.domain.indexOf(e.document.domain)>-1}catch(e){return!1}}(window,window.opener)?window.opener:window,t=MTWindow.TvrMT,i=t.TvrUi,a=t.TvrCom,t.tvrsprintf=window.tvrsprintf,r=t.tvrsprintf,n=MTWindow.TvrLang,t.MTF,d=t.mod.MTlayout,o=t.mod.MTace,s=t.mod.MTint,t.mod.MTloop,t.mod.MTdd,l=t.mod.MTsave,t.mod.MTsass,c=t.mod.MTgrid,u=t.mod.MTwidget,t.MTdetached,t.MTfolder,i.stat.iframeDoc=window.frames.viframe,p.stat={doc:document,$doc:e(document),body:e("body"),tvr:e("#tvr"),styleComponents:e("#style-components"),front:e("#v-frontend-wrap"),frontInner:e("#v-frontend"),iframeWidthSpan:e("#iframe-width-feedback"),slider:e("#v-mq-slider"),iframe:e("#viframe"),contextMenu:p.getContextMenuEl()},i.sRules.define("mtvars"),window.MTLocalFunctionsReady=!0},setup_event_listeners:function(s){if(i.jQueryVersion=a.getJQueryVersion(e.fn.jquery),i.jQueryUIVersion=e.ui&&e.ui.version?a.getJQueryVersion(e.ui.version,!0):"1.5",i.autocompleteUsesDivs=i.jQueryUIVersion>="01.12.01",i.autocompleteUsesDivs?p.stat.tvr.addClass("autocompleteUsesDivs"):p.stat.tvr.addClass("autocompleteNoDivs"),p.stat.tvr.on("click",(function(t){var r=e(t.target),n=r.attr("class")||"";i.close_all_expanded(r,n),i.ua_detected(),n.indexOf("close-context-menu")>=0?p.close_context_menu():n.indexOf("mt-ui-toggle")>=0?i.toggle_feature(r):n.indexOf("sug-sel")>=0||n.indexOf("targeting-sel-radio")>=0?i.sug_css_clicked(r):n.indexOf("save-draft-selector")>=0?(i.save_draft_selector(!1,!0),a.isDomEl(r.closest(".cm-suggestions"))&&p.close_context_menu({filter:".cm-suggestions"})):n.indexOf("combo-arrow")>=0?i.combo_arrow_clicked(r):n.indexOf("refresh-code-suggestions")>=0?i.refresh_code_suggestions(r):n.indexOf("mt-clear-field")>=0&&i.input_clear_icon_clicked(r)})),p.add_window_resize_listener(s),p.stat.contextMenu.draggable({handle:".mt-panel-title:not(.mt-ui-toggle)",start:function(e,t){p.stat.contextMenu.css({bottom:"auto",right:"auto"})}}),"native"!=i.tooltipDelay){var l=p.stat.body;l.on("click",(function(t){var r=e(t.target);(r.hasClass("ui-tooltip")||r.hasClass("ui-tooltip-content"))&&p.clean_tooltips()})),p.enable_tt(l)}i.stat.currentFolderItem.add(i.stat.cssModifiers).add(i.bothSuggestionAreas()).on("input.tvr propertychange.tvr","input.combobox, input.sug-sel, input.sel-hierarchy-input, input.code-hierarchy-input",(function(t){var r=e(this);if(r.hasClass("cssfilter-combo")){var n=r.attr("rel"),o="custom_prefix"===n?500:50;a.action_after_timeout("css_modifier_input_updated_"+n,o,{item:function(e){i.pseudo_updated(e,{input:1})},args:[r]})}else r.hasClass("sug-sel")?i.sug_sel_updated({val:r.val(),$editedField:r,suggestionCustomised:1}):(r.hasClass("hierarchy-input")&&(i.size_hierarchy_inputs(r),r.hasClass("sel-hierarchy-input")&&!i.pref.selname_code_synced&&i.disable_selector_auto_name(),r.hasClass("sec-hierarchy-input")&&(i.folderNameCustomized=!0)),i.maybe_run_code_or_synced_label_field_edited(r))})),p.stat.$doc.on("mousedown","input.combobox, span.combo-arrow, #mt-slider-set, #mtss-units, span.sortable-icon, span.mt-combo-icon, span.mt-combo-toggle, span.mt-prop-unit",(function(t){var r,a=e(this),s=a.hasClass("mt-prop-unit"),l=a.attr("id");if("mt-slider-set"!==l&&"mtss-units"!==l||t.preventDefault(),a.hasClass("combo-arrow")||a.hasClass("combobox")||s)((r=s?a.closest(".field-wrap").find(".property-input"):a.hasClass("combobox")?a:a.hasClass("cur-item-dropdown")?a.prev("input"):a.siblings("input")).hasClass("sug-sel")||r.hasClass("hierarchy-input")?p.stat.styleComponents.find("#combo-belongs-to-"+r.attr("rel")):r.hasClass("wizard-folder")?i.stat.currentFolderItem.find(".ui-menu"):r.hasClass("property-input")?i.get_related_meta("combo",r).$container:a.siblings(".ui-menu")).is(":visible")?r.data("wasOpen",1):r.data("wasOpen",0);else if("inline-editor"===a.attr("id"))d.horizontal_only()&&o.get_editor_height(a);else if(a.hasClass("sortable-icon")){var c=a.closest("ul.selector-sub");i.sortableMenuDims={fMenu:{w:"",h:""},sMenu:{w:c.width(),h:c.height()-1}}}else if(a.hasClass("mt-combo-icon")||a.hasClass("mt-combo-toggle")){i.skipComboDestroy=!0;var u=a.closest(".ui-menu").scrollTop(),f=a.parent().attr("aria-label");return f&&f.indexOf(n.sampled)>-1&&("save-single-suggestion"===a.data("action")?u+=22:u-=22),i.comboScrollTopPos=u,a.parent().hasClass("ui-autocomplete-category")||(i.comboIconMousedown=!0),!1}t.stopPropagation()})),e.widget("custom.MTautocomplete",e.ui.autocomplete,{_create:function(){this._super(),this.widget().menu("option","items","> :not(.ui-autocomplete-category)")},_searchTimeout:function(e){e.shiftKey||this.cancelSearch||(clearTimeout(this.searching),this.searching=this._delay((function(){var t=this.term===this._value(),r=this.menu.element.is(":visible"),n=e.altKey||e.ctrlKey||e.metaKey;t&&(!t||r||n)||(this.selectedItem=null,this.search(null,e))}),this.options.delay))},_renderMenu:function(o,s){a.startT(arguments);var l=this,c="",u="",d="",p=l.element,f="custom_paths"===(W=p.attr("rel"))||"conditional_loading"===W,h=p.hasClass("sp-input-var"),_=p.hasClass("sug-sel")||p.hasClass("code-hierarchy-input"),g=p.hasClass("hierarchy-input"),m=!!h&&i.get_related_meta("picker",p.closest(".sp-container")),v=p.hasClass("property-input"),y=p.hasClass("mt-slider"),b="",w=!1,T=!1,x=!1;s.length;y&&o.addClass("input-has-slider");var k='<span class="mt-combo-icon clear-single-suggestion mtif mtif-eraser" data-action="clear-single-suggestion" title="'+n.clear_single_suggestion+'"></span>';if(v||h){var S,C=(S=p.attr("rel")).replace(/_/g,"-"),M=i.gatheredCSS.root_cat_keys[S],A=M||S;"color_extra"===A&&(A="color");var O=i.pref.my_props.sug_values[A],E=M&&!p.hasClass("event-target-input")&&!p.hasClass("mt-event-value-input")&&"google_font"!==M,P=i.support_sampling(S,p),D=t.data.prog.combo[S],j=D&&!a.comboHasInitialCats(D),I=j?'<span class="mt-combo-icon clear-mt-suggestions mtif mtif-eraser" data-action="clear-mt-suggestions" title="'+n.clear_mt_suggestions+'"></span>':"",L=j?'<span class="mt-combo-icon add-mt-suggestions  mtif mtif-import" data-action="add-mt-suggestions" title="'+n.add_mt_suggestions+'"></span>':"",R='<span class="mt-combo-icon clear-site-styles mtif mtif-eraser" data-action="clear-site-styles" title="'+r(n.clear_sampled,C)+'"></span>',N='<span class="mt-combo-icon clear-sampled-variables mtif mtif-eraser" data-action="clear-sampled-variables" title="'+r(n.clear_sampled_variables,"")+'"></span>',F='<span class="mt-combo-icon resample-styles show_sampled_values mtif mtif-sync-alt" data-action="show_sampled_values" title="'+r(n.resample,C)+'"></span>',q='<span class="mt-combo-icon resample-styles show_sampled_variables mtif mtif-sync-alt" data-action="show_sampled_variables" title="'+r(n.resample_variables,"")+'"></span>',U=i.format_combo_cat_toggle_atts("show_sampled_variables"),z=i.format_combo_cat_toggle_atts("show_sampled_values"),B="<li class='ui-autocomplete-category suggestions-category'><span>"+n.suggestions+"</span>"+I+L+"</li>",$="<li class='ui-autocomplete-category sampled_values-category'><span"+z+">"+i.format_combo_cat_label("sampled",M)+"</span>"+R+F+"</li>",H="<li class='ui-autocomplete-category site_variables-category'><span"+U+">"+i.format_combo_cat_label("sampled_variables",M)+"</span>"+N+q+"</li>"}if(e.each(s,(function(e,t){var r,s=!1,p=t.category&&t.category.match(new RegExp("^"+n.sampled)),_=t.category===n.sampled_variables,g="";if(E&&(t.category===n.suggestions?(b=I+L,x=!0):p?(b=R+F,w=!0,g=z):_&&(b=N+q,T=!0,g=U)),t.category&&t.category!=c){var m=a.convert_to_param(t.category,"")+"-category";o.append("<li class='ui-autocomplete-category "+m+"'><span"+g+">"+t.category+"</span>"+b+"</li>"),c=t.category}r=l._renderItemData(o,t);var v=i.autocompleteUsesDivs?r.children("div").first():r;if(t.label!==t.value&&r.data("alt-value",t.value),"cur_folders"===W&&t.itemConditional&&r.addClass("item-conditional"),"font_family"!==S&&"google_font"!==S||r.css("font-family",r.text()),!h&&t.var_relevance&&d&&t.var_relevance!==d&&r.addClass("var-relevance-change"),t.varValue&&(r.attr("title",t.varValue),"color"===t.variableType&&(r.addClass("isColorVal"),v.prepend('<span class="var-color-box" style="background-color: '+t.value+'"></span>'))),f){if(r.attr("title",t.value).attr("data-path",t.value),i.search_pages_latest_term){var y=r.text(),C=i.search_pages_latest_term,M=i.autocompleteUsesDivs?'<div class="ui-menu-item-wrapper mt-site-search-response">':"",A=i.autocompleteUsesDivs?"</div>":"",P=y.replace(new RegExp("(\\s)?("+a.escapeRegExp(C)+")(\\s)?","i"),(function(e,t,r,n){function i(e){return e.replace(/\s/,"&nbsp;")}return'<span class="mt-highlight-term">'+(t=t?i(t):"")+(r=r?i(r):"")+(n=n?i(n):"")+"</span>"}));r.html(M+P+A),i.autocompleteUsesDivs||r.addClass("mt-site-search-response")}t.category===n.recent&&v.append(k)}if(t.category&&(s||(o.addClass("mt-category-menu"),s=!0),r.attr("aria-label",t.category+" : "+t.label),t.category===n.suggestions||p||_)){var D,j,B;a.in_array(t.label,O.saved,!1,"label")?(B="unsave-single-suggestion",D="is-saved-option",j=n.unsave_single_suggestion):(B="save-single-suggestion",D="",j=n.save_single_suggestion);var $='<span class="mt-combo-icon save-single-suggestion mtif mtif-save '+D+'" data-action="'+B+'" title="'+j+'"></span>';v.append(k+$)}if(t.category!==u){var H="after-combo-cat",V=r.prev();(V=V.hasClass("ui-autocomplete-category")?V.prev():V).addClass("last-combo-cat"),u===n.suggestions&&(H+=" after-combo-suggestions"),r.addClass(H)}u=t.category,d=t.var_relevance})),E&&(x||o.prepend(B),P&&(w||h||o.append($),!T))){var V=o.find(".sampled_values-category");a.isDomEl(V)?e(H).insertBefore(V):o.append(H)}if(o.find("li").each((function(t){var r=e(this);a.isDomEl(r.find("a"))||r.hasClass("ui-autocomplete-category")||(i.autocompleteUsesDivs||r.addClass("empty ui-menu-item"),""===r.text()&&r.addClass("delete-on-clear"))})),_)o.addClass("has-code-suggestions"),o.attr("id","combo-belongs-to-"+p.attr("rel"));else if(g){var W=p.attr("rel");o.addClass("cur-"+W),o.attr("id","combo-belongs-to-"+W)}else f&&o.addClass("site-search-menu");if((v||h)&&!o.data("atts-modified")){var G=h?m.$input:p,K=i.format_autocomplete_id(G,"combo");o.data("combo-belongs-to",K.fieldID),o.attr("id",K.containerID),o.data("atts-modified",1)}a.endT(arguments)}}),p.stat.tvr.on("focus","input.combobox,textarea.property-input,input.sp-input, input.snippet-dep-adjust, input.selector-css-textarea,input.selector-name-input",(function(){var t=e(this),r=function(){return!(!i.last_field_val_converted&&!i.unitStripped)&&(i.unitStripped=!1,!0)};if(t.hasClass("combobox")){a.startT("init combobox events");var n,o=t.data("appto"),s=t.data("closest");t.hasClass("has-arrows");n=o?s?t.closest(o):e(o):t.closest(".tvr-input-wrap");var l=i.resolve_combobox_source(t);t.MTautocomplete({source:l,delay:0,autoFocus:!0,minLength:0,appendTo:n,position:{my:"left top",at:"left bottom",collision:"flip"},open:function(r,n){a.startT(arguments),p.clean_tooltips(),(t.hasClass("hierarchy-input")?t.next(".combo-arrow"):t.siblings(".combo-arrow")).addClass("on");var o=t.data("menu-up"),s=t.data("menu-up-if");if(o||s&&i.pref[s]){var c=t.MTautocomplete("widget"),d=t.outerHeight(),f=c.position().top-c.height()-d;c.addClass("menu-showing-above").css("top",f+"px")}t.hasClass("mt-slider")&&u.show_slider_set(t),i.comboScrollTopPos>0&&(e(p.get_custom_autocomplete(this).menu.element).scrollTop(i.comboScrollTopPos),i.comboScrollTopPos=0),p.focus_on_current_combo_value(this,l),i.comboIconReflow=!1,i.autocompleteIsOpen=!0,a.endT(arguments)},select:function(e,n){return i.isForbiddenProperty(t)||i.comboIconMousedown?(i.comboIconMousedown&&(i.comboIconMousedown=!1),!1):(i.combobox_item_selected(e,n,t,"select"),!r()&&void 0)},focus:function(e,n){if(e.keyCode){if(i.isForbiddenProperty(t))return!1;if(i.combobox_item_selected(e,n,t,"focus"),r())return!1}},search:function(r,n){return("/"!==t.val()||"previewPath"!==t.attr("id"))&&(!(r.handleObj&&t.hasClass("has-suggestions")&&!e(p.get_custom_autocomplete(this).menu.element).is(":visible"))&&void t.addClass("adjusted-corner-radius"))},response:function(r,n){var a="[no results]";!n.content.length&&t.hasClass("has-suggestions")&&e(p.get_custom_autocomplete(this).menu.element).is(":visible")?(i.lastAutocompleteResponse=n.content,n.content.push({label:a,value:""})):1===n.content.length&&""===n.content[0].label&&(n.content[0].label=a),i.maybe_combo_menu_width_change(t)},close:function(e,r){t.hasClass("mt-slider")&&u.hide_slider_set(),t.removeClass("adjusted-corner-radius").siblings(".combo-arrow").removeClass("on"),i.skipComboDestroy||t.is(":focus")&&"all_sel_suggestions"!==t.attr("rel")?i.skipComboDestroy=!1:t.MTautocomplete("destroy"),i.autocompleteIsOpen=!1,i.search_pages_latest_term=null}}),a.endT("init combobox events")}if(t.hasClass("property-input")||t.hasClass("sp-input")||t.hasClass("selector-css-textarea")||t.hasClass("selector-name-input")||t.hasClass("snippet-dep-adjust")){if(t.hasClass("grid-area-add"))return!1;i.bind_input_events(t),t.hasClass("property-input")&&"textarea"!==t[0].tagName.toLowerCase()&&(i.update_input_width_and_scroll(t),u.ensure_slider_connected(t))}}))},update_TvrMT_and_other_vars:function(e){t=e,this.set_vars()},stat:{},enable_tt:function(e){try{e.tooltip(i.tt_config(p))}catch(e){}},get_tt_trigger:function(t,r){return i.tt_trigger=e(t.originalEvent.target||t.originalEvent.srcElement).closest(e(r).tooltip("option","items")),i.tt_trigger},clean_tooltips:function(){if(a.startT(arguments),"native"===i.tooltipDelay)return!1;if("native"!==i.tooltipDelay){var t=p.stat.body.data("ui-tooltip");if(a.hasValue(t)){for(var r in t.tooltips)if(t.tooltips.hasOwnProperty(r)){var n=e(t.tooltips[r].element[0]),o=e(t.tooltips[r].tooltip[0]);i.close_tooltip(n,o)}i.tt=!1,i.tt_trigger={}}}a.endT(arguments)},get_custom_autocomplete:function(t){var r=e(t).data();return r["custom-MTautocomplete"]||r.customMTautocomplete},focus_on_current_combo_value:function(t,r){if(a.startT(arguments),!i.comboIconReflow&&a.isDefined(t.value)){for(var n,o=p.get_custom_autocomplete(t).menu,s={startMatch:!1,exactMatch:!1},l=0,c=e("li:not(.ui-autocomplete-category)",o.element),u=new RegExp("^"+a.escapeRegExp(t.value),"i"),d=function(r,n,i){var o,s,l=n.eq(r),c=!1,d=l.text(),f=l.data("alt-value");return a.isDefined(d)&&(t.value===d||void 0!==f&&d!==f&&t.value===f?(o=l,c="exact"):u.test(d)&&(s=l,c="start"),(o||s)&&a.isDomEl(e(l),!0,p.stat.doc)&&(o?i.exactMatch=o:i.startMatch=s)),c};l<c.length&&"exact"!==d(l,c,s);l++);(s.exactMatch||s.startMatch)&&(n=s.exactMatch?s.exactMatch:s.startMatch,a.action_after_timeout("focus_menu_item",20,{item:function(){a.isDomEl(e(n),!0,p.stat.doc)&&o.focus(null,n)},args:[]}))}a.endT(arguments)},mark_iframe_loaded:function(e){(e=e||p.stat.iframe).addClass("mt-content-loaded")},maybe_load_site_preview:function(){l&&l.update_prog_indicator("plus",n.load_wp);var e=s.check_builder_autoload();if(i.pageOrPostID&&(i.pref.activate_elementor||"elementor"===e))s.activate_builder("elementor",!0,i.pageOrPostID);else if(i.pref.activate_gutenberg&&i.pageOrPostID)s.activate_builder("gutenberg",!0,i.pageOrPostID);else if(i.pageOrPostID&&(i.pref.activate_oxygen||"oxygen"===e))s.activate_builder("oxygen",!0,i.pageOrPostID);else if("FLBuilder"===e)s.activate_builder("FLBuilder");else{var t=i.pref.preview_url.replace(/&#038;/g,"&");i.maybeFilterNewPreviewUrl(t)}i.placeholderFrame=!1},add_window_resize_listener:function(t){e(window).on("resize",(function(){if(c.itemResising)return!1;i.timer.windowResize&&clearTimeout(i.timer.windowResize),i.timer.windowResize=setTimeout((function(){t||(d.toolbar_adjusted(),i.adjust_scroll_buttons(i.get_pg_meta(),"style"),i.adjust_scroll_buttons(!1,"responsive"),a.forceElReflow(i.stat.vis.find(".inspection_height-panel-resizer"),"top: 1px !important"),a.forceElReflow(i.stat.vis.find(".mt-main_columns-resizer-5"),"left: 99% !important")),i.reset_preview_width_for_current_tab(!1,!0,i.rulerManuallyAdjusted)}),500)}))},apply_rulers:function(t,r){var n=p.stat.front;t=(t||n.width())+50,r=(r||n.height())+50,n.children(".hRule, .vRule, .mt-ruler-corner").remove(),e("#rHighlight").after(p.generate_ruler_divs(t+50,r))},generate_ruler_divs:function(e,t){var r,n=[{angle:"h",cssPos:"left",dim:e,labelPos:18,size:18,html:""},{angle:"v",cssPos:"top",dim:t,size:18,html:""}];for(var i in n)if(n.hasOwnProperty(i))for(var a=(r=n[i]).size,o=a,s="",l="";o<=r.dim;){var c=o-a;"tickLabel"===(s=c%50==0?"tickLabel":c%10==0?"tickMajor":c%5==0?"tickMinor":"")&&(l="tickLabel"==s&&"h"==r.angle?c:"tickLabel"==s&&"v"==r.angle?"<span>"+c+"</span>":"",r.html+='<div class="'+s+'" style="'+r.cssPos+":"+o+'px"',r.html+=">"+l+"</div>"),o+=5}var u='<div class="ruler ruler-stuff hRule">'+n[0].html+"</div>";return'<div class="ruler ruler-stuff mt-ruler-corner"></div>'+('<div class="ruler ruler-stuff vRule">'+n[1].html+"</div>")+u},get_all_devices_width:function(){var t=e("#all_devices_default_width").attr("rel"),r=p.stat.front.width();return{custom:a.hasValue(t),width:t?parseInt(t):r,frameWidthAvailable:r}},fix_preview_width:function(){var e=i.get_mq_focus();"all-devices"!==e||i.get_local_window_function("get_all_devices_width").custom||i.get_local_window_function("slider_moved")(p.stat.front.width(),!1,!0,e)},determine_slider_val:function(e,t,r,n){var a=(n=n||i.get_local_window_function("get_all_devices_width")()).width;if(i.isContainerQuery(e))return a;r?a=r:t&&(a=t);var o=this.get_site_preview_width(e);return a=o||s.maybeAdjustSliderValForBuilderPreview(a)},get_site_preview_width:function(e){var t=a.checkObject(i.mqs,[e,"site_preview_width"]);if(t){var r=t.split(".");if("builder"===r[0]){var n=r[1],o=r[2];if(s.builder_breakpoints[n]){var l=s.get_builder_breakpoints(n),c=a.checkObject(l,[o,"newPreviewWidth"]);if(c)return c}}else if(t=parseInt(t),a.isNumeric(t))return t}return!1},maybe_hide_mt_highlight:function(){i.pref.mt_highlight&&i.feature_off(0,"mt_highlight",{fHTML:1,noSave:1,tmp:1}),i.stat.fHTML&&parseInt(i.pref.grid_highlight)&&i.stat.fHTML.addClass("mt-temp-hide-highlight")},maybe_reinstate_mt_highlight:function(e){"turnedOff"===i.tmp.mt_highlight&&(i.tmp.mt_highlight=!1,i.feature_on(0,"mt_highlight",{fHTML:1,noSave:1})),i.stat.fHTML&&i.stat.fHTML.removeClass("mt-temp-hide-highlight")},update_iframe_slider:function(e,r,n,o,l){a.startT(arguments);i.frameWidth;var c=i.get_local_window_function("get_all_devices_width")();i.frameWidth=c.frameWidthAvailable,l=l||p.determine_slider_val(e,r,n,c);var u=i.frameWidth;i.get_local_window_function("slider_moved")(l,r,n,i.get_mq_focus()),i.get_local_window_function("update_ruler_highlighter")(r,n),o&&p.apply_rulers(u),s.maybeShiftRulersForBuilder(),p.stat.slider.slider({min:0,max:u,value:l,start:function(e,r){if(p.maybe_hide_mt_highlight(),s.builderUnq.elementor.maybeStickNavRight(),t.integrate.gutenberg){t.integrate.gutenberg.stat.$body.addClass("mt-slider-active")}},slide:function(e,t){i.get_local_window_function("slider_moved")(t.value,r,n,i.get_mq_focus()),i.get_local_window_function("reset_mob_previews")()},change:function(e,t){p.maybe_reinstate_mt_highlight(),s.builderUnq.elementor.maybeUnstickAndPlaceNavRight(),i.screen_width_adjusted(i.intelli?"intelli":"reg")},stop:function(e,r){if(i.rulerManuallyAdjusted=r.value,t.integrate.gutenberg){t.integrate.gutenberg.stat.$body.removeClass("mt-slider-active")}}}),a.endT(arguments)},fix_rounding_mq_bug:function(e,t,r){return r?e-.7:t?e+.7:e},slider_moved:function(e,t,r,n){a.startT(arguments),i.rulerVal=e,p.set_preview_width(!0,e,t,r),p.stat.iframeWidthSpan.html("<span>"+Math.round(e)+"</span><span>px</span>"),a.action_after_timeout("slider_moving",50,{item:p.run_post_slide_actions,args:[e,n]}),a.endT(arguments)},run_post_slide_actions:function(e,t){i.get_local_window_function("check_slider_within_range")(e,t)},set_preview_width:function(e,r,n,a,o){var l,c=p.stat.frontInner,u=!1;t.integrate.gutenberg&&(l=t.integrate.gutenberg.stat.responsiveWrapper(!1,!0),u=!0),l&&l.length&&(p.stat.frontInner.width("100%"),c=l,i.animate_screen=!1),r=s.maybeAdjustPreviewWidthForBuilder(p.fix_rounding_mq_bug(r,n,a)),i.previewWidth=r;var d=r===i.frameWidth?"100%":r;i.animate_screen?c.width(i.animate_screen).stop(!0).animate({width:r},"slow",(function(){i.animate_screen=!1})):(c.width(d),u&&c.css("max-width",d))},update_ruler_highlighter:function(t,r){var n=e("#rHighlight");if(t||r){var o=(t=a.isDefined(t)?parseFloat(t):0)?t+19:19,s=(r=a.isDefined(r)?parseFloat(r):i.frameWidth)?r-t:i.frameWidth-t;n.css({left:o,width:s})}else n.removeAttr("style")},reset_mob_previews:function(){a.startT(arguments),e("#common-devices-preview").find("li").removeClass("clicked"),e("#height-screen").addClass("hidden"),a.endT(arguments)},check_slider_within_range:function(t,r){a.startT(arguments);var n=!1,o=!!i.mqs[r].min&&i.mqs[r].min,s=!!i.mqs[r].max&&i.mqs[r].max;o&&t<o&&(n=!0),s&&t>s&&(n=!0);var l=e("#current-screen-width"),c=p.stat.front.find("div.mt-ruler-corner").add(l),u="Styles added to the current tab will not have an effect at this screen width ("+t+"px)";n?(c.addClass("warn"),l.attr("title",u),i.mediaQueryNotApplying=!0):(c.removeClass("warn"),l.attr("title","Screen width: "+t+"px"),i.mediaQueryNotApplying=!1),a.endT(arguments)},set_screen_preview:function(r,n){a.startT(arguments);var o=e("#common-devices-preview").find("li.clicked");if("hover"===n&&a.isDomEl(o))return!1;o.removeClass(n),i.animate_screen=e("#v-frontend").width();var s=parseInt(r.attr("rel")),l=t.data.prog.mobPreview;p.stat.slider.slider("value",l[s][1]),i.get_local_window_function("slider_moved")(l[s][1],!1,!0,i.get_mq_focus()),e("#height-screen").removeClass("hidden").css("top",l[s][2]+19+"px"),r.addClass(n),a.endT(arguments)},unset_screen_preview:function(t,r,n){if(a.startT(arguments),"hover"==r&&a.isDomEl(e("#common-devices-preview").find("li.clicked"))||"clicked"==r)return"clicked"==r&&t.removeClass(r),!1;i.animate_screen=e("#v-frontend").width();var o=i.get_mq_focus(),s=p.determine_slider_val(o,i.mqs[o].min,i.mqs[o].max);p.stat.slider.slider("value",s),i.get_local_window_function("slider_moved")(s,i.mqs[o].min,i.mqs[o].max,o),e("#height-screen").addClass("hidden"),t.removeClass(r),a.endT(arguments)},show_rulers:function(){e("#common-devices-preview").removeClass("hidden"),d.toolbar_adjusted(),i.get_local_window_function("fix_preview_width")()},hide_rulers:function(){e("#common-devices-preview").addClass("hidden"),d.toolbar_adjusted(),i.get_local_window_function("fix_preview_width")()},shift_rulers_for_builder:function(t){var r=p.stat.front.children("div.hRule"),n=e("#rHighlight-wrap"),i=e("#rHighlight"),a=r.add(i),o="ruler-shifted-left",s=t;t>0?(a.addClass(o),s+=18):a.removeClass(o),p.stat.slider.add(n.children()).add(i).css("margin-left",t+"px"),r.css("left",s+"px")},updateSuggestionsMenuReference:function(){i.stat.suggestionsMenu=p.getSuggestionsMenuEl()},getContextMenuEl:function(){return e("#mt-context-menu")},getSuggestionsMenuEl:function(){return e("#mt-suggestions-menu")},toggle_context_menu:function(e){e.$clicked.hasClass("on")?p.close_context_menu():p.show_context_menu(e)},show_context_menu:function(e){var t=e.contextMenu||p.getContextMenuEl();if(i.context_menu_data&&p.close_context_menu(),e.offset=e.offset||i.default_context_menu_offset(e.$clicked,e),e.$content=t.find(e.filter)||e.$content.data("filter"),e.title=e.title||e.$content.data("title"),e.transformOrigin?t.attr("data-transform-origin",e.transformOrigin):t.removeAttr("data-transform-origin"),i.context_menu_data=e,!i.maybe_run_context_menu_callback("before_open",e))return!1;a.apply_offset(e.offset,t);var r=t.children(".mt-panel-header");e.hideHeader?r.addClass("header-hidden"):r.removeClass("header-hidden"),t.find(".mt-panel-title").first().html(e.title),t.children().not(e.$content).removeClass("show"),e.$content.addClass("show"),t.addClass("show expanded"),e.relatedto&&t.data("relatedto",e.relatedto),e.$clicked.addClass("on"),i.maybe_run_context_menu_callback("after_open",e),i.context_menu_data=e},close_context_menu:function(e){var t=(e=e||{}).contextMenu||p.getContextMenuEl(),r=i.context_menu_data;return(!e.filter||e.filter===r.filter)&&(!!i.maybe_run_context_menu_callback("before_close",r)&&(t.removeClass("show expanded").data("relatedto",""),a.isDomEl(r.$clicked,!0,r.clickedDoc)&&r.$clicked.removeClass("on"),i.maybe_run_context_menu_callback("after_close",r),void(i.context_menu_data=!1)))}};return p}()})),jQuery(document).ready((function(e){TvrMT.mod.MTsass={set_vars:function(){TvrMT.TvrCom,TvrMT.TvrUi,TvrMT.MTF,TvrMT.mod.MTint,TvrMT.mod.MTloop,TvrMT.mod.MTdd,TvrMT.mod.MTsave,TvrMT.mod.MTace,TvrMT.mod.MTgrid}}})),jQuery(document).ready((function(e){TvrMT.mod.MTgrid=function(){var t,r,n,i,a,o,s,l,c={set_vars:function(){r=TvrMT.TvrCom,t=TvrMT.TvrUi,n=TvrMT.MTF,TvrMT.mod.MTint,i=TvrMT.mod.MTloop,a=TvrMT.mod.MTdd,o=TvrMT.mod.MTsave,s=TvrMT.mod.MTace,TvrMT.mod.MTsass,l=TvrMT.mod.MTlayout},gridstack:{},numRows:24,numColumns:24,cellHeight:20,cellWidth:28,itemResising:!1,get_pg_fields:function(r){return e("#"+t.selInFocusID).find(".property-"+r)},bind_gridstack:function(){var r=t.stat.grid.find(".grid-control"),n=t.stat.grid.find(".graph-area"),i=r.find(".grid-stack").gridstack({cellHeight:c.cellHeight+"px",cellWidth:c.cellWidth+"px",width:c.numColumns,height:c.numRows,float:!0,verticalMargin:0,removable:!1,draggable:{handle:".grid-stack-item-content",scroll:!1,appendTo:"body"},resizable:{handles:"se, sw"}}).on("change",(function(e,t){c.itemsLoading})).on("resizestart",(function(e,t){c.itemResising=!0,c.canvas_item_clicked(t.element),c.bind_mouse_scroll(e,t.element,n)})).on("resizestop",(function(e,t){c.itemResising=!1,c.unbind_mouse_scroll(),c.grid_adjusted("items",e,t,"resized")})).on("dragstart",(function(t,r){c.itemResising=!0;var i=e(t.target);c.canvas_item_clicked(i),c.bind_mouse_scroll(t,i,n)})).on("drag",(function(e,t){c.over_clear_icon(t,!0)})).on("dragstop",(function(e,r){c.itemResising=!1,c.unbind_mouse_scroll(),t.stat.grid.find(".clear-all-grid-styles").removeClass("on"),c.grid_adjusted("items",e,r,"dragged")})).data("gridstack");this.gridstack=i,r.find(".explicit-grid").resizable({handles:"se",grid:[parseInt(i.opts.cellWidth),parseInt(i.opts.cellHeight)],minWidth:0,minHeight:0,start:function(){c.itemResising=!0},resize:function(){},stop:function(e,t){c.grid_adjusted("explicit",e,t),c.itemResising=!1}})},grid_enabled:function(e){return"grid"===e||"inline-grid"===e},get_gridM:function(){return!!t.selInFocusID&&t.get_meta(e("#"+t.selInFocusID).find("li.group-tag-grid"),"group")},clear_all_grid_styles:function(e){t.clear_data_level(e,this.get_gridM())},gridsatckItemDragOrResize:function(e,r,n){if(!t.grid.isTemplateAreas){e.id&&c.updateLookupItem(e);var i=t.grid.lookupContainer=c.get_container_el_data(t.grid.lookupContainer.$el),a=i.$el;c.positions_to_coordinates(a,i,t.grid.items),c.repositionGridNodes({})}},updateLookupItem:function(e){var r=e.id,n=t.stat.grid.find(".mt-lookup-grid").find(".lookup-item-"+r),i=c.coordinates_to_grid_area(e);n.css(i)},repositionGridNodes:function(e){for(var n=c.gridstack.grid.nodes.sort(r.firstBy("id")),i=t.grid.items,a=0;a<n.length;a++){var o=n[a],s=i[a].coordinates;o.id!==e.id&&c.gridstack.grid.moveNode(o,s.x,s.y,s.width,s.height)}},over_clear_icon:function(e,n){var i=t.stat.grid.find(".clear-all-grid-styles"),a=e.helper,o=i[0].getBoundingClientRect(),s=a[0].getBoundingClientRect(),l=r.isIntercepted(o,s);return n&&(l&&!i.hasClass("on")?i.addClass("on"):!l&&i.hasClass("on")&&i.removeClass("on")),l},grid_adjusted:function(n,a,u,d){var p,f=[],h=c.get_gridM(),_=i.get_selector_data(h),g=_.data,m={savePackage:[]},v=_.levels.concat(["styles","grid"]),y=r.checkObject(g,["styles","grid"])||{},b=_.levels.concat(["styles","grid","display_grid","value"]),w=t.grid.isTemplateAreas;if("explicit"===n){var T=e(u.element),x=T.find(".explicit-grid-toggle");p=t.title(x).toLowerCase(),f=c.resolve_template_styles(v,T,g)}else if("items"===n){for(var k=c.gridstack.grid.nodes.sort(r.firstBy("id")),S=e(a.target),C={grid_row_start:[],grid_column_start:[],grid_row_end:[],grid_column_end:[]},M=parseInt(S.data("nth")),A=t.grid.isSingleItem?0:M,O=Object.keys(C),E=!1,P=0;P<k.length;P++){var D=k[P];parseInt(D.id)===M&&(C.grid_row_start[A]=D.y+1,C.grid_column_start[A]=D.x+1,C.grid_row_end[A]=D.height+D.y+1,C.grid_column_end[A]=D.width+D.x+1,E=!0)}if(w){var j=e.extend(!0,[],k);if(c.over_clear_icon(u)){var I=parseInt(e(u.helper).data("nth"))-1;c.gridstack.removeWidget(S,!1),u.helper.remove(),j.splice(I,1),t.grid.areas.splice(I,1),c.gridstack.placeholder.detach()}var L=c.convert_node_coordinates_to_template_areas(j);L?f.push({action:"replace",trail:v.concat(["grid_template_areas","value"]),data:L}):f.push({action:"delete",trail:v,key:"grid_template_areas"}),p="template area adjusted"}else{if(c.over_clear_icon(u)&&(C.grid_row_start[A]="",C.grid_column_start[A]="",C.grid_row_end[A]="",C.grid_column_end[A]="",E=!0),E){for(P=0;P<O.length;P++){var R=O[P];r.updateObject(y,[R,"value",A],C[R][A])}r.updateObject(y,["grid_area","value",A],"")}f.push({action:"replace",trail:v,data:y}),p="grid item "+d}}i.updateObjectAndSavePackage(m.savePackage,f),c.grid_enabled(r.checkObject(t.uiData,b))||i.updateObjectAndSavePackage(m.savePackage,{action:"replace",trail:b,data:"grid"});var N="all-devices"!==h.tabSlug;if(m=i.modify_main_js_object("group_to_css",m,{M:h,domDepth:"group",mq_key:h.tabSlug,incRecurse:N,onlyRecurse:N,recurse_key:["m_query"],pre_clear:!0,clean:{selector:[["styles"],[h.groupSlug]]},cleanMaxDepth:"selector"}),t.skipGridReflow=!0,t.trigger_pg_icon_click(h.groupSlug),m=o.user_action(m,{items:["selector"],val:p,pathTT:!0,M:h,icon:"mtif-grid"}),!t.scss_enabled&&l.editor_and_gui()){var F="items"===n?".field-grid-grid_column_start":".field-grid-grid_template_columns";s.gui_to_editor(!1,t.get_meta(h.group.find(F),"property"))}t.prepareDisabledOrNotLoadingWarning(h),o.ajax_save_settings({settings:m,timerName:"gridControl"})},resolve_template_styles:function(e,t,n){for(var i=["rows","columns"],a={rows:{total:t.height()/c.cellHeight},columns:{total:t.width()/c.cellWidth}},o=[],s=0;s<i.length;s++){for(var l=i[s],u="grid_template_"+l,d=r.checkObject(n,["styles","grid",u,"value"]),p="rows"===l?"auto":"1fr",f=[],h=0;h<a[l].total;h++)d&&d[h]&&"none"!==d[h]&&(p=d[h]),f.push(p),0===p.indexOf("[")&&a[l].total++;o.push({action:"replace",trail:e.concat([u,"value"]),data:f})}return o},get_container_el_data:function(t,r,n){var i=["top","left"],a=t[0],o=["border-top-width","border-right-width","border-bottom-width","border-left-width","padding-top","padding-right","padding-bottom","padding-left","margin-top","margin-right","margin-bottom","margin-left","grid-template-rows","grid-template-columns","grid-template-areas","column-gap","row-gap","grid-column-start","grid-column-end","grid-row-start","grid-row-end","justify-content","align-content"],s={$el:t,el:a,pos:a.getBoundingClientRect(),extra:{},innerPos:{},comp:t.css(o)};r||this.convert_computed_subgrid_to_regular(s,t,o);for(var l=0;l<i.length;l++){var u=i[l];s.extra[u]=n?c.applyCumParSubAdjust(u,n,s):(parseFloat(s.comp["border-"+u+"-width"])||0)+(parseFloat(s.comp["padding-"+u])||0),s.innerPos[u]=s.pos[u]+s.extra[u]}return e.extend(!0,s,this.calculate_line_offsets(s.comp,s.el)),s},get_item_el_data:function(e,t,n,i,a){var o=t[0].getBoundingClientRect(),s=o.left-n.innerPos.left,l=o.top-n.innerPos.top,c=e+1,u=Object.values(TvrMT.data.prog.pg_tab_props.grid.griditems).concat(Object.values(TvrMT.data.prog.pg_tab_props.grid.allgriditems));return i&&(s+=i.totalParentOffsetAdjust.left,l+=i.totalParentOffsetAdjust.top),{n:c,$item:t,title:r.get_tagName(t)+":nth-child("+c+")",pos:o,relative:{top:l,left:s},comp:t.css(u)}},update_grid_settings:function(n,i){r.startT(arguments);var a=c.get_gridM();if(!a)return{};var o=a.group.find(".property-grid"),s="TemplateRowsCols",l=o.hasClass("show-single-griditem"),u="gridareas"===t.pref.grid_focus,d=!l&&!u;l?s="singleItem":u&&(s="templateAreas");var p=e.extend(!0,{prevGSNodes:[],isAllItems:d,isSingleItem:l,isTemplateAreas:u,specificTab:s,M:a,$control:t.stat.grid},this.tab_specific_settings(a,s,i,n,o));return r.endT(arguments),p},applyCumParSubAdjust:function(e,t,r){let n=0;if(t&&Array.isArray(t)){t.length;t.forEach((function(t,r){t.parentIsSubgrid,t.isFirstTrack,t.isTarget,t.index;let i=t.padding[e]||0,a=t.border[e]||0,o=t.elMargin[e]||0;t.gap[e];n+=i+a,n+=o}))}return n},get_nearest_master_grid:function(e,t,r,n,i,a){let o=n,s=[],l=[],u="row"===t?"top":"left",d="row"===t?"y":"x",p=u,f="row"===t?"bottom":"right",h={type:t,offset:u,axis:d,box:[],totalParentOffsetAdjust:{top:0,left:0},tracksPartOrig:"",tracksPartAdjusted:"",tracksFullOrig:"",tracksFullAdjusted:"",els:[]};for(;n.parent().length;){n=n.parent();let a=t+"-gap",_=n.css(["display",r,a]),g=_[r];if(g.indexOf("subgrid")>-1){s.push({$el:n});continue}g=g.replace(/\[.*?]\s+?/g,"");let m=n,v=m,y=_,b="normal"===y[a]?0:parseFloat(y[a]),w=b,T=!1,x=g.split(/\s+/);return h.tracksFullOrig=structuredClone(x),s.reverse(),s.push({$el:o}),s.forEach((function(e,t){let n=s.length-1===t,i=e.$el,o=c.get_container_el_data(m,!0),_=c.get_container_el_data(i,!0),g=o.comp,y=_.comp,k=Math.round(o.innerPos[u])===Math.round(_.pos[d])-parseFloat(y["margin-"+u]),S={[u]:"normal"===g[a]?b:parseFloat(g[a])},C="normal"===y[a]?S[u]:parseFloat(y[a]),M=C-S[u],A=w-S[u],O=t-1,E=s[O]?s[O].parGapOffset[u]-S[u]:0,P={index:t,isTarget:n,parentIsSubgrid:T,isFirstTrack:k,$subGrid:i,parGrandParGapDiff:E,parGapDiff:A,gapDiff:M,padding:{[u]:parseFloat(g["padding-"+u])},border:{[u]:parseFloat(g["border-"+u+"-width"])},margin:{[u]:parseFloat(g["margin-"+u])},elMargin:{[u]:parseFloat(y["margin-"+u])},gap:{[u]:E/2}};e.parGapOffset=S,T&&!k&&(h.totalParentOffsetAdjust[u]+=P.padding[u]+P.border[u]+P.margin[u]+P.gap[u]),h.box.push(P);let D=y[r].replace("subgrid [] ","").split(/\[/).length-1,j=c.get_container_el_data(v,!0,h.box),I=c.get_item_el_data(0,i,j,h,k),L=c.offset_position_to_coordinates(0,I,j),R=L[d],N=R+D;l=x.slice(R,N);let F=structuredClone(l);n&&(h.tracksPartOrig=F);let q=l.length-1,U=structuredClone(x);l.forEach((function(e,t){let r=parseFloat(e),n=0===t,i=t===q;if(0!==M){r-=n||i?M/2:M}n&&(r-=parseFloat(y["padding-"+p]),r-=parseFloat(y["border-"+p+"-width"]),r-=parseFloat(y["margin-"+p])),i&&(r-=parseFloat(y["padding-"+f]),r-=parseFloat(y["border-"+f+"-width"]),r-=parseFloat(y["margin-"+f])),r<0&&(r=0),l[t]=r+"px"})),x.splice(R,D,...l);let z=structuredClone(l),B=structuredClone(x);h.tracksFullAdjusted=B,h.tracksPartAdjusted=structuredClone(l),h.els.push({$el:i,item:I,co:L,tracks:{before:F,after:z},fullTracks:{before:U,after:B},gap:C,parentGap:S[u],box:P,elContainer:_,parContainer:o,masterContainer:j}),m=i,b=C,T=!0})),e.cumAdjust=h,i[r]=l.join(" "),void(i[a]=b+"px")}},convert_computed_subgrid_to_regular:function(e,t,r){let n={any:!1,rows:!1,columns:!1},i=e.comp,a=t.hasClass("mt-lookup-grid");["rows","columns"].forEach((function(o){let s="grid-template-"+o;i[s].indexOf("subgrid")>-1&&(a?i[s]=i[s].replace("subgrid [] ","").replace(/\[]/g,"10px"):c.get_nearest_master_grid(e,o.slice(0,-1),s,t,i,r),n.any=!0,n[o]=!0)})),e.hasSubGrid=n},applyGridStyles:function(e,t,r,n,i,a,o,s,l,c,u){return i.columns&&(r["grid-template-columns"]=u,n["grid-template-columns"]="subgrid",n["grid-column-end"]="span "+l,e&&(r["column-gap"]=n["column-gap"],n["column-gap"]="")),i.rows&&(r["grid-template-rows"]=c,n["grid-template-rows"]="subgrid",n["grid-row-end"]="span "+s,e&&(r["row-gap"]=n["row-gap"],n["row-gap"]="")),a.attr("style","").css(r),o.css(n),{main:n,master:r}},tab_specific_settings:function(n,a,o,s,l){var u="singleItem"===a,d="templateAreas"===a,p=u&&s&&"html"!==s[0].tagName.toLowerCase()?s.parent():s,f=[],h=[],_={comp:"",grid_areas:[],implicit_names:[],parsed_areas:[],unique_areas:{},row_with_quotes:[]};if(!p)return c.gridstack.removeAll(),t.stat.grid.find(".explicit-grid").css({width:0,height:0}),{items:f,areas:h,templateAreas:_};var g=u?p.css("display"):o,m="grid"===g||"inline-grid"===g,v=!!u&&s.index()+1,y=t.stat.grid,b=y.find(".mt-lookup-grid-wrap"),w=y.find(".mt-lookup-grid"),T=this.get_container_el_data(p),x=T.hasSubGrid,k={},S=T.comp,C=i.get_selector_data(n).data;if(_.comp=S["grid-template-areas"],m){let t=T.lines.rows.total-1,n=T.lines.columns.total-1,i="repeat("+t+", 10px)",a="repeat("+n+", 10px)",o={"grid-template-rows":i,"grid-template-columns":a,"grid-template-areas":S["grid-template-areas"]};c.applyGridStyles(!1,T,{},o,x,b,w,t,n,i,a),_=c.parse_template_areas(_.comp,_);for(var M="",A=_.grid_areas,O=0;O<A.length;O++){for(var E=A[O],P=["start","end"],D=0;D<P.length;D++)_.implicit_names.push(E+"-"+P[D]);d&&(M+='<div class="lookup-item lookup-item-'+E+'" style="grid-area: '+E+'" >'+E+"</div>",h.push({type:"area",gridArea:E,title:E}))}p.children(":not(script):not(noscript):not(style)").each((function(t){var n=c.get_item_el_data(t,e(this),T),i={"grid-column-end":n.comp["grid-column-end"],"grid-column-start":n.comp["grid-column-start"],"grid-row-end":n.comp["grid-row-end"],"grid-row-start":n.comp["grid-row-start"],"grid-area":n.comp["grid-area"],order:n.comp.order},a=r.config_obj_to_string(i,!1,"; "),o=t+1;v===o&&(n.isSingleItem=1),d||(M+='<div class="lookup-item lookup-item-'+o+'" style="'+a+'" >'+(t+1)+"</div>"),f.push(n)})),w.html(M),k=this.get_container_el_data(w);var j=d?h:f;c.positions_to_coordinates(w,k,j),k.templateTracks=c.get_user_defined_template_tracks(C),T.explicitGrid={width:c.cellWidth*k.templateTracks.columns.total,height:c.cellHeight*k.templateTracks.rows.total},T.implicitGrid={width:c.cellWidth*(k.lines.columns.total-1),height:c.cellHeight*(k.lines.rows.total-1)},l.add(y).addClass("grid-enabled"),c.flag_subgrid(T.hasSubGrid,y)}else l.add(y).removeClass("grid-enabled"),w.html("");return{enabled:m,container:T,$container:p,lookupContainer:k,$lookupGrid:w,hasSubGrid:x,singleItemNth:v,items:f,areas:h,templateAreas:_}},flag_subgrid:function(e,t){let r="",n="";e.any?r+=" has-subgrid":n+=" has-subgrid",e.columns?r+=" has-subgrid-columns":n+=" has-subgrid-columns",e.rows?r+=" has-subgrid-rows":n+=" has-subgrid-rows",r&&t.addClass(r),n&&t.removeClass(n)},get_user_defined_template_tracks:function(e){for(var t=["rows","columns"],n={rows:{total:0},columns:{total:0}},i=0;i<t.length;i++){var a=t[i],o=r.checkObject(e,["styles","grid","grid_template_"+a,"value"]);if(o){var s="none"===o[0],l=c.parseGridTracks(o.join(" ")).lines,u=0;if(!s)for(var d=0;d<l.length&&(u++,!l[d].endLineName);d++);n[a].parsed=l,n[a].total=u}n[a].values=o}return n},styles_indent:"\n\t\t",hasTemplateAreas:function(e,t){var r=new RegExp(a.reg.quoted({inside:1}),"g");return e&&e.match(r)?!t||c.styles_indent:""},parse_template_areas:function(e,t){if(!e||"none"===e)return t;var n=new RegExp(a.reg.quoted({inside:1}),"g"),i=t;return r.iterate_string(e,n,[{item:function(e,t,r,n){var i=r[1].split(/\s/);for(e=0;e<i.length;e++){var a=i[e];"."!==a&&(n.unique_areas[a]=1)}n.grid_areas=Object.keys(n.unique_areas),n.parsed_areas.push(i),n.row_with_quotes.push(r[0])},args:[]}],i),i},add_template_area:function(e){var n=e.parent().find(".property-input"),i=n.val(),a=c.gridstack.grid.nodes.sort(r.firstBy("id")),o=a.length;if(r.isDefined(i)){for(var s=i.split(" "),l=e.closest(".property-tag").prev().find(".property-input"),u=r.checkObject(t.grid,["templateAreas","grid_areas"]),d=0;d<1;d++){var p=s[d];if(u&&r.in_array(p,u))return alert("Area already exists"),!1;n.val("");var f=o+d+1,h={class:"type-area-item "+c.core_gridstack_classes,"data-nth":f,"data-gs-id":f},_=t.stat.grid.find(".grid-canvas"),g=[],m={gridArea:p,coordinates:{x:0,y:0,width:1,height:1}};g[o]=m,t.grid.areas.push(m),c.add_remove_or_update_gridstack_node(o,_,a,g,h,p,!0)}a=c.gridstack.grid.nodes.sort(r.firstBy("id"));var v=c.convert_node_coordinates_to_template_areas(a);if(l.val(v),!t.grid.enabled){var y=n.closest(".group-tag").find(".field-grid-display_grid").find(".property-input");y.val("grid"),t.adjust_comp_span(y,"after")}t.run_input_updated(l)}},format_template_areas_nicely:function(e){var t=c.styles_indent,n=new RegExp(a.reg.quoted({inside:1}),"g"),i={formatted:""};return r.iterate_string(e,n,[{item:function(e,r,n,i){i.formatted+=t+n[0]},args:[]}],i),i.formatted?i.formatted:e},updateArrayConfig:{isArraySafe:1,action:"replace"},convert_node_coordinates_to_template_areas:function(e){for(var n=[],i=0,a="",o=0;o<e.length;o++){for(var s=["y","x"],l=["height","width"],u=e[o],d=(u.id,t.grid.areas[o].gridArea),p={},f=0;f<s.length;f++){var h=s[f],_=l[f],g=u[h],m=g+u[_]-1;p[h]={startIndex:g,endIndex:m}}for(var v=p.y.startIndex;v<=p.y.endIndex;v++)for(var y=p.x.startIndex;y<=p.x.endIndex;y++){r.updateObject(n,[v,y],d,c.updateArrayConfig);var b=n[v].length;b>i&&(i=b)}}for(var w=0;w<n.length;w++)for(var T=0;T<i;T++)r.checkObject(n,[w,T])||r.updateObject(n,[w,T],".",c.updateArrayConfig);for(var x=0;x<n.length;x++)a+=c.styles_indent+'"'+n[x].join("\t")+'"';return a},positions_to_coordinates:function(t,r,n){t.children(":not(script):not(noscript):not(style)").each((function(t){var i=c.get_item_el_data(t,e(this),r);i.coordinates=c.offset_position_to_coordinates(t,i,r),n[t].coordinates=i.coordinates}))},calculate_line_offsets:function(e,t){for(var r={lines:{columns:{offsets:{}},rows:{offsets:{}}},gap:{}},n=["rows","columns"],i=0;i<n.length;i++){var a,o=n[i],s=o.slice(0,-1),l=s+"-gap",u=c.normalise_grid_gap(e[l],s,t),d=e["grid-template-"+o],p=this.parseGridTemplate(d,u),f=p.lineOffsetsArray,h=1,_=0,g=f.length;if(r.gap[s]=u,r.lines[o].names=p.names,g>0){r.lines[o].offsets[c.to_fixed_number(_)]=h;for(var m=0;m<g;m++)h=m+2,(_+=parseFloat(f[m])+u)!==a&&(r.lines[o].offsets[c.to_fixed_number(_)]=h),a=_}r.lines[o].total=h}return r},normalise_grid_gap:function(e,t,n){var i="column"===t?"width":"height";return r.convertUnit().toPx(n,e,i)},to_fixed_number:function(e,t){return t=t||0,parseFloat(e.toFixed(t))},util:{lineTypes:["columns","rows"],lineTypesSingular:["column","row"],offsets:["left","top"],axis:["x","y"],dim:["width","height"]},offset_position_to_coordinates:function(e,t,r){for(var n={},i=c.util,a=0;a<i.lineTypes.length;a++){var o=i.lineTypes[a],s=0,l=i.lineTypesSingular[a],u=i.offsets[a],d=i.axis[a],p=i.dim[a],f=r.lines[o].offsets,h=r.gap[l],_=t.relative[u],g=-1,m=1,v=c.to_fixed_number(_),y=this.get_closest_position(v,f);if(y){g=y.value,s=y.correction;var b=this.get_closest_position(c.to_fixed_number(_+t.pos[p]+h+s),f);b&&(m=1,m=b.value-g)}n[d]=g-1,n[p]=m,y.correction&&(f[v]=g,delete f[y.actualKey])}return n},get_closest_position:function(e,t){for(var n=["-","+"],i=0;i<=3;i++)for(var a=0;a<=n.length;a++){var o=parseFloat(n[a]+i),s=e+o,l=t[s];if(r.isDefined(l))return{correction:o,suggestedKey:e,actualKey:s,value:l}}return!1},coordinates_to_offset_position:function(e){},coordinates_to_grid_area:function(e){var t=e.height+e.y+1,r=e.width+e.x+1;return{"grid-row-start":(e.y+1).toString(),"grid-column-start":(e.x+1).toString(),"grid-row-end":t.toString(),"grid-column-end":r.toString()}},core_gridstack_classes:"grid-stack-item ui-draggable ui-resizable ui-resizable-autohide",add_gridstack_widget:function(e,t,r,n){c.gridstack.addWidget(e,t.x,t.y,t.width,t.height,n,void 0,void 0,void 0,void 0,r)},add_remove_or_update_gridstack_node:function(t,n,i,a,o,s,l){var u=t+1,d="mtgi-"+u,p=n.find("#"+d),f=i[t],h=a[t];if(l=l||!1,h){var _=h.coordinates;r.isDomEl(p)?(p.attr(o).find(".grid-stack-item-content").attr("data-label",s),f?c.gridstack.update(p,_.x,_.y,_.width,_.height):c.add_gridstack_widget(p,_,u,l)):c.add_gridstack_widget(e('<div id="'+d+'" data-nth="'+u+'" class="'+o.class+'"><div class="grid-stack-item-content ui-draggable-handle" data-label="'+s+'">'+u+"</div></div>"),_,u,l)}else r.isDomEl(p)&&(c.gridstack.removeWidget(p,!1),p.addClass("mt-node-inactive"))},update_grid_canvas:function(){r.startT(arguments);var e=t.stat.grid,a=e.find(".grid-canvas"),o=e.find(".explicit-grid"),s=e.find(".implicit-grid"),l=t.grid.isSingleItem,u=t.grid.isTemplateAreas,d=t.grid.container,p=u?t.grid.areas:t.grid.items,f=u?"type-area-item":"type-nth-item",h=this.get_gridM(),_=i.get_selector_data(h,"all-devices").data,g="all-devices"===h.tabSlug?_:i.get_selector_data(h,h.tabSlug).data,m=r.isDefined(_.nth_item)?parseInt(_.nth_item):1,v=c.gridstack.grid.nodes.sort(r.firstBy("id")),y=v.length>p.length?v.length:p.length;if(c.itemsLoading=!0,y<1)n.stat.body.find("#mt-grid-highlight").find(".mtoc-line").attr("style","display: none;");else for(var b=0;b<y;b++){var w,T,x=p[b],k=b+1;if(x){var S=f,C=r.regular_escape_quotes(x.title),M=l?0:k,A=r.checkObject(g,["itemsWithValues",M])&&(!l||k===t.grid.singleItemNth);w=u?x.gridArea:k,u||(m===k&&(S+=" in-focus"),A&&(S+=" hasValues"),x.isSingleItem&&(S+=" is-single-item")),T={class:S+" "+c.core_gridstack_classes,title:C,"data-nth":k,"data-gs-id":k}}c.add_remove_or_update_gridstack_node(b,a,v,p,T,w)}s.css({width:d&&d.implicitGrid?d.implicitGrid.width+"px":0,height:d&&d.implicitGrid?d.implicitGrid.height+"px":0}),o.css({width:d&&d.explicitGrid?d.explicitGrid.width+"px":0,height:d&&d.explicitGrid?d.explicitGrid.height+"px":0}),n&&n.update_grid_highlight(t.grid),t.grid.prevGSNodes=[],c.itemsLoading=!1,r.endT(arguments)},update_nth_radios:function(){for(var e=this.get_gridM(),n=t.get_input_stems("all-devices"),a=i.get_selector_data(e,"all-devices").data,o="all-devices"===e.tabSlug?a:i.get_selector_data(e,e.tabSlug).data,s=r.isDefined(a.nth_item)?parseInt(a.nth_item):1,l=t.grid.items,c=t.stat.grid.find(".nth-item-radios"),u=t.templates.icon_inputs.group.nth_option,d=[],p=0;p<=l.length;p++){var f=p+1,h=r.checkObject(o,["itemsWithValues",f]),_=u.replace(/0/g,p).replace("name_placeholder",n.mq+"["+e.sectionSlug+"]["+e.selectorSlug+"][nth_item]");s===p&&(_=_.replace("nth-radio-control","nth-radio-control on")),h&&(_=_.replace("nth-radio-control","nth-radio-control hasValues")),d.push(_)}d.length&&c.find(".fake-radio-parent").html(d),r.forceReflow(c[0])},update_nth_item_focus:function(e,r){var n=c.get_gridM(),i=e.closest(".nth-item-option"),a=i.data("nth");o.quick_save_data(i),t.grid.isAllItems&&c.update_grid_and_radio_item_formatting("focus",{nth:a}),n.group.find("span.grid-item-num").text(": "+a),t.skipGridReflow=r,t.trigger_pg_icon_click()},update_grid_and_radio_item_formatting:function(n,i){(i.doRadio?t.stat.grid.find(".nth-item-option"):t.stat.grid.find(".grid-stack-item")).each((function(){var a=e(this),o=a.data("nth");if("focus"===n)o===i.nth?a.addClass("in-focus"):a.removeClass("in-focus");else if("itemdots"===n||"radiodots"===n){var s=r.checkObject(i,["itemsWithValues",parseInt(o)]),l="itemdots"===n?a:a.find(".fake-radio");t.update_style_signal(l,s)}}))},canvas_item_clicked:function(e){var n=e.closest(".grid-stack-item");if(!n.hasClass("in-focus"))if(t.grid.isAllItems){var i=n.data("nth"),a=t.stat.grid.find("li.nth-item-option-"+i);r.toggle_radio_checkbox(a.find(".fake-radio")),c.update_nth_item_focus(a,!0)}else t.grid.isTemplateAreas},mouseScrollConfig:{},bind_mouse_scroll:function(e,t,r){return!1},unbind_mouse_scroll:function(){},templatePattern:/\s(?![^[("]*])/,parseGridTracks:function(e){var t=new RegExp(a.reg.gridTracks(),"mg"),n={lines:[],sizesDefined:0},i={2:"name",3:"size",4:"name"};return r.iterate_string(e,t,[{item:function(e,t,r,n){for(var a=Object.keys(i),o={name:"",size:""},s=0;s<a.length;s++){var l=a[s],c=i[l];r[l]&&(o[c]=r[l].trim(),4===parseInt(l)&&n.lines[e-1]&&(n.lines[e-1].endLineName=o[c]))}o.size&&++n.sizesDefined,n.lines.push(o)},args:[]}],n),n},parseGridTemplate:function(e,t){t=t?parseFloat(t):0;for(var r=a.split_grid_tracks(e),n=[],i=[],o=[],s=0,l=0;l<r.length;l++){var c=r[l];c.includes("px")&&(r[l-1]&&!r[l-1].includes("px")||o.push(""),i.push(c)),o.push(c)}for(r[r.length-1]&&r[r.length-1].includes("px")&&o.push(""),l=0;l<o.length;l++)if((c=o[l]).includes("px"))s+=parseFloat(c.replace("px",""));else{var u={start:s-1,end:s+1,name:this.getName(c)};0!==l&&l!==o.length-1&&0!==t&&(u.gap=t,s+=t),n.push(u)}return{names:n,lineOffsetsArray:i}},getName:function(e){return e.includes("[")?e.match(/\[(.*)\]/)[1].trim():null},expand_grid:function(){}};return c}()})),jQuery(document).ready((function(e){TvrMT.mod.MTfolder=function(){let t,r,n,i,a,o,s={set_vars:function(){r=TvrMT.TvrCom,t=TvrMT.TvrUi,n=TvrMT.MTF,i=TvrMT.mod.MTloop,a=TvrMT.mod.MTdd,o=TvrMT.mod.MTsave},getFolderLogic:function(e){let t=a.inputs_to_data(e),r=Object.keys(t);for(let e=0;e<r.length;e++){let n=r[e];""===t[n].trim()&&delete t[n]}return t},show_logic_testing_table:function(){e("#logic-testing-wrap").slideDown("fast")},hide_logic_testing_table:function(){e("#logic-testing-wrap").slideUp("fast")},view_test_url:function(){let r=e("#previewPath"),n=e("#testPreviewPath");r.val(n.val()),t.change_preview_url(r)},get_test_url:function(n,i){return n=n||t.format_nonlog_param(t.create_url_from_input_path(e("#testPreviewPath"))),r.append_url_param(n,"test_logic",i.sectionSlug)},extractJsonFromText:function(e){let t=e.substring(e.indexOf("{")),r={analysis:"Error testing logic",load:"No"};try{r=JSON.parse(t)}catch(e){}return r},test_folder_on_current_page:function(e,t){o.simple_ajax_request({skipQueue:1,url:s.get_test_url(n.get_current_url(),e),type:t?"POST":"GET",sendData:t,dataType:"text",cbFunction:function(t){let r=s.extractJsonFromText(t);s.update_styles_disabled_and_menu_classes(e.sectionSlug,!r.result,r)}})},maybeGetLivePostData:function(){if(n){let e=r.checkObject(n.stat.win,["parent","MTblock"]);if(e)return e.getLiveData(e.getBlockList(!0),!0)}return null},test_logic_on_page:function(i,a,l,c){let u=!s.folderNotLoading(i.sectionSlug),d=r.checkObject(t.pref.asset_loading,["conditional",i.sectionSlug]);if((!u||"empty"!==d)&&n){let u=e("#testPreviewPath"),d=u.val(),p=n.get_current_url(),f=t.format_nonlog_param(t.create_url_from_input_path(u)),h=r.append_url_param(f,"test_logic",i.sectionSlug),_=document.getElementById("logic-statement-analysis"),g=document.getElementById("logic-load-result"),m=p===f,v=s.maybeGetLivePostData();l&&!m&&s.test_folder_on_current_page(i,v),g.innerHTML="testing...",e(g).attr("data-eval","pending"),_.innerHTML="",o.simple_ajax_request({skipQueue:1,url:h,type:v?"POST":"GET",sendData:v,dataType:"text",plus:a?TvrLang.test_logic:"",minus:a?TvrLang.test_logic_failed:"",cbFunction:function(t){let r=s.extractJsonFromText(t),p=r.num_statements<1?r.error?"ERROR":"Global":r.num_statements+" "+(r.num_statements>1?"statements":"statement");u.val(d||f),g.innerHTML=r.load,e(g).attr("data-eval",r.resultString);let h=r.analysis.replace(/\[(false|true|result|null)]/g,'<span class="mt-test-result eval-statement" data-eval="$1">$1</span>');_.innerHTML='<span class="toggle-popdown-content toggle-logic-analysis" data-forpopup="logicAnalysis"><span class="popdown-label">'+p+'</span><div id="logicAnalysis" class="popdown-content logic-analysis"><div class="heading logic-to-analyse">Logical Condition Analysis</div><div class="condition-analysis">'+h+"</div></div></span>",s.show_logic_testing_table(),m&&s.update_styles_disabled_and_menu_classes(i.sectionSlug,!r.result,r),l&&m&&(c&&o.maybeBroadcastChanges(c),n.select_current_selector_elements({})),a&&a.removeClass("active")}})}},updateAllStyleTagsAndMenuItems:function(){s.updateMenuLoadingClasses(!0)},update_styles_disabled_and_menu_classes:function(t,r,i,a,o){var l=n.getMTDynFrontData().folderLoading,c="not all",u=n.stat.html.find('style[id$="-'+t+'"]'),d=o?u.first().attr("media")===c:s.folderNotLoading(t);(r&&!d||d&&!r)&&(u.each((function(){r?e(this).attr("media",c):e(this).removeAttr("media")})),a||("Not set"===i.logic?delete l[t]:l[t]=i.result?i.empty||i.resultIsString?i.empty?"empty":i.resultIsString:1:0)),a||s.updateMenuLoadingClasses()},reset_logic_fields:function(e){s.updateLogicFields("resetSettings",e,{})},clear_folder_logic:function(e){t.logicTextareaChanged=1,s.reset_logic_fields(e.closest(".cm-edit-folder-options")),s.save_folder_logic(e,!0)},maybeAddLogicAdjustedFlag:function(n,i){let a=r.checkObject(t.uiData.logic);a&&(i.adjusted_logic=e.extend(!0,{slug:n},a))},reorderFolderLoading:function(e){if(t.iframeEditing()){let t=n.getMTDynFrontData().folderLoading,r={};for(let n=0;n<e.length;++n){let i=e[n];void 0!==t[i]&&(r[i]=t[i])}n.setMTDynFrontData("folderLoading",r)}},addSaveLogicCallback:function(e,r,n,i,a){n.runLogicTestCallback=!0,n.cbFunction=function(e,r,n,i,a){TvrMT.data.prog.combo.recent_logic=e.recent_logic,t.pref.recent_logic=TvrMT.data.prog.combo.recent_logic,t.update_cur_item_apply_state(r,"section"),i?s.test_logic_on_page(r,a,n,e):a&&a.removeClass("active")},n.cbfArgs=[e,r,i,a]},save_folder_logic:function(n,a,l,c,u){l=l||s.getFolderLogic(n.closest(".conditional-logic-form")),u=u||{savePackage:[]};let d=(c=c||t.context_menu_data.M).sectionSlug,p=e.extend(!0,{},l,{slug:d,update_recent_logic:1}),f=t.logicTextareaChanged;u.adjusted_logic=f?p:void 0,t.logicTextareaChanged=0,l.expr&&!s.hasGlobalCondition(l.expr)?(c.sectionM.addClass("item-conditional"),r.updateObject(t.pref.asset_loading,["conditional",d],1)):(c.sectionM.removeClass("item-conditional"),r.updateObject(t.pref.asset_loading,["conditional",d],void 0)),t.update_cur_item_apply_state(c,"section"),i.updateObjectAndSavePackage(u.savePackage,{action:"replace",trail:[c.sectionSlug,"this","logic"],data:l}),s.setFolderLogicHiddenInputs(c,l),n&&(u=o.user_action(u,{items:["section"],val:t.title(n),M:c,valTT:l.label?l.label:"global",icon:"mtif mtif-folder"})),n&&n.addClass("active");var h={settings:u,noSaveDelay:1,essentialSave:1};s.addSaveLogicCallback(c,f,h,a,n),o.ajax_save_settings(h)},setFolderLogicHiddenInputs:function(t,r){t.sectionM.find("input.section-logic-input").each((function(){var t=e(this),n=t.attr("name").match(/\[([a-z_]+)]$/)[1],i=void 0!==r[n]?r[n]:"";t.val(i)}))},logic_textarea_changed:function(e){t.logicTextareaChanged=1,r.action_after_timeout("logic_edited",200,{item:function(){let t=e.closest(".conditional-logic-form"),r="mt-has-expr",n=t.hasClass(r),i=e.val().trim();i&&!n?t.addClass(r):""===i&&n&&t.removeClass(r)}})},toggle_advanced_options:function(e){let t=e.closest(".mt-cm-form"),r="show-advanced-options";t.hasClass(r)?t.removeClass(r):t.addClass(r)},toggle_popdown_content:function(e){let t=e.find(".popdown-content");e.data("forpopup");t.hasClass("expanded")?s.hide_popdown_content(t):s.show_popdown_content(t)},copyConditionText:function(){let r=e("#condition-clipboard-icon"),i=t.hoveredConditionItem.text();navigator.clipboard.writeText(i),r.addClass("isClicked"),n.after_animation(r,{cb:function(){r.removeClass("isClicked")}})},show_popdown_content:function(e){e.addClass("expanded").closest(".toggle-popdown-content").addClass("on")},hide_popdown_content:function(e){e.removeClass("expanded").closest(".toggle-popdown-content").removeClass("on")},addLogicalCondition:function(t){let r=e("#logic-to-add"),n=r.val();if(n){let i=t.data("type"),a=e("#logic-search"),o=e("#mt-logic-expressions"),l="first"===i?n:o.val()+" "+i+" "+n;o.val(l),s.logic_textarea_changed(o),r.val(""),a.val("")}},updateLogicFields:function(e,n,i){i.expr=i.expr||"";var a,o=n.find("div.conditional-logic-form"),l=o.find("div.include-or-exclude"),c=l.hasClass("on"),u=o.find("textarea#mt-logic-expressions"),d=u.val(),p=o.find("div.inline-or-stylesheet"),f=p.hasClass("on"),h=o.find("span.mt-async-toggle"),_=h.hasClass("on");i.expr!=d&&(u.val(i.expr),r.isDefined(i.expr)?o.addClass("mt-has-expr"):o.removeClass("mt-has-expr")),Boolean(i.exclude)!==c&&(a=i.exclude?1:0,t.binary_button_clicked(l.find('.binary-button-option[rel="'+a+'"]'))),Boolean(i.css_external)!==f&&(a=i.css_external?1:0,t.binary_button_clicked(p.find('.binary-button-option[rel="'+a+'"]'))),Boolean(i.css_async)!==_&&r.toggle_radio_checkbox(h),"resetSettings"===e&&(o.removeClass("mt-has-expr"),s.hide_logic_testing_table())},updateMenuLoadingClasses:function(r){t.stat.mainMenuInner.find("li.section-tag").each((function(){let t=e(this),n=t.attr("id").replace("strk-",""),i=s.folderNotLoading(n),a="item-not-loading";i?t.addClass(a):t.removeClass(a),r&&s.update_styles_disabled_and_menu_classes(n,i,{},!0,!0)})),t.update_cur_item_apply_state(t.get_selector_in_focus(),"section")},expressionContainsLogic:function(e,t){return void 0!==e&&e.match(new RegExp("(?<!!\\s*)"+r.escapeRegExp(t)))},toggle_include_exclude:function(t,r,n){var i=e("#logic-to-add"),a=i.val().trim();if(a){let e=/(!)?\s*([a-z_]+)\(([^)]*?)\)\s*$/,t=a.match(e);if(t&&(r&&!t[1]||!r&&t[1])){let n=t[0],o=r?"!"+n:""+n.replace("!","");i.val(a.replace(e,o))}}},pushAndAccountForFull:function(e,n){let i=t.checkMaxedFolder(n.slug,1);if(i&&(n.folderFull=i),e.push(n),i){let i=t.ensure_unique_name(n.label,!1,"folderWithSpace"),a=r.convert_to_param(i);t.uiData[a]||e.push({slug:r.convert_to_param(i),expr:n.expr,label:i,priority:n.priority,createNewFolder:1})}},getTrimmedTitle:function(e,t){return e?(t=t||35,e.replace(new RegExp("^(.{"+t+"}\\S*).*"),"$1")):e},strip_redundant_parameters:function(e){if(e){let t=/is_post_or_page\(\d+(,\s*".+")\)/g;e=e.replace(t,((e,t)=>e.replace(t,"")))}return e},matchFolders:function(e){let i=Object.keys(t.uiData).filter((function(t){return"non_section"!==t&&(!e.excludeSection||t!==e.excludeSection)})),a=[],o=s.strip_redundant_parameters(e.logic),l=e.asyncCheck,c=n?n.getMTDynFrontData():{},u=c.logic||null,d=n?s.getTrimmedTitle(c.title):null,p=!1;e.reverseFolderKeys&&i.reverse();for(let n=0;n<i.length;++n){let d=i[n],f=r.checkObject(t.uiData,[d,"this","logic"])||{},h=t.uiData[d].this.label,_=s.strip_redundant_parameters(f.expr),g=!s.folderNotLoading(d),m=s.folderIsEffectivelyGlobal(d,_),v=_===o,y=s.expressionContainsLogic(_,o),b=h.indexOf(e.labelRoot)>-1,w=h===e.labelCounterpart;if(("both"===e.type||"conditional"===e.type&&!m||"global"===e.type&&m)&&("logic"!==e.match||null===o||v||e.contains&&y)&&(!e.checkLoading||g)&&(void 0===l||!!f.css_async===l)&&(!e.folderBlockContext||!s.folderBlockMismatch(d,e.folderBlockContext.triggerElIsInBlockEditor,c))){let r,i=m?"global":"conditional",o=t.pref.prev_folder[i]===d;"logic"===e.match?r=v?1:y?2:3:"label"===e.match&&(r=w?1:b?2:3),s.pushAndAccountForFull(a,{slug:d,expr:_,order:n,isAsync:f.css_async?1:0,global:"global"===i?1:0,curFolder:t.curSec===d,prevFolder:o&&t.uiData[o]?1:0,labelCounterpartMatch:w,label:h,priority:r})}("conditional"===e.type&&u&&u===_||s.expressionContainsLogic(_,u))&&(p=!0)}if(e.returnList){if("conditional"===e.type&&e.addPageLogicIfMissing&&u&&!p){let n=t.ensure_unique_name(d,!1,"folderWithSpace"),i={slug:r.convert_to_param(n),expr:u,label:n,priority:1,createNewFolder:1};if(e.returnNewFolder)return i;a.push(i)}return e.sortCallback&&e.sortCallback(a),a}return e.sortCallback&&e.sortCallback(a),!!a.length&&(e.returnObject?a[0]:a[0].slug)},autoFolderOptions:function(e,n,i){var a="global"===n?TvrLang.set_initial_global_folder:TvrLang.set_initial_conditional_folder;i&&(t.pref.auto_folders_page="global"===n?0:1),t.toggle_context_menu({$clicked:e,filter:".cm-switch-folder-mode",relatedto:"auto_folders_mode",mode:n,title:a,transformOrigin:"bottom-left",noWidthOffset:1,offsetSpacingLeft:0,offsetSpacingBottom:6,before_open:function(e){e.$content.find("div.folder-options-list");let n=e.$content.find(".toggle-move-current-item");t.draftInProgress()?r.check_fake(n):r.uncheck_fake(n),MTlocal.clean_tooltips();let i="",a=s.matchFolders({type:"page"===e.mode?"conditional":"global",match:"logic",logic:null,contains:!0,checkLoading:!0,returnList:!0,addPageLogicIfMissing:!0});for(let e=0;e<a.length;++e){let n=a[e],o="",l="",c="",u="";n.createNewFolder&&(l=" mt-folder-new",o=TvrLang.new,c=' title="Create a new folder to target this page"',u=' data-create-new-folder="1"'),n.folderFull&&(l=" mt-folder-full",o="("+t.maxSelsPerFolder+"/"+t.maxSelsPerFolder+")"),n.curFolder&&(l+=" mt-folder-current",o="("+TvrLang.current+")"),n.expr&&!s.hasGlobalCondition(n.expr)&&(l+=" item-conditional"),i+='<div class="initial-auto-folder'+l+'"'+c+u+' data-expr="'+r.regular_escape_quotes(n.expr)+'" data-slug="'+n.slug+'" data-folder-badge="'+o+'">'+n.label+"</div>"}e.$content.find("div.folder-options-list").html(i)},after_close:function(e){}})},setInitialAutoFolder:function(r){let n=r.sectionSlug,i=r.sectionH;if(t.uiData[n]||(r.logic&&(t.applyLogicToFolder=r.logic),t.add_section(i)),r.move_current){let r=t.get_selector_in_focus(),a=t.draftInProgress();t.modify_selector_if_values_changed(r,a,r,e.extend(!0,{},r,{sectionSlug:n,sectionH:i}))}else t.pref.show_code_editor||(t.update_current_selector_controls(!1,{sectionH:i,selectorH:"Placeholder selector",selectorCode:"#mt-no-element"}),t.create_or_update_draft_selector(!1,!0,{}));r.closeContextMenu&&MTlocal.close_context_menu()},folderBlockMismatch:function(e,n,i){i.isAdminArea&&parseInt(t.pref.admin_asset_editing);let a=r.checkObject(i,["folderLoading",e]),o="blocksOnly"===a;return!(!i.isAdminArea||void 0===a||"empty"===a)&&(!r.in_array(e,t.draftFolders)&&n&&!o||!n&&o)},maybeUseAutoOrAvailableFolder:function(e){let i=e.sectionSlug,a=e.sectionH,o=a,l=i,c=!1,u=!!t.folderNameCustomized&&t.stat.curSecInput.val(),d=!!u&&r.convert_to_param(u);if(parseInt(t.pref.auto_folders)&&n){let p="",f="",h=parseInt(t.pref.auto_folders_page),_=s.folderIsEffectivelyGlobal(l)?0:1,g=s.folderNotLoading(l),m=_!==h,v=n.getMTDynFrontData(),y=n&&n.triggerEl&&n.triggerEl.closest("body.block-editor-iframe__body, div.is-root-container"),b={triggerElIsInBlockEditor:y,mismatch:s.folderBlockMismatch(l,y,v)},w=v.logic;if((m||b.mismatch)&&(e.forceNewFolder=!0),h){if(w){let o=s.getTrimmedTitle(v.title),f=u||o,h=parseInt(t.pref.fold_threshold),_=(n.firstElOverlay&&n.firstElOverlay.containerOffset?n.firstElOverlay.containerOffset:{top:0}).top>=h,m=r.checkObject(t.uiData,[l,"this","logic"])||{},y=s.folderIsAsync(m);if(g||e.forceNewFolder||y!==_){c=!u;let e=u?!!t.uiData[d]&&d:s.matchFolders({type:"conditional",match:"logic",logic:w,contains:!0,checkLoading:!0,folderBlockContext:b,asyncCheck:h?_:void 0,sortCallback:function(e){e.sort(r.firstBy("prevFolder",-1).thenBy("priority"))}});if(e)i=e,a=t.uiData[i].this.label;else{let e=_?" - "+TvrLang.below_fold:"";a=t.ensure_unique_name(f+e,!1,"folderName"),i=r.convert_to_param(a),v.folderLoading[i]="empty",t.applyLogicToFolder={expr:w},_&&(t.applyLogicToFolder.css_async=1,t.applyLogicToFolder.css_external=1),p="(new) "}}else if(!t.uiData[d]){let e=s.matchFolders({type:"conditional",match:"logic",logic:null,contains:!0,checkLoading:!0,returnList:!0,addPageLogicIfMissing:!0,returnNewFolder:!0});e&&e.createNewFolder&&e.slug===d&&(t.applyLogicToFolder={expr:w})}}}else if(g||e.forceNewFolder){let e=v.isBlockEditorScreen&&(!parseInt(t.pref.admin_asset_editing)||y),n=t.pref.prev_folder.global,o=u||(v.isAdminArea&&!e?TvrLang.admin_general:TvrLang.general);!u&&n&&t.uiData[n]&&!s.folderNotLoading(n)?(a=t.uiData[n].this.label,i=n):(a=o,i=r.convert_to_param(a),v.isAdminArea&&!e&&(t.applyLogicToFolder={expr:"is_admin()"})),c=!u,p="global "}t.notifyFolderChanged=!!c&&{short:"Auto folder assignment",long:"<p>The selector was moved to a "+p+"folder so that it targets the current page"+f+", from "+o+" to "+a+'</p><p>To prevent automatic folder assignment, uncheck "Auto folder" at the bottom right of the interface. You can also switch between global and page styles from there.</p>',type:"info"},l=i}return t.uiData[i]&&t.checkMaxedFolder(i,1)&&(a=t.ensure_unique_name(a,!1,"folderWithSpace"),i=r.convert_to_param(a),t.applyLogicToFolder=r.checkObject(t.uiData,[l,"this","logic"]),c||(t.notifyFolderChanged={short:tvrsprintf(TvrLang.notify_folder_limit_short,t.maxSelsPerFolder),long:"<p>"+tvrsprintf(TvrLang.notify_folder_limit_long,a,o)+"</p>",type:"info"})),{sectionSlug:i,rawSecName:a,applyLogicToFolder:t.applyLogicToFolder}},updatePrevFolder:function(e){if(t.uiData[e]){let r=s.folderIsEffectivelyGlobal(e)?"global":"conditional";t.pref.prev_folder[r]=e}},folderIsEffectivelyGlobal:function(e,n){return!s.folderIsConditional(e)||(n=n||r.checkObject(t.uiData,[e,"this","logic","expr"]),s.hasGlobalCondition(n))},hasGlobalCondition:function(e){return!!e&&e.match("^(!?)\\s*(is_admin|\\\\Microthemer\\\\is_public(?:_or_admin)?)\\(\\s*\\)$")},folderIsConditional:function(e){return r.checkObject(t.pref.asset_loading,["conditional",e])},folderIsAsync:function(e){return!!e.css_external&&!!e.css_async},folderIsDisabledForContext:function(e,t,r){let n=!1;return r&&r.isEditor&&!r.hasBlocks&&"blocksOnly"===t&&(n=!0),n},folderNotLoading:function(e,i){if(!n)return!1;let a=n.getMTDynFrontData();if(!a||"Error testing logic"===a.analysis)return!1;var o=a.folderLoading[e],l=void 0!==o,c=!l,u=r.checkObject(n,["stat","win","MTblock"])||{};return l&&!o||c&&a.isAdminArea&&(!a.isBlockEditorScreen||u&&u.isEditor||!t.adminAssetsEnabled())||i&&l&&s.folderIsDisabledForContext(e,o,u)},getFolderSelectorKeys:function(e){return t.uiData[e]?Object.keys(t.uiData[e]).filter((function(e){return"this"!==e})):[]},getSelectorDomIndexes:function(e,i){let a=e.sectionSlug,o=[],l=s.getFolderSelectorKeys(a);if(!l.length)return o;for(let e=0;e<l.length;e++){let i,s=l[e],c=t.uiData[a][s],u=c.label?r.strip_state_pseudo(c.label.split("|")[1]):"";try{i=u&&n.stat.doc.querySelector(u)}catch(e){}o.push({selectorSlug:s,id:"strk-"+a+"-"+s,domIndex:i?n.getElIndex(!1,i,!0):-1})}return i&&o.sort(r.firstBy("domIndex")),o},getPreviousSelectorBasedOnDomIndex:function(e,t){t=t||s.getSelectorDomIndexes(e,!0);let r=null,n=e.selectorM.index();for(let i=0;i<t.length;i++){let a=t[i],o=t[i-1];t.length;e.selectorSlug===a.selectorSlug&&(i===n?r=!1:o&&(r=o.id))}return r},maybeAutoSortSection:function(e,n,a){if(parseInt(t.pref.auto_folders)){if("dom"===e||"both"===e){let e,i=t.stat.mainMenuInner,a=!1,o=n.sectionSlug,l=s.folderIsEffectivelyGlobal(o),c=!l,u=!!(r.checkObject(t.uiData,[o,"this","logic"])||{}).css_async,d=t.uiData[o].this.label,p=d.split(new RegExp("_\\d+|Copy \\d+|- "+TvrLang.below_fold))[0],f=" - "+TvrLang.below_fold,h=u?d.replace(f,""):d+f,_=s.matchFolders({reverseFolderKeys:!0,excludeSection:o,type:c?"conditional":"global",match:"label",labelRoot:p,labelCounterpart:h,returnObject:!0,sortCallback:function(e){e.sort(r.firstBy("global",c?1:-1).thenBy("priority").thenBy("order"))}});if(!1===_)l&&(a=!0,n.sectionM.detach().prependTo(i));else{a=!0,e=n.sectionM.detach();let t="#strk-"+_.slug;c&&_.labelCounterpartMatch&&!u&&_.isAsync?e.insertBefore(t):e.insertAfter(t)}return a&&r.hasValue(t.selInFocusID)&&t.update_prev_next_sel_buttons(t.selInFocusID),a}if("js"===e||"both"===e)return a=i.reorder_after_copy(a,n.sectionM,!0),t.update_prev_next_sel_buttons(t.selInFocusID),a}return!1},maybeAutoSortSelector:function(e,r,n){let a=!1;if(parseInt(t.pref.auto_folders)){if("dom"===e||"both"===e){let e=s.getPreviousSelectorBasedOnDomIndex(r);if(!1!==e){a=!0;let t=r.sectionM.find("ul.selector-sub"),n=r.selectorM.detach();null===e?n.prependTo(t):n.insertAfter("#"+e)}t.scrollIntoView(t.folders_scrollable_area(),r.selectorM)}if("js"===e||"both"===e)return n=i.reorder_after_copy(n,r.selectorM,!0),t.update_prev_next_sel_buttons(t.selInFocusID),n}else"dom"===e&&t.scrollIntoView(t.folders_scrollable_area(),r.selectorM);return a},autoSortfolderListelectors:function(){},updateDraftFolderInSession:function(e,r){let n=r?"&delete_value=1":"";o.simple_ajax_request({type:"POST",url:t.ajaxUrl+"&update_draft_folder_session=1"+n,sendData:o.serialized_data_with_single_key(JSON.stringify(e)),skipQueue:1})}};return s}()})),jQuery(document).ready((function(e){TvrMT.mod.MThtml=function(){let t,r,n,i,a,o,s,l,c,u={set_vars:function(){r=TvrMT.TvrCom,t=TvrMT.TvrUi,n=TvrMT.MTF,i=TvrMT.mod.MTloop,a=TvrMT.mod.MTdd,o=TvrMT.mod.MTsave,s=TvrMT.mod.MTace,l=TvrMT.mod.MTfolder,c=TvrMT.mod.MTai},esbuild:null,refreshPreview(e){t.change_preview_url(t.stat.settingsMenu.find(".change-preview-url")),e&&e.removeClass("tvr-pulse")},getAspectType:function(e){return this.isAttribute(e)?"attributes string"===e?"attributes string":"attribute":e},checkValidCombo:function(e,t){let r=this.getAspectType(t),n={text:1,html:1,"inner html":1},i={"parent wrapper":1,"child wrapper":1},a={css:1,js:1,function:1};switch(e){case"add":case"prepend":case"append":return!0;case"insert before":case"insert after":return!i[r];case"replace":case"replace substring":return!i[r]&&!a[r];case"lazyload":return"html"===r;case"move":return n[r];case"remove":return!a[r];case"run":return"js"===r||"function"===r}return!0},generateRandomString(e=12){const t="abcdefghijklmnopqrstuvwxyz0123456789";let r="";for(let n=0;n<e;n++)r+=t.charAt(Math.floor(36*Math.random()));return r},generateSecureKey(e=20){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=[],n=new Uint8Array(e);window.crypto.getRandomValues(n);for(let i=0;i<e;i++)r.push(t[n[i]%62]);return r.join("")},attemptXPathConversion:function(e){let t="";try{t=TvrMT.convertToXpath(e)}catch(e){}return t},resolveSelectorXpath:function(e,t){let r=u.attemptXPathConversion(t);return e.val(r),r},resolveLazyId:function(e,t){"lazyload"!==t?e.val(""):e.val()||e.val(u.generateSecureKey())},resolveRelativeDom:function(e,t){return e||t?JSON.stringify(a.to_relative_dom_array(e,t,!0)):""},checkValidSnippetAndSetMeta:function(e,t,r,n,i){let a=e.groupTab.find("div.field-html-snippet").find("textarea.snippet-textarea"),o=t.val(),s=r.val()||r.data("resume-id");return s=u.storeSnippetInCache(r,s,u.getOrCreateSnippetName(o,s),o,a.next("pre"),n,i),u.snippetChanged=s,o?r.val(s).data("resume-id","").attr("value",s).attr("data-resume-id",""):r.val("").data("resume-id",s).attr("value","").attr("data-resume-id",s),!0},getRelevantSnippets:function(e){let r=t.get_meta(e,"group"),{aspect:n}=u.getFieldValues(r.groupTab,r,!0),i=u.getSubTypeFromAspect(null,n);return u.getTemplateNameComboData({filter:{key:"sub_type",value:i},newItem:{label:i,mode:u.getModeFromAspect(n)}})},getTemplateNameComboData:function(e){e=e||{};let t=Object.values(TvrMT.data.dyn.snippets.cache);t.sort(r.firstBy("sub_type"));e.filter;if(e.filter){let n=t.filter((t=>t[e.filter.key]===e.filter.value));n.sort(r.firstBy("mysql_date",-1)),n=n.map((e=>({...e,category:e.sub_type||"",label:e.name})));let i=[];return e.newItem&&i.push({category:"Create new",label:e.newItem.label,mode:e.newItem.mode}),i.concat(n)}return t.sort(r.firstBy("mysql_date",-1)),[{category:"Create new",label:"html",mode:"customhtml"},{category:"Create new",label:"css",mode:"css"},{category:"Create new",label:"js",mode:"javascript"},{category:"Create new",label:"function",mode:"javascript"}].concat(t)},updateEditorHeight:function(){if(t.doNotUpdateEditorHeight)return;let r=s.eds["snippet-code"];r&&s.editor_update_height(r,e(r.container),17.38*s.getWrappedLineCount(r)+2,1,"snippet-code")},destroyStaleSnippetEditor:function(){s.eds["snippet-code"]&&(s.eds["snippet-code"].destroy(),delete s.eds["snippet-code"])},quickBeautify(e,t){let n="css"===e?"css_beautify":"javascript"===e?"js_beautify":"html_beautify",i="css"===e?{}:"javascript"===e?{space_before_conditional:!0}:r.beautifyHTMLOpts;if("js_beautify"===n)try{const e=TvrMT.ai.beautify.esprima.parse(t,{ecmaVersion:2022,locations:!0});t=TvrMT.ai.beautify.escodegen.generate(e,{format:{indent:{style:"  "},space:" "}})}catch(e){return console.error("Error during beautification:",e),t}else window[n]&&(t=window[n](t,i));return"css"!==e&&"javascript"!==e||(t=t.replace("{}","{\n\t\n}")),t},updateSnippetEditor:function(n,i){i&&(n.code=u.quickBeautify(n.mode,n.code)),s.update_arbitrary_editor({context:"snippetCode",editorID:"snippet-code",filterClass:"snippet-code",mode:n.mode,directContent:n.code}),u.updateEditorHeight();let a=e("#snippet-code"),o=!!a.length&&t.get_meta(a,"group");if(o){let e=o.groupTab.find(".field-html-aspect").find(".property-input"),r=a.prev("textarea");u.maybeSetAspectFromMode(o,e,n.mode,n.code,n.aspect),r.val(n.code),t.adjust_comp_span(r,"after")}n.presentChoice&&u.displaySnippetChoiceOverlay(),n.selectText&&r.action_after_repaint({item:function(){s.select_text(n.selectText,s.eds["snippet-code"],!0)},args:[]},50)},displaySnippetChoiceOverlay:function(){let e=s.eds["snippet-code"];if(e&&e.container){e.container.classList.add("display-choice");e.container}},snippetChoiceMade:function(r){if("clone"===r.data("option")){t.get_meta(r,"group").groupTab.find("input.mt-snippet-id").val(u.generateSecureKey())}e("#snippet-code").removeClass("display-choice")},beautifyPaste:function(e,n,i,a){let o=s.eds["snippet-code"],l=o.getSession(),c=u.quickBeautify(e.mode,e.code),d=l.getUndoManager().$undoStack;o.setValue(c,-1),o.moveCursorTo(i.row,i.column),o.focus(),t.doNotUpdateEditorHeight=!1,u.updateEditorHeight(),r.action_after_timeout("merge_undo",1,{item:function(){if(d.length>1){const e=d.pop(),t=d[d.length-1];t[0].deltas=t[0].deltas.concat(e[0].deltas)}}})},beautifyPasteOrig:function(e,n,i,a){let o=s.eds["snippet-code"],l=o.getSession();if(n)t.doNotUpdateEditorHeight=!0,"customhtml"===e.mode?r.ww.assignTask({taskName:"beautifyHTMLTask",terminateOnCompletion:!0,code:e.code,mode:e.mode,cb:{ref:"mod.MThtml",funcName:"beautifyPaste",args:[!1,e.cursorBeforePaste]}}):"css"!==e.mode&&"javascript"!==e.mode||(e.code=window.css_beautify(e.code,{}),u.beautifyPaste(e,!1,e.cursorBeforePaste));else{let n=e.code,a=l.getUndoManager().$undoStack;o.setValue(n,-1),o.moveCursorTo(i.row,i.column),o.focus(),t.doNotUpdateEditorHeight=!1,u.updateEditorHeight(),r.action_after_timeout("merge_undo",1,{item:function(){if(a.length>1){const e=a.pop(),t=a[a.length-1];t[0].deltas=t[0].deltas.concat(e[0].deltas)}}})}},maybeInitNewSnippet:function(e){e.hasClass("ace_editor")||(u.updateSnippetEditor({code:"",mode:u.getModeFromAspect(u.getAspect(e))}),s.eds["snippet-code"].focus())},placeHolderSingleFunction:function(){return"function exampleFunction(element, event){\n\t\n}"},placeHolderCSSSelector:function(e){return e+" {\n\t\n}"},loadSnippet:function({referenceId:e,$snippetTextarea:n,group:i,mode:a,aspect:s,presentChoice:l,index:c,attsData:d,$text:p}){e=e||r.checkObject(i,["snippet_id","value",c]);let f=n.next("pre"),h=t.get_meta(n,"group");if(!e)return void t.adjust_comp_span(n,"after");let _=r.checkObject(TvrMT.data.dyn.snippets,["cache",e]),g=!!_&&_.value;if(g)s||(s=_.sub_type),u.useCodeEditor(s)?u.updateSnippetEditor({code:g,mode:u.getModeFromAspect(_.sub_type),presentChoice:l},!0):p&&(p.val(g),t.adjust_comp_span(p,"after"));else{if(!r.checkObject(TvrMT.data.dyn.snippets,["names",e]))return u.updateSnippetEditor({code:"",mode:u.getModeFromAspect(u.getAspect(f)),aspect:s}),void(p&&p.val(""));f.addClass("loading-snippet"),o.simple_ajax_request({skipQueue:1,url:t.ajaxUrl+"&get_single_snippet=1&snippet_id="+e,cbFunction:function(t,n){n.removeClass("loading-snippet");let i=h.groupTab.find("input.mt-snippet-id");if(t&&r.isDomEl(n,!0)){let r=JSON.parse(t);void 0!==r.content&&(u.updateSnippetEditor({code:r.content,mode:u.getModeFromAspect(r.sub_type),presentChoice:l},!0),u.storeSnippetInCache(i,e,r.name,r.content,n,r.sub_type))}},cbfArgs:[f]})}},codeIsSingleFunction(e){if(!e)return e;let t=e.match(/^\s*(\/\*[\s\S]*?\*\/|\/\/[^\n]*\n)*\s*function\s+(?<function_name>\w+)\s*\([^)]*\)\s*\{[\s\S]*?\}\s*(\/\*[\s\S]*?\*\/|\/\/[^\n]*\n)*\s*$/);return!(!t||!t.groups)&&t.groups.function_name},importStatement:function(e,t,r){let n=`npm/${t}.js`;return r&&r.match(n)?"":`import ${e} from '${t}';\n`},updateDeps:function(e,t,r,n){r[t]={importSyntax:e}},findDependenciesFromImports(e){let t,r={},n=u.importStatementRegex();for(;null!==(t=n.exec(e));){const e=t[1].trim(),n=t[2].trim();n.match(/\.jsm?$/)||r[n]||(r[n]={importSyntax:e})}return r},findDependenciesFromVars:function(e,t){const n={},i=["CustomEase","Draggable","Observer","Flip","MotionPathHelper","SplitText","ScrollSmoother","CustomWiggle","CustomBounce","GSDevTools"],a={"scrollTrigger:":"ScrollTrigger","easel:":"EaselPlugin",slow:"EasePack","expoScale(":"EasePack",rough:"EasePack","motionPath:":"MotionPathPlugin","pixi:":"PixiPlugin","scrollTo:":"ScrollToPlugin","text:":"TextPlugin","morphSVG:":"MorphSVGPlugin","drawSVG:":"DrawSVGPlugin","inertia:":"InertiaPlugin","physics2D:":"Physics2DPlugin","physicsProps:":"PhysicsPropsPlugin","scrambleText:":"ScrambleTextPlugin"},o=Object.keys(a).map(r.escapeRegExp),s=`(?<gsap>(gsap|${i.join("|")})\\.\\w+\\s*\\(((?:[^()]*|\\((?:[^()]*|\\([^()]*\\))*\\))*)\\))`,l=["GLTFLoader","DRACOLoader","OrbitControls","TransformControls"],c=`(?<three>(THREE|${l.join("|")})(?:\\.\\w+\\s*\\([^)]*\\))?)`,d=new RegExp(["\\b(?<alpine_directive>x-[\\w:-]+=['\"][^'\"]*['\"])","(?<alpine_event>@\\w+=['\"][^'\"]*['\"])","(?<alpine_core>\\bAlpine\\.\\w+\\b)",s,c,"(?:window\\.)?AF\\.(?<js_function>\\w+)\\s*\\([^)]*\\)"].join("|"),"g");let p;for(;null!==(p=d.exec(e));){if((p.groups.alpine_directive||p.groups.alpine_event||p.groups.alpine_core||p.groups.alpine_global)&&(u.updateDeps("Alpine","alpinejs",n,e),p.groups.alpine_directive)){const t=p.groups.alpine_directive.match(/x-(mask|intersect|resize|persist|focus|trap|collapse|anchor|morph|sort)/);if(t){let i=t[1];"trap"===i&&(i="focus"),u.updateDeps(r.capitalizeFL(i),"@alpinejs/"+i,n,e)}}if(p.groups.gsap){u.updateDeps("gsap","gsap",n,e);let t,r=new RegExp(`(${i.concat(o).join("|")})`,"g");for(;null!==(t=r.exec(p.groups.gsap));){let r=t[0];a[r]&&(r=a[r]),u.updateDeps(r,"gsap/"+r,n,e)}}if(p.groups.three){u.updateDeps("* as THREE","three",n,e);const t=p.groups.three.match(new RegExp(`(${l.join("|")})`));if(t){const r=t[0],i=u.getPackNameFromAddonName(r,"three/"+r);u.updateDeps("{ "+r+" }",i,n,e)}}if(p.groups.js_function){n["tvrjs-"+p.groups.js_function]={},n.has_func_ref=1}}return n},getPackNameFromAddonName(e,t){for(const[t,r]of Object.entries(TvrMT.data.prog.native_packages))if(r.addonName===e)return t;return t},getAspect:e=>t.get_meta(e,"group").groupTab.find(".field-html-aspect").find(".property-input").val(),matchCodeType:function(e){let t;let n=e.match(/^(?<customhtml>\s*[^<]*<[\w\W]+>)|(?<css>\s*(\/\*[\s\S]*?\*\/)?\s*(@[\w-]+|[.#\w-]+\s*\{))|(?<javascript>\s*(\/\*[\s\S]*?\*\/)?\s*(class|function|var|let|const|if|for|[\w$]+\s*=))/g);return t=r.checkObject(n,["groups","customhtml"])?"customhtml":r.checkObject(n,["groups","css"])?"css":"javascript",t},getSubTypeFromAspect:function(e,t,r){return e||(e="html",(t=t||u.getAspect(r)).match(/^(js|css|function)/)&&(e=t)),e},getModeFromAspect:function(e,t){let r="customhtml";if(e){let t=e.match(/^(css|js|function)/);t&&(r="css"===t[1]?"css":"javascript")}else t&&(r=u.matchCodeType(t));return r},getAspectFromMode:function(e,t){let r="html";switch(e){case"css":r="css";break;case"javascript":r=u.codeIsSingleFunction(t)?"function":"js"}return r},setAspectIfDifferent:function(e,t,r){(e.val()||"html")!==t&&e.val(t)},maybeSetAspectFromMode:function(r,n,i,a,o){if(s.eds["snippet-code"]){let r=t.get_meta(e("#snippet-code"),"group").groupTab.find(".field-html-aspect").find(".property-input");o?u.setAspectIfDifferent(r,o,a):i!==u.getModeFromAspect(r.val())&&(o=u.getAspectFromMode(i,a),u.setAspectIfDifferent(r,o,a))}},maybeUpdateSnippetSubType:function(e,t){let r=TvrMT.data.dyn.snippets;e&&r.cache[e]&&["html","css","js","function"].includes(t)&&(r.cache[e].sub_type=t,r.cache[e].changed=1)},switchEditorMode:function(e){let t=s.eds["snippet-code"];if(t){let r=u.getModeFromAspect(e);t.getSession().setMode("ace/mode/"+r)}},maybeAppendSnippets:function(e){let t="";if(TvrMT.data.dyn.ui_config.supportContent){let n=r.checkObject(e,["styles","html","snippet_id","value"]);n&&n.forEach((e=>{if(e){let r=TvrMT.data.dyn.snippets.cache[e];r&&"css"===r.sub_type&&(t+="/*^^ css snippet ("+e+") ^^*/\n"+r.value+"\n")}}))}return t},maybeAddSnippetsToPostData:function(e){let t=TvrMT.data.dyn.snippets||{},n=t.cache||{},i={},a=t.deleted,o=a&&r.obj_length(a)?structuredClone(a):null;Object.entries(n).forEach((([e,t])=>{t.changed&&(i[e]=t,delete t.changed)})),o&&Object.entries(o).forEach((([e])=>{delete TvrMT.data.dyn.snippets.deleted[e]})),e.snippet_cache=r.obj_length(i)?i:null,e.snippets_deleted=o},deleteSnippet(e){delete TvrMT.data.dyn.snippets.cache[e],TvrMT.data.dyn.snippets.deleted[e]=1},storeSnippetInCache:function(e,t,n,i,a,o,s){!t&&e&&(t=e.data("resume-id")||u.generateSecureKey(),e.val(t).attr("value",t)),o=u.getSubTypeFromAspect(o,null,a);let l=TvrMT.data.dyn.snippets.cache[t],c=l&&l.meta?l.meta:{},d=u.findDependenciesFromVars(i);return c.auto_script_deps=d,r.obj_length(c.auto_script_deps)||delete c.auto_script_deps,c.imported_script_deps=u.findDependenciesFromImports(i),r.obj_length(c.imported_script_deps)||delete c.imported_script_deps,s||""!==i||r.obj_length(c)?TvrMT.data.dyn.snippets.cache[t]={name:n,value:i,meta:c,sub_type:o,func_ref:d.has_func_ref?1:0,changed:1}:u.deleteSnippet(t),t},snippetTemplateSelected:function(e,r,n,i){let a=r.item.id||"",o=r.item.mode,s=o?r.item.label:void 0,l=t.get_meta(n,"group");l.groupTab.find("input.mt-snippet-id").val(a),n.hasClass("mt-load-snippet")&&(r.item.value="",n.val("")),u.loadSnippet({referenceId:a,$snippetTextarea:l.groupTab.find(".field-html-snippet").find("textarea.property-input"),group:null,index:l.groupIndex,mode:o,aspect:s,presentChoice:!!a})},isValidHTML:function(e){const t=(new DOMParser).parseFromString(e,"text/html").querySelector("parsererror");let r=null;if(t){const t=document.createElement("div");t.innerHTML=e,r=t.innerHTML}return{error:t,corrected:r}},ensureUniqueFunctionName:function(e,t){let r=Object.values(TvrMT.data.dyn.snippets.cache);r=r.filter((e=>e.id!==t));let n={};r.forEach((e=>{"function"===e.category&&(n[e.name]=1)}));let i=e,a=2;for(;n[e];)e=i+a,a++;return e},syncFuncToRunName:function(r){let n=e("#snippet-code");if(n.length){let e=t.get_meta(n,"group").groupTab.find("input.mt-function-to-run");r!==e.val()&&e.val(r)}},extractJunctureInfo:function(e){let t={};return e.includes("_once")&&(t.once=1,e=e.replace("_once","")),e.includes("_delay")&&(e=e.replace(/(\w+)_delay(?:_(\d+))?/,((e,r,n)=>(t.delay=n?parseInt(n,10):18,r)))),e.includes("_lazy")&&(t.lazy=1,e=e.replace("_lazy","")),t.native=e,t},getCaretPosition(e,t){let r=0;if(t.rangeCount>0){let n=t.getRangeAt(0),i=n.cloneRange();i.selectNodeContents(e),i.setEnd(n.startContainer,n.startOffset),r=i.toString().length}return r},placeholderOverlayClicked(e){let r=t.get_meta(e,"property"),{action:n,aspect:i,$text:a,$snippet_id:o,snippet_id:l,$snippet:c}=u.getFieldValues(r.groupTab,r,!0),d=r.propertySlug,p=r.property.find(".property-input"),f="text"===d,h=a[0],_=e[0],g=window.getSelection(),m=u.getCaretPosition(_,g),v=_.innerText;if(i||(i="html"),l||(l=u.storeSnippetInCache(o,"","","",c.next("pre"),i,!0),o.val(l)),f)h.value=v,h.focus(),h.setSelectionRange(m,m),h.scrollTop=0;else{let e=u.getModeFromAspect(i),t="function"===i;if(u.updateSnippetEditor({code:v,mode:e,aspect:i,selectText:t?"exampleFunction":null},!1),!t){let e=s.eds["snippet-code"];if(e){let t=e.session.getDocument().indexToPosition(m);e.moveCursorTo(t.row,t.column),e.focus()}}}e.addClass("hidden"),t.adjust_comp_span(p,"after"),u.uiFieldAdjusted(r,p)},presetTabData:function(e){return t.defaultTabValues.html.values[e]},toggleActionAspect:function(e){let r=parseInt(e.attr("data-showing"))?0:1,n=t.get_meta(e,"group");u.adjustActionAspectDisplay(n,r,e)},updateTabData:function(e,t,r){let n=e.groupTab.find(".multi-tab.active");n.length&&Object.entries(t).forEach((([e,t])=>{t=t||("action"===e?r?r.action:"[none]":r?r.action:"[html]"),n.find(".mt-tab-txt").attr("data-"+e,t)}))},adjustActionAspectDisplay:function(r,n,i){let{$actionField:a,$aspectField:o}=u.getFieldValues(r.groupTab,r),s=a.add(o);n?(s.addClass("show").find(".property-input").each((function(){t.adjust_comp_span(e(this),"after")})),i.attr("data-showing",1),t.refresh_comp_css()):(s.removeClass("show"),i.attr("data-showing","0"))},uiFieldAdjusted:function(e,n){let{groupIndex:i,$action:a,action:o,$aspect:s,aspect:l,$text:c,text:d,$snippet_id:p,snippet_id:f,$snippet:h,snippet:_,$xpath:g,$lazy_id:m,move_to_selector:v,move_to_relative:y,$move_relative_dom:b}=u.getFieldValues(e.groupTab,e,!0),w=u.presetTabData(i),T=u.resolveSelectorXpath(e.selectorM.find("input.selector-xpath"),e.selectorCode),x=e.propertySlug,k=n.val(),S=r.get_js_object_data([e.sectionSlug,e.selectorSlug,"styles",e.groupSlug],e.tabSlug).data,C=(r.checkObject(S,["aspect","value",i])||"")!==l;if(r.updateObject(t.uiData,[e.sectionSlug,e.selectorSlug,"xpath"],T),"selector"===x&&u.resolveSelectorXpath(g,k),"action"!==x&&"aspect"!==x||u.updateTabData(e,{[x]:k},w),"action"===x)u.resolveLazyId(m,k);else if("aspect"===x){e.groupTab.find("div.field-html-snippet.show").length&&u.maybeUpdateSnippetSubType(f,l),C&&(c.val(""),d="",p.val(""),_="")}else"snippet"===x?u.checkValidSnippetAndSetMeta(e,h,p,l):"text"===x?u.checkValidSnippetAndSetMeta(e,c,p,l):"move_to_selector"!==x&&"move_to_relative"!==x||b.val(u.resolveRelativeDom(v,y));if("snippet"===x||"text"===x){let e="snippet"===x?_:d,n="snippet"===x?h:c;t.adjust_comp_span(n,"after"),w&&(e?(a.val()||a.val(w.action),s.val()||s.val(w.aspect)):o===w.action&&l===w.aspect&&(a.val(""),s.val("")),t.adjust_comp_span(a,"after"),t.adjust_comp_span(s,"after")),t.get_local_window_function("maybe_hide_mt_highlight")(),r.action_after_timeout("hide_highlight_for_text",1e3,{item:function(){t.get_local_window_function("maybe_reinstate_mt_highlight")()}})}let M=e.groupTab.find(".amender-settings-advice");return u.checkValidCombo(o,l)?M.removeClass("show"):M.addClass("show"),u.maybeAdjustFieldDisplay(e,w),{}},maybeAdjustFieldDisplay:function(t,n,i){n=n||{};let a=t.groupTab.find("div.field-html-action").find(".property-input").val()||n.action||"",o="run"===a?"function":"html",s=t.groupTab.find("div.field-html-aspect").find(".property-input").val()||n.aspect||o,l="move"!==a&&"remove"!==a&&"lazyload"!==a,c=["html","inner html","css","js","function"].includes(s),d=l&&!c;!i||a&&"[none]"!==a||"html"!==s||u.adjustActionAspectDisplay(t,!0,t.groupTab.find(".toggle-action-aspect")),t.groupTab.find(".conditional-field").each((function(){let n,i=e(this),o=i.find(".property-input"),u=o.attr("rel");if(a||"action"===u||"aspect"===u)switch(u){case"text":case"load_snippet":case"snippet":case"snippet_name":case"add_dependency":l?"text"===u?n=c?"remove":"add":(n=c?"add":"remove","add_dependency"===u&&"css"===s&&(n="remove")):n="remove";break;case"move_to_selector":case"move_to_relative":case"move_action":n="move"===a?"add":"remove";break;case"find":n="replace substring"===a?"add":"remove";break;case"tag":n="parent wrapper"===s||"child wrapper"===s?"add":"remove"}else n="remove";if(n){i[n+"Class"]("show"),"remove"===n&&o.val("")}if(d){let e="parent wrapper"===s||"child wrapper"===s?"Attributes string":"class"===s?"Classes":r.capitalizeFL(s);t.groupTab.find("div.field-html-text").find(".mt-property-text-label").text(e)}})),"move"===a&&u.updateMoveDisplayState(t),u.npm.updateSnippetFormFields(t,c)},updateMoveDisplayState:function(e,t){let r=e.groupTab.find("div.field-html-move_to_display").find(".property-input"),n=parseInt(r.val())?" on":"",i=e.groupTab.find("div.field-html-move_to_selector"),a=e.groupTab.find("div.field-html-move_to_relative");if(t){let e;n?(e=0,n=""):(e=1,n=" on"),r.val(e).attr("value",e)}n?(i.addClass("hidden-binary").find(".property-input").val(""),a.removeClass("hidden-binary")):(a.addClass("hidden-binary").find(".property-input").val(""),i.removeClass("hidden-binary"));const o='Move to: <div class="move-html-display mt-binary-buttons'+n+'" data-run="mod.MThtml.toggleMoveDisplay"><span class="move-selector binary-button-option" rel="0" title="Specicify where to move using a CSS selector">Selector</span><span class="move-relative binary-button-option" rel="1" title="Specicify where to move using a jQuery-style relative expression e.g closest(.container).find(li)">Relative</span></div>';i.add(a).find(".mt-property-text-label").html(o)},maybeApplyGroupPreset:function(e,n){const{$action:i,action:a,$aspect:o,aspect:s,snippet_id:l,text:c}=u.getFieldValues(e,n);let d=r.get_js_object_data([n.sectionSlug,n.selectorSlug,"styles",n.groupSlug],n.tabSlug).data,p=t.getGroupIndex(n.sectionSlug,n.selectorSlug,n.groupSlug,n.selectorM),f=t.getMultiTabInfo(p,n.groupSlug,d);f&&f.attsData&&(a||(i.val(f.attsData.action),t.adjust_comp_span(i,"after")),s||(o.val(f.attsData.aspect),t.adjust_comp_span(o,"after")))},getFieldValues:function(e,r,n,i=["action","aspect","text","snippet_id","snippet","junction","selector","xpath","lazy_id","move_to_selector","move_to_relative","move_relative_dom"]){let a=t.getGroupIndex(r.sectionSlug,r.selectorSlug,r.groupSlug,r.selectorM),o=u.presetTabData(a),s={groupIndex:a,presetTabData:o};return i.forEach((t=>{let r=e.find("div.field-html-"+t),i=r.find(".property-input"),a=i.val();a||!n||!o||"action"!==t&&"aspect"!==t||(a=o[t]),s["$"+t+"Field"]=r,s["$"+t]=i,s[t]=a})),s},getInitialFieldValue:function(e,t,i,a,o,s=!0){if(a)return a;let l="",c=n&&r.isDomEl(n.triggerEl)?n.triggerEl[0]:null;return c?"text"===e?"replace"===t&&("text"===i?l=s?u.quickBeautify("customhtml",c.innerHTML):c.innerHTML:"attributes string"===i&&c.attributes?l=Array.from(c.attributes).map((e=>`${e.name}="${e.value}"`)).join(" "):u.isAttribute(i)&&(l=c.getAttribute(i))):"replace"===t?"html"===i?l=s?u.quickBeautify("customhtml",c.outerHTML):c.outerHTML:"inner html"===i&&(l=s?u.quickBeautify("customhtml",c.innerHTML):c.innerHTML):"add"===t&&"css"===i?l=u.placeHolderCSSSelector(o):"run"===t&&"function"===i&&(l=u.placeHolderSingleFunction()):u.pendingPrepopulateDOMContent=!0,l&&(l=l.replace(r.mtArtificalClassRegex(),"")),l},toggleMoveDisplay:function(e){const r=t.get_meta(e,"property");u.updateMoveDisplayState(r,!0),o.ajax_save_settings({$property:r.property})},collectActiveMods:function(e,n,i,a){if(l.folderNotLoading(e.section_key))return;let o=r.checkObject(e.selector,["styles","html"]);if(!o)return;let s=e.settings.mqMap[e.recurse.mq_key],c=e.section_key+"_"+e.selector_key,d=u.convertModArrayFormat(o,n),p=a.label.split("|"),f=p?p[1]:"",h=e.settings.frontMods.mods,_=e.settings.modUsage;d.forEach(((e,n)=>{let i=[],a=u.extractJunctureInfo(e.juncture||("function"===e.aspect?"DOMContentLoaded":"lazyload"===e.action?"serverHTMLReady":t.pref.default_amender_event));const o=a.native;delete a.native;const l=e.selector||f,d=e.snippet_id,p=[o,s,c,"mods",n].join("|"),g=[o,s,c],m=r.checkObject(h,g),v=r.checkObject(m,["selectorCode"]),y=["mods",n,"mod"],b=r.checkObject(m,y),w=b&&b.selector?b.selector:v,T=d&&_.snippetChanged===d;let x;if(b?l!==w||T||JSON.stringify(e)!==JSON.stringify(b)?x="changed":(x="same",a=m.mods[n].meta,i=m.mods[n].undo):x="added",_.comparison[p]=x,_.events[o]=1,d){let e=r.checkObject(TvrMT.data.dyn.snippets,["cache",d]);if(_.snippets[d]=e?e.value:"",e){let r=u.getTotalScriptDeps(e,!0);Object.entries(r).forEach((([e,r])=>{if(_.npm_dependencies_in_use[e]=1,!t.pref.npm_dependencies_in_use[e]&&!t.pref.npm_dependencies[e]&&!_.npm_dependencies_added[e]){let r=TvrMT.data.prog.native_packages[e];if(r&&r.rel){let e=r.rel;t.pref.npm_dependencies_in_use[e]||t.pref.npm_dependencies[e]||(_.npm_dependencies_in_use[e]=1,_.npm_dependencies_added[e]=1)}_.npm_dependencies_added[e]=1}}))}}r.updateObject(_.mods,[o,s,c,"selectorCode"],f),r.updateObject(_.mods,[o,s,c,"mods",n],{undo:i,meta:a,mod:e})}))},convertModArrayFormat:function(e,t){let n=[];for(const i in e)if(e.hasOwnProperty(i)){const a=e[i];for(const e in a)if(a.hasOwnProperty(e)){const o=a[e];"xpath"!==i&&o.forEach(((e,a)=>{1==r.checkObject(t,["pg_disabled","changehtml",a])||""===e||(n[a]||(n[a]={}),n[a][i]=e)}))}}return n},showInstallPopup(t,r){let n=e("#tvr-install-popup");n.find(" > div").not(t).removeClass("show"),n.find(".install-title").text(r),n.find(t).addClass("show"),n.addClass("show-popup")},async maybeAddNewDependencies(r,n){if(!parseInt(t.pref.npm_dependencies_detect))return;let i=Object.keys(r.npm_dependencies_added),a="",o=!1;if(i=i.filter((e=>TvrMT.data.prog.native_packages[e])),i.length){i.forEach((e=>{let t=TvrMT.data.templates.detected_package_item;a+=t.replace(/\{packName}/g,e).replace(/\{size}/g,TvrMT.data.prog.native_packages[e].size)})),e("#tvr-install-popup").find(".detected-packages").find("ul").html(a),n&&this.showInstallPopup(".detected-packages","Install Detected Packages")}JSON.stringify(t.pref.npm_dependencies_in_use)!==JSON.stringify(r.npm_dependencies_in_use)&&(t.pref.npm_dependencies_in_use=r.npm_dependencies_in_use,o=!0),o&&u.npm.saveDependencies()},async installDetectedPackages(t){let r=!1,n=t.closest(".detected-packages").find("li").toArray();for(const i of n){let n=e(i),a=n.find(".fake-checkbox");if(a.hasClass("on")){a.addClass("hidden");let i=n.find(".mt-loader-icon");i.removeClass("hidden");let o,s=n.data("package"),l=TvrMT.data.prog.native_packages[s];if(l){let t=s;l.isAddon&&(t="https://cdn.jsdelivr.net/npm/"+l.cdn),o=await u.npm.addDependency(e("#add-npm-dependency"),t,!1,{},!0)}i.addClass("hidden"),n.find(".detected-dependency-"+(o?"success":"failed")).removeClass("hidden"),o&&(r=!0,t.replaceWith('<span class="done-npm-install">Done!</span>'))}}r&&u.npm.saveDependencies((function(e){u.refreshPreview()}),[])},animateRefreshButton(){let e=t.get_selector_in_focus(),r=e?e.selector.find("span.html-content-refresh"):null;r&&r.addClass("tvr-pulse")},modificationsUpdated:function(e){if(t.retargetSelector)return!1;u.maybeAddNewDependencies(e,!0);let i=n.stat.win.TvrEventManagerInstance;i&&(i.updateMods(e),e.requiresPageRefresh&&u.animateRefreshButton(),r.action_after_timeout("html_mod_updated",100,{item:function(){t.iframeEditing()&&n.select_current_selector_elements({scroll:!1})}}))},getOrCreateSnippetName:function(e,t){let n=TvrMT.data.dyn.snippets.cache[t];if(n){let e=r.checkObject(n,["meta","manual_name"]);if(e)return e}if(!e)return u.syncFuncToRunName(""),"";let i=u.codeIsSingleFunction(e);return i&&t?(u.syncFuncToRunName(i,t),i):(u.syncFuncToRunName(""),e.substring(0,50))},getMySQLTimestamp:function(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}:${String(e.getSeconds()).padStart(2,"0")}`},timeAgo:function(e){const t=new Date,r=new Date(e),n=Math.floor((t-r)/1e3);if(n<60)return`${n} seconds ago`;const i=Math.floor(n/60);if(i<60)return`${i} minutes ago`;const a=Math.floor(i/60);if(a<24)return`${a} hours ago`;const o=Math.floor(a/24);if(o<7)return`${o} days ago`;const s=Math.floor(o/7);if(s<4)return`${s} weeks ago`;const l=Math.floor(o/30);if(l<12)return`${l} months ago`;return`${Math.floor(o/365)} years ago`},isAttribute:function(e){return["attributes string","class","id","title","alt","contenteditable","hidden","href","rel","src","style","target","width","height","required","selected","autocomplete","checked","for","type","name","value","onblur","onchange","onclick","onfocus","oninput","onload","onmouseover","onmouseout","onmousemove","onselect","x-data","x-bind","x-on","x-text","x-html","x-model","x-show","x-transition","x-for","x-if","x-init","x-effect","x-ref","x-cloak","x-ignore"].includes(e)},useCodeEditor:function(e){return["html","inner html","css","js","function"].includes(e)},getTotalScriptDeps(t,r){let n=t&&t.meta||{},i=n.auto_script_deps||{},a=r&&n.imported_script_deps||{},o=n.manual_script_deps||{};return e.extend(!0,{},i,o,a)},importStatementRegex:()=>/import[ \t]+([*a-zA-Z0-9{}\-"',\s$]+?)\s+from\s+['"]([^'"]+)['"]/g,closeInstallPopup(t){e("#tvr-install-popup").removeClass("show-popup")},installThemeoverAddon(e){let r=e.data("addon");e.addClass("active"),o.simple_ajax_request({plus:"Installing "+r,minus:"Addon install failed",type:"GET",dataType:"json",url:t.ajaxUrl+"&install_tvr_addon="+r,cbFunction:function(e,r,n){e.success?window.location=t.uiUrl:(r.removeClass("active"),alert("Error installing addon"))},cbfArgs:[e,r]})},inspectButtonClicked(e){let i=e.data("view"),a=e.siblings(),o="data"===i?"debug_amends":"none"===i?"no_amends":"dyn_amends",s=r.strip_page_builder_and_other_params(n.get_current_url());a.removeClass("active"),e.addClass("active"),s=r.append_url_param(s,o),s=r.append_url_param(s,"ver",(new Date).getTime()),s+="#amender-data",u.inspectAmendsView=i,t.stat.iframeDoc.location=s},npm:{async toggleFieldForm(e,r){let n=e.closest(".field-has-form"),i=n.find(".edit-dep-form"),a=n.find(".main-text"),o=n.find(".edit-dependency");if(i.hasClass("hidden")?(i.removeClass("hidden"),o.add(a).addClass("hidden")):(r&&a.text(r),i.addClass("hidden"),o.add(a).removeClass("hidden")),o.hasClass("edit-version")){let e=i.find(".npm-version-input"),r=n.closest(".dependency-row").data("package"),a=r,o=t.pref.npm_dependencies[r];o.isAddon&&(a=o.rel),e.addClass("active",r,n),TvrMT.data.prog.combo.npm_version_input=await this.getPackageVersions(a),e.removeClass("active")}},async updateDependency(e){let r=e.hasClass("update-import-syntax"),n=e.closest(".field-has-form").find(".edit-dep-form").find("input").val(),i=e.closest(".dependency-row").data("package"),a=i,o=t.pref.npm_dependencies[i];if(r)o.importSyntax=n;else{o.isAddon&&(a=o.rel);let t=n;if(!await this.checkMeta(a,t,!0,o))return alert("Invalid version for package: "+t),!1;if(o.isInstalled){let t=await u.npm.getInstallPackages(i,o.isAddon,o,"https://cdn.jsdelivr.net/npm/"+o.cdn,1);t&&t.length&&u.npm.adjustInstall(e,{packages:t},"Updating local version","Update complete")}}u.npm.saveDependencies(),this.toggleFieldForm(e,n)},async deleteDependency(e){let r=e.closest(".dependency-row").data("package"),n=t.pref.npm_dependencies[r];n.isInstalled&&this.adjustInstall(e,{packages:[{install:0,isAddon:n.isAddon?1:0,cdn:n.cdn,local:n.local,package:r}]},"Uninstalling local version","Uninstall complete"),delete t.pref.npm_dependencies[r],u.npm.saveDependencies(),u.npm.updateDependencyTableRows(e.closest(".dependency-table-wrap").find(".dependency-rows"),t.pref.npm_dependencies)},async toggleDepDelivery(e,r){e.addClass("active");let n=e.closest(".dependency-row").find(".package-field").find("a"),i=e.closest(".dependency-row").data("package"),a=t.pref.npm_dependencies[i];r?a.isInstalled=1:delete a.isInstalled,n.attr("href",n.data(r?"local":"cdn"));let o=await u.npm.getInstallPackages(i,a.isAddon,a,"https://cdn.jsdelivr.net/npm/"+a.cdn,r);o&&o.length?u.npm.adjustInstall(e,{packages:o},r?"Installing locally":"Uninstalling locally","Update complete"):e.removeClass("active"),u.npm.saveDependencies()},toggleDefaultDepDelivery(e,r){t.pref.npm_default_local=r?1:0,o.save_multiple_preferences({npm_default_local:t.pref.npm_default_local})},adjustInstall(e,r,n,i,a){a=a||function(e,t){t&&t.removeClass("active"),u.refreshPreview()},o.simple_ajax_request({url:t.ajaxUrl+"&update_npm_install",type:"POST",dataType:"json",plus:n,minus:i,sendData:r,cbFunction:a,cbfArgs:[e]})},isValidUrl(e){try{return new URL(e),e}catch(e){return!1}},extractJSDeliverDetails:e=>e.match(/cdn\.jsdelivr\.net\/npm\/([^@]+)@([^/]+)\/(.+(\.js)|(\+esm))$/),async addDependency(r,n,i=!0,a={},o){let s=e("#mt-npm-search");n=n||s.val();let l="latest",c=parseInt(t.pref.npm_default_local);if(r.addClass("active"),!n)return a.error="Please choose a library to add",i&&alert(a.error),r.removeClass("active"),!1;let d={value:n},p=!1,f=this.isValidUrl(n),h=f?this.extractJSDeliverDetails(f):null;if(h&&"+esm"===h[5]&&(n=h[1],l=h[2],f=!1),t.pref.npm_dependencies[n])return a.error="Library has already been installed",i&&alert(a.error),r.removeClass("active"),s.val(""),!1;if(f){if(!h)return i&&(a.error="Please enter a valid URL from jsdelivr.com",alert(a.error)),r.removeClass("active"),!1;const[e,t,o,s]=h,l=s.split("/").pop().replace(".js","");p=1;const u=await this.checkFileSize(f,p);d={cdn:`${t}@${o}/${s}`,importSyntax:"three"===t?"{ "+l+" }":l,isInstalled:c,local:`${t}/${s}`,value:t+"/"+s.split(".")[0],version:o,isAddon:p,addonName:l,size:u,rel:t},n=d.value}else{let e=await this.checkMeta(n,l,!0,d);if(!e)return a.error="Error - package does not support JavaScript modules",i&&alert(a.error),r.removeClass("active"),!1;f=`https://cdn.jsdelivr.net/npm/${e.cdn}`}if(t.pref.npm_dependencies[n]=d,c){let e=await u.npm.getInstallPackages(n,p,d,f,1);e&&e.length&&(t.pref.npm_dependencies[n].isInstalled=1,this.adjustInstall(r,{packages:e},"Installing local version","Install complete"))}return o||u.npm.saveDependencies(),this.updateDependencyTableRows(r.closest(".dependency-table-wrap").find(".dependency-rows"),t.pref.npm_dependencies),r.removeClass("active"),s.val(""),a},async getInstallPackages(e,r,n,i,a){let o;if(a){const n=new c.deps.npmBundler({isAddon:r});if(n){let r=await n.bundle(i);o=r.outputFiles,t.pref.npm_dependencies[e]&&(t.pref.npm_dependencies[e].size=r.totalSize)}}else o=[{install:a?1:0,local:n.local,cdn:n.cdn,package:e,isAddon:r?1:0}];return o},browseAddons(e){let r=e.closest(".dependency-row").data("package"),n=t.pref.npm_dependencies[r],i=e.data("browse").replace("{version}",n.version);window.open(i,"_blank")},copyImportSyntax(e){let r=e.closest(".dependency-row").data("package"),i=t.pref.npm_dependencies[r];navigator.clipboard.writeText(u.importStatement(i.importSyntax,r)),e.addClass("isClicked"),n.after_animation(e,{cb:function(){e.removeClass("isClicked")}})},saveDependencies:function(e,r){o.simple_ajax_request({skipQueue:1,url:t.ajaxUrl+"&update_npm_dependencies=1",type:"POST",sendData:{runEvenIfEmpty:"yes",npm_dependencies:t.pref.npm_dependencies,npm_dependencies_in_use:t.pref.npm_dependencies_in_use},dataType:"json",cbFunction:e,cbfArgs:r})},dependencyInUse:e=>parseInt(t.pref.npm_dependencies_in_use[e]),updateDependencyTableRows(e,n){let i="",a=Object.keys(n).map((e=>({pkgName:e,...n[e]})));a.sort(r.firstBy("value").thenBy("isAddon")),a.forEach((e=>{let r=e.pkgName,n=structuredClone(e),a=TvrMT.data.templates.dependency_row,o=TvrMT.data.prog.npm_addons[r];n.inUse=this.dependencyInUse(r)?"Yes":"No",n.hiddenAddons=o?"":"hidden",n.browseAddons=o&&o.browse?o.browse:"",n.linkToFile=parseInt(n.isInstalled)?t.microUrl+"mt/js/draft/npm/"+n.local:"https://cdn.jsdelivr.net/npm/"+n.cdn,Object.entries(n).forEach((([e,t])=>{let r=new RegExp(`{${e}}`,"g");"size"===e&&t&&(t=parseFloat(t).toFixed(2)),a=a.replace(r,t||"")})),parseInt(n.isInstalled)&&(a=a.replace("mt-binary-buttons","mt-binary-buttons on")),i+=a})),e.html(i)},updateSnippetFormFields(r,n){let{snippet_id:i,aspect:a}=u.getFieldValues(r.groupTab,r,!0),o=r.groupTab.find(".dependency-rows");if(i){let n="",a=TvrMT.data.dyn.snippets.cache[i],s=a&&a.meta?a.meta:{},l=s.auto_script_deps||{},c=s.manual_script_deps||{},u=e.extend(!0,{},l,c);Object.entries(u).forEach((([e,r])=>{let i=structuredClone(r),a=TvrMT.data.templates.snippet_dependency_row,o=t.pref.npm_dependencies[e];i.autoDisabled=i.autoDisabled?"on":"",i.value=e,i.disabledHidden=l[e]?"":"hidden",i.removeHidden=i.disabledHidden?"":"hidden",i.importSyntax=i.importSyntax||(o?o.importSyntax:""),i.importSyntaxPlaceholder=i.importSyntax,i.manualImportSyntax=i.manualImportSyntax||"",i.manualPackName=i.manualPackName||"",i.autoPackName=l[e]?e:"",Object.entries(i).forEach((([e,t])=>{let r=new RegExp(`{${e}}`,"g");a=a.replace(r,t||"")})),n+=a})),o.html(n);let d=r.groupTab.find(".snippet-name-input"),p=s.manual_name||"";a&&a.name&&a.name;d.val(p)}let s=r.groupTab.find(".snippet-name-wrap");n?s.removeClass("hidden"):s.addClass("hidden");let l=r.groupTab.find(".snippet-dependency-table-wrap");"js"===a||"function"===a?l.removeClass("hide-import-field"):l.addClass("hide-import-field")},addSnippetDependency(e){let r=t.get_meta(e,"group"),{$snippetField:n}=u.getFieldValues(r.groupTab,r),i=TvrMT.data.templates.snippet_dependency_row.replace("{disabledHidden}","hidden").replace(/\{[^}]+}/g,"");n.find(".dependency-rows").append(i)},updateSnippetDependency(n){let i=t.get_meta(n,"group"),a=n.closest(".dependency-rows"),{snippet_id:s,$snippet_id:l,$snippet:c,aspect:d}=u.getFieldValues(i.groupTab,i,!0),p=n.hasClass("snippet-select-package");s||(s=u.storeSnippetInCache(l,"","","",c.next("pre"),d,!0),l.val(s));let f=TvrMT.data.dyn.snippets.cache[s],h={},_=!1;if(a.find(".snippet-dependency-row").each((function(){let r=e(this),i=r.find(".snippet-import-input").val(),a=r.find(".snippet-select-package"),o=r.find(".snippet-disable-package-icon").hasClass("on"),l=a.val(),c=a.attr("placeholder"),u=l||c,d=u?t.pref.npm_dependencies[u]:null;if(u){TvrMT.data.dyn.snippets.cache[s]&&(i||l||o)&&(h[u]={},_=!0,i&&(h[u].importSyntax=i,h[u].manualImportSyntax=i),l&&(h[u].manualPackName=l),o&&(h[u].autoDisabled=1))}if(p){let e=d?d.importSyntax:"";n.closest(".snippet-dependency-row").find(".snippet-import-input").attr("placeholder",e)}})),f){if(_?r.updateObject(f,["meta","manual_script_deps"],h):r.checkObject(f,["meta","manual_script_deps"])&&delete f.meta.manual_script_deps,n.hasClass("snippet-name-input")){let e=n.val().trim();e?(r.updateObject(f,["meta","manual_name"],e),f.name=e):(r.checkObject(f,["meta","manual_name"])&&delete f.meta.manual_name,f.name=u.getOrCreateSnippetName(f.value,s))}""!==f.value||r.obj_length(f.meta)?f.changed=1:u.deleteSnippet(s)}let g=o.user_action({},{items:["Dependency adjusted"],icon:"mtif-code"});u.animateRefreshButton(),o.ajax_save_settings({settings:g})},removeSnippetDependency(e){let t=e.closest(".dependency-rows");e.closest(".snippet-dependency-row").remove(),t.find(".snippet-dependency-row").length||t.empty(),u.npm.updateSnippetDependency(t)},disableSnippetDependency(e){let t=e.hasClass("on")?"removeClass":"addClass";e[t]("on"),u.npm.updateSnippetDependency(e)},async search(e,t="latest",r=5,n=!1,i=!1){try{const a=`https://registry.npmjs.org/-/v1/search?text=${encodeURIComponent(e)}&size=${r}`,o=await fetch(a),s=await o.json();if(!s.objects.length)return[];const l=[];for(const e of s.objects){const a=e.package.name;let o={value:a};if((!n||await this.checkMeta(a,t,i,o))&&(l.push(o),l.length>=r))break}return l}catch(e){return[]}},async getMetaData(e){const t=`https://registry.npmjs.org/${e}`,r=await fetch(t);return await r.json()},async getPackageVersions(e,t){return(t=t||await this.getMetaData(e))?Object.keys(t.versions).reverse():[]},localFileFromPackageName:e=>e.replace("@","")+".js",async checkMeta(e,t,r,n){const i=await this.getMetaData(e),a="latest"===t?i["dist-tags"].latest:t,o=i.versions[a];if(!o)return!1;n.size=o.dist?.unpackedSize?`${(o.dist.unpackedSize/1024).toFixed(2)}`:"unknown";const s=n.isAddon?n.cdn.replace(/@([^/]+)/,"@"+a):`${e}@${a}/+esm`,l=`https://cdn.jsdelivr.net/npm/${s}`;try{if(!(await fetch(l,{method:"HEAD"})).ok)return!1;n.cdn=s,n.local=n.isAddon?n.local:u.npm.localFileFromPackageName(e),n.version=a,n.rel=e,n.size=await this.checkFileSize(l,n.isAddon)}catch(e){return console.warn("Error fetching jsDelivr URL:",l,e),!1}return r&&(n.importSyntax=await this.getImportSyntax(e,o,a)),n},async checkFileSize(e,t){let r;const n=new c.deps.npmBundler({isAddon:t});if(n){r=(await n.bundle(e)).totalSize}return r},importSyntaxMap:{alpinejs:"Alpine"},async getImportSyntax(e,t,r){if(u.npm.importSyntaxMap[e])return u.npm.importSyntaxMap[e];{let t=e.match(/@([a-zA-Z0-9_]+)\/([a-zA-Z0-9_]+)$/);if(t)return t[2]}const n=e.replace(/[^a-zA-Z0-9_]/g,"");try{const t=`https://cdn.jsdelivr.net/npm/${e}@${r}/README.md`,n=await fetch(t),i=await n.text(),a=u.importStatementRegex();let o,s=[],l=null;for(;null!==(o=a.exec(i));)if(s.push(o[1]),o[2].includes(e)){l=o[1];break}let c=l||s[0];if(c)return c}catch(e){}if(t.exports){const e=t.exports;if("string"==typeof e)return`${n}`;if("object"==typeof e){if(e.import){if("string"==typeof e.import||e.import.default)return`${n}`;if(e.import.module)return`* as ${n}`}if(e["."]&&"*"===e["."].import)return`* as ${n}`;if(e["."]&&"object"==typeof e["."])return`{ ${n} }`}}return!t.main||t.module||t.exports,`${n}`},searchNPMLatestTerm:"",npmResultsCache:{},npmResultsCachePrevious:{},returnNPMResults(e,t,r,n){if(u.npm[n+"Previous"]=r,n){u.npm[n][e]=r;var i=Object.keys(u.npm[n]);i.length>9&&delete u.npm[n][i[0]]}t(r)},isJsDelivrUrl:e=>/\/\/cdn\.jsdelivr\.net\/npm\/[^ ]+$/.test(e),extractJsDelivrData(e){const t=e.match(/cdn\.jsdelivr\.net\/npm\/([^@]+)@([^/]+)\/(examples\/jsm\/.+\.js)$/);if(!t)return null;const[r,n,i,a]=t,o=a.split("/").pop().replace(".js","");return{cdn:`${n}@${i}/${a}`,importSyntax:o,isInstalled:"1",local:u.npm.localFileFromPackageName(`${n}-${o}`),value:`${n}-${o}`,version:i,addonFor:n}},searchForCombo(t,n){var i=e("#mt-npm-search"),a=i.parent(),o=i.val(),s=t&&t.term?t.term.toLowerCase():r.isDefined(o)?o:null,l="npmResultsCache";u.npm.searchNPMLatestTerm=s,!s||s.length<2||u.npm.isValidUrl(s)?u.npm.returnNPMResults(s,n,TvrMT.data.prog.combo.npm_dependencies):(u.npm[l][s]?u.npm.returnNPMResults(s,n,u.npm[l][s]):u.npm.returnNPMResults(s,n,u.npm[l+"Previous"]),a.addClass("active"),r.action_after_timeout("npm_search",200,{item:async function(e){const t=await u.npm.search(u.npm.searchNPMLatestTerm,"latest",15);a.removeClass("active"),u.npm.returnNPMResults(u.npm.searchNPMLatestTerm,n,t,l)},args:[{}]}))}}};return u}()})),jQuery(document).ready((function(e){TvrMT.mod.MTai=function(){let t,r,n,i,a,o,s,l,c,u=window.TvrLang,d={lastResponse:null,deps:window.TvrMT.ai,set_vars:function(){r=TvrMT.TvrCom,t=TvrMT.TvrUi,n=TvrMT.MTF,i=TvrMT.mod.MTloop,a=TvrMT.mod.MTdd,o=TvrMT.mod.MTsave,c=TvrMT.mod.MThtml,l=TvrMT.mod.MTace,s=TvrMT.mod.MTfolder},truncate:{zipIt:3e3,regular:1e4,max:5e4},truncateString:(e,t,r)=>{r&&(e=c.quickBeautify(r,e));let n=e.length,i=d.truncate[t],a="regular"===t?"default HTML truncated, request `outerHTML` context for the full HTML":"HTML truncated due to maximum send limit";return n>i?e.substring(0,i)+" ... \n[Note: "+a+"]":e},init_ai:function(e){r.ww.assignTask({channel:"revisions",taskName:"getNearestAIRegionTask",cb:{ref:"mod.MTai",funcName:"initAIFunctions"}})},initAIFunctions:function(e,t){d.region=e.region||"us-central1",d.deps.firebase.functions=d.deps.firebase.getFunctions(d.deps.firebase.app,d.region);d.resumeChatAndSketchPad()},resumeChatAndSketchPad:function(){let e="";d.chatMessages.forEach((t=>{e+=d.formatChatItem(t.role,t.message,t.current_revision)})),t.stat.aiAssistant.find(".ai-chat").find("ul").html(e);let r=d.sketchpadFocus,n=d.getSketchpadFocus();d.skipAiSync=1,d.updateEditor(n,d.sketchpad[r]||"")},session:!1,backupDone:!1,pendingResponse:{},requestContext:{},previousPayload:null,requestContextCount:0,statusEl:document.getElementById("tvr-ai-status"),stylesheetRules:null,sketchpad:TvrMT.data.dyn.ui.non_section?.meta?.aiSketchpad||{css:"",js:"",html:""},sketchpadFocus:TvrMT.data.dyn.ui.non_section?.meta?.aiSketchpadFocus||"css",getRelevantPreferences:(e,t)=>(["mq_device_focus","pg_focus"].forEach((r=>{t[r]&&(e[r]=t[r])})),e),speechManager:null,saveChanges:(e,n="",i)=>{let a={},s=i?"AI change":"AI sketchpad";a=o.user_action(a,{items:[s+": "+n],icon:"mtif-chatbot-icon"}),r.updateObject(t.uiData,["non_section","meta","aiChatMessages"],d.chatWithoutSketchpad(!0)),r.updateObject(t.uiData,["non_section","meta","aiSketchpad"],d.sketchpad),r.updateObject(t.uiData,["non_section","meta","aiSketchpadFocus"],d.sketchpadFocus),o.ajax_save_settings({noSaveDelay:1,manualSave:1,settings:a,cbfArgs:[e],skip_revision:i?0:1,cbFunction:function(e,t){i&&t&&t.refreshPage&&c.refreshPreview()}})},voteCast:function(t){if(d.buttonDisabled(t))return;let r=t.data("vote");"down"===r&&(e("#tvr-ai-prompt").val("That didn't work well. Analyse the page further and fix."),d.sendPrompt(t,{applyDeeperPageAnalysis:1,requestContext:d.requestContext})),d.aiErrorReport(t,r),t.addClass("on tvr-el-disabled")},aiErrorReport:(e,r)=>{let n="Themeover "+r+" vote",i="ai-"+r+".js";t.maybe_send_error_report(!0,e,{error:n,file:i,URL:"wp-content/plugins/themeover-ai/",line:1,col:1,error_key:i+"|1|1|"+n,source:"interface",stack:i},!1,r)},retryAIUpdate:function(e){let t=e.siblings(".mtif-instant-undo");d.retry={prompt:e.closest(".ai-response-message").prev().html(),$undo:t},d.undoAIUpdate(t)},undoAIUpdate:function(e,r){(r=r||e.data("id"))?t.iterateRevisionStack(e,r):alert("Cannot undo this update")},resetTask:function(t){if(d.resetContext(),d.sketchpad={css:"",js:"",html:""},d.skipAiSync=1,d.updateEditor(d.getSketchpadFocus(),""),e("#ai-editor-tabs").find(".ai-tab").each((function(){e(this).removeClass("hasValues")})),d.clearChat(),e("#tvr-ai-prompt").focus(),void 0!==t){d.updateStatus(t);let e={};e=o.user_action(e,{items:[t],icon:"mtif-chatbot-icon"}),o.ajax_save_settings({noSaveDelay:1,manualSave:1,settings:e})}},buttonDisabled:function(e){return e.hasClass("active")||e.hasClass("tvr-el-disabled")},resetContext:()=>{d.requestContext={},d.requestContextCount=0},aiSketchpadModeFromTabkey:e=>"html"===e?"customhtml":"js"===e?"javascript":e,getSketchpadFocus:function(){let e=d.sketchpadFocus||"css";return d.aiSketchpadModeFromTabkey(e)},updateEditor:function(e,t){e=e||"css",t=t||d.sketchpad[e],"css"===e&&(t=l.beautify_css_or_scss(t)),l.update_arbitrary_editor({context:"aiCode",mode:e,editorID:"ai_code",data:t,filterClass:"ai_code",readOnly:!1,directContent:t})},supply:function(e,t,r){return t[e]||r[e]},getSnippetContent:function(){return{html:"",js:""}},getRelative:function(e,t){let r=t,n=(e=parseInt(e))>0?"childNode":"parentElement",i=Math.abs(e);for(let e=0;e<i;e++)if("parentElement"===n){if(!r.parentElement)break;r=r.parentElement}else{if(!r.hasChildNodes())break;r=r.childNodes[0]}return r},getAIDom:function(e){let r={forAI:!0},i={};n.setup_dom_object(e,r),n.search_parents_and_descendents(e,r),n.domAI.sels=n.default_sels_config();let a=n.generate_selectors(n.domAI,r,i);return n.sort_selector_suggestions(a.sels.final,t.isHighSpecificity()),n.organise_equiv_selectors(a,i),a},getNodeMeta:function(e,t,i,a,o){if(!n||!r.isDomEl(e))return null;i=i||{};let s=d.getAIDom(e),l=r.checkObject(s,["search","nodes",0]),c={};if(!l)return null;t&&(c.description=t);let u=e[0];if(i.incCompCSS){c.computedCSS=n.getRelevantComputedCSS(e[0]);for(const t of["::before","::after"]){const r=window.getComputedStyle(e[0],t).getPropertyValue("content");r&&"none"!==r&&(c[t]=n.getRelevantComputedCSS(e[0],t))}}let p=d.getExistingSelectorInfo(e,s,a);p.length&&(c.existingSelectors=p);let f=r.checkObject(s,["sels","final",0,"code"]);return f&&(c.selectorThatTargetsSingleElement=f),i.incSiblings&&(c.siblings=l.siblingsOverview),i.incChildren&&(c.children=l.childrenOverview),i.htmlIfNotToBig&&u?(c.outerHTML=d.truncateString(u.outerHTML,i.doNotTruncate?"max":"regular","html"),c.outerHTML.length>d.truncate.zipIt&&(o.zipIt=!0)):d.addKeyAttributes(u,c),c},findSnippetIdsInString(e,t){let r,n=/snippet_id\s*\[\d]\s*:\s*([a-zA-Z0-9]+)/g;for(;null!==(r=n.exec(e));){t[r[1]]=1}},getExistingSelectorInfo(e,t,r){let i=[];return t.mSels.length&&t.mSels.forEach((t=>{let a=n.getSelectorStats(t.code,e),o=t.id.split("-"),s=d.getSketchpadCSS({sectionSlug:o[1],selectorSlug:o[2]},"currentSelector");d.findSnippetIdsInString(s,r),i.push({selectorCode:t.code,numElsSelected:a.numElsSelected,css:s})})),i},addKeyAttributes:(e,t)=>{if(!e||!e.tagName)return"";let n=e.tagName.toLowerCase();const i=e.getAttribute("type");i&&(n+=`[type="${i}"]`),e.id&&(n+=`#${e.id}`),e.classList&&e.classList.length&&(n+="."+Array.from(e.classList).join(".").replace(r.mtArtificalClassRegex(),"")),t.keyAtts=n},pageAnalysis:function(t,i,a,o,s){let l=a.pageAnalysis,c=!1,u=0;if(n)return Object.entries(l).forEach((([i,a])=>{(n?n.evaluateXPath(i,t&&!a.documentContextNode?t:n.stat.doc):[]).forEach(((t,n)=>{let a=t.element;if(o.pageAnalysis||(o.pageAnalysis={}),o.pageAnalysis[i]||(o.pageAnalysis[i]=[]),o.pageAnalysis[i][n]||(o.pageAnalysis[i][n]={}),o.pageAnalysis[i][n].relation=t.relation,l[i].outerHTML?(o.pageAnalysis[i][n].outerHTML=d.truncateString(a.outerHTML,"max","html"),u+=o.pageAnalysis[i][n].outerHTML.length,c=u>=800):d.addKeyAttributes(a,o.pageAnalysis[i][n]),l[i].computedCSS&&(o.pageAnalysis[i][n].computedCSS=e(a).css(Object.keys(l[i].computedCSS))),l[i].verifiedSelectors){let t=e(a),s=d.getAIDom(t),l=r.checkObject(s,["sels","final"]);l&&l.length&&(o.pageAnalysis[i][n].verifiedSelectors={},l.forEach(((e,t)=>{o.pageAnalysis[i][n].verifiedSelectors[e.code]=e.n})))}}))})),c},getSketchpadCSS:function(e,t){return e?d.getCompiledCSS({includeFolderComment:!1,allSections:"all"===t,targetSection:e.sectionSlug,targetSelector:"currentSelector"===t?e.selectorSlug:void 0,cbs:{section:[{item:function(e,t,n){e.existingCSS+=r.get_section_css(e,null,t,n,!0)}}],mq:[{item:function(e,t,n,i){let a=r.get_section_css(e,null,t,n,!0,i);a&&(e.existingCSS+="\n/*( "+TvrMQsCombined[i].label+" )*/\n"+TvrMQsCombined[i].query+" {\n",e.existingCSS+=a,e.existingCSS+="}\n\n")}}]}}):""},getContext:function(i,a){if(!n)return{};let o=0,l=t.get_selector_in_focus(),c={},u={},p=i.requestContext||{},f=!!r.isDomEl(n.triggerEl)&&n.triggerEl[0],h=f?f.tagName.toLowerCase():null,_=n.getMTDynFrontData()||{},g=[],m=[],v={path:r.extract_url_path(r.strip_page_builder_and_other_params(n.get_current_url()),t.blog_details),logicToTargetSinglePage:_.logic,id:_.id,title:_.title,isAdminArea:_.isAdminArea},y=t.get_mq_focus(),b=t.stat.iframe,w={},T=Object.keys(t.uiData).filter((function(e){return"non_section"!==e}));for(let e=0;e<T.length;++e){let n=T[e],i=(r.checkObject(t.uiData,[n,"this","logic"])||{}).expr;m.push({name:t.uiData[n].this.label,logic:r.checkObject(t.uiData,[n,"this","logic"])||null,loadsOnPage:s.folderNotLoading(n)?0:1,frontGlobal:s.folderIsEffectivelyGlobal(n,i)?1:0})}Object.entries(window.TvrMQsCombined).forEach((([e,t])=>{"All Devices"!==t.label&&g.push({label:t.label,query:t.query})}));let x=p.userSketchpadScope||"currentSelector",k=this.getSnippetContent(x),S={css:d.getSketchpadCSS(l,x),html:k.html,js:k.js};if("currentSelector"!==x&&(o=!0),p.chatHistoryWithSketchpad&&(c.chatHistoryWithSketchpad=d.chatMessages,o=!0),p.pageAnalysis){this.pageAnalysis(f,h,p,c,w)&&(o=!0)}p.folderList&&(c.folderList=m),p.supportedFolderLogic&&(c.supportedFolderLogic={PHPSyntax:"isset() $_GET ( ) , > < = ! ' \" || && or and true false",WPFunctions:["get_post_type","has_action","has_block","has_category","has_filter","has_meta","has_post_format","has_tag","is_404","is_admin","is_archive","is_author","is_category","is_date","is_front_page","is_home","is_page","is_post_type_archive","is_search","is_single","is_singular","is_super_admin","is_tag","is_tax","is_login","is_user_logged_in"],examplesOfCustomMethod:{'\\Microthemer\\is_post_or_page("front")':"Same as is_front_page but returns true if the block editor is showing to the front page.","\\Microthemer\\is_post_or_page(7) || \\Microthemer\\is_post_or_page(45)":'Same as "is_page(45) or is_single(45) or is_page(7) or is_single(7)" but returns true if the block editor is editing a post with an id of 7 or 45. Try to use this method whenever setting a folder to load on just one or several pages'}}),this.supply("mediaQueries",u,p)&&(c.mediaQueries=g),this.supply("pageMeta",u,p)&&(c.pageMeta=v),p.elementCSSRules&&d.styleSheetRules&&(c.elementCSSRules=r.strip_important_prefixes(d.styleSheetRules),o=!0);let C={},M={previouslyRequestedContext:p,chatHistory:d.chatMessages.length&&!p.chatHistoryWithSketchpad?d.chatWithoutSketchpad():null,settings:{currentFolder:{name:l?l.sectionH:null,logic:l&&r.checkObject(t.uiData,[l.sectionSlug,"this","logic"])||null},currentSelector:{name:l?l.selectorH:null,cssSelector:l?l.selectorCode:null}},currentElementXPath:f?d.extractBreadcrumbs(!0,!0):null,pageAnalysis:f?{"./..":[d.getNodeMeta(n.triggerEl.parent(),"Direct parent element",{incCompCSS:1,checkPseudo:1},w,C)],".":[d.getNodeMeta(n.triggerEl,"Current element",{incCompCSS:1,checkPseudo:1,htmlIfNotToBig:1},w,C)],"./*[1]":[d.getNodeMeta(n.triggerEl.children().first(),"First child element",{incCompCSS:1},w,C)]}:{".":[d.getNodeMeta(n.stat.body,"No element selected, so providing full body HTML",{htmlIfNotToBig:1,doNotTruncate:1},w,C)]}};C.zipIt&&(o=!0),"currentSelector"!==x&&(M.settings.userSketchpadScope=x,M.settings.userSketchpad=S);let A=Object.keys(w);return A.length&&(A.forEach((e=>{TvrMT.data.dyn.snippets.cache[e]?w[e]=TvrMT.data.dyn.snippets.cache[e].value:delete w[e]})),Object.keys(w)&&(M.settings.snippetMap=w)),e.extend(!0,M,c),"all-devices"!==y&&(M.windowSize=b.width()+" x "+b.height(),t.mediaQueryNotApplying?M.mediaQueryNotApplying=!0:M.mediaQueryIsApplying=!0),parseInt(t.pref.tailwind)&&(M.useTailwindClasses=1),{data:M,zipIt:o}},extractBreadcrumbs:function(r,n){let i=[];return t.stat.breadcrumbs.children().each((function(t){let a=e(this),o=a.hasClass("active-crumb")?" (current element)":"",s=a.text();if(n){let e=s;e=e.replace(/#([a-zA-Z0-9_-]+)/g,'[@id="$1"]').replace(/\.([a-zA-Z0-9_-]+)/g,'[contains(@class, "$1")]'),i.push(e)}else i.push(s+o);if(r&&o)return!1})),n?"/"+i.join("/"):i.join(" > ")},getCompiledCSS:function(e){return l.beautify_css_or_scss(r.loopUiData(e,t.uiData,t.get_mq_focus()).existingCSS)},chatMessages:TvrMT.data.dyn.ui.non_section?.meta?.aiChatMessages||[],formatAiMessage:function(e){return e.replace(/`([^`]+)`/g,"<code>$1</code>").replace(/\n/g,"<br />")},formatChatItem:function(e,t,r){let n=TvrMT.data.dyn.ui_config.user_display_name,i=n?n.trim().substring(0,1).toUpperCase():"Me",a='<div class="tvr-ai-feedback"><span class="mtif mtif-thumbs-up-solid ai-feedback-thumb" data-vote="up"></span><span class="mtif mtif-thumbs-down-solid ai-feedback-thumb" data-vote="down"></span><span class="mtif mtif-instant-undo" data-id="'+r+'" data-action="undo" data-mtc="mod.MTai.undoAIUpdate"></span><span class="mtif mtif-sync-alt retry-ai-response" title="Retry" data-mtc="mod.MTai.retryAIUpdate"></span>';return"user"===e?'<li class="ai-prompt-message speech-bubble" data-user-initial="'+i+'">'+t+"</li>":'<li class="ai-response-message">'+d.formatAiMessage(t)+a+"</li>"},addToChat:function(e,r,n,i){i=i||"fast";let a=t.pref.current_revision,o=t.stat.aiAssistant.find(".ai-chat"),s=d.formatChatItem(e,r,a);o.find("ul").append(s);let l=o.find("li").last();l.hide().slideDown(i,(function(){t.scrollIntoView(o,l,-12)}));let c={role:e,message:r,current_revision:a};n&&(c.sketchpad=n),d.chatMessages.push(c)},removeLastChatMessage:function(){let e=t.stat.aiAssistant.find(".ai-chat").find("ul li").last();e.length&&e.slideUp("fast",(function(){e.remove()})),d.chatMessages.length>0&&d.chatMessages.pop()},chatWithoutSketchpad:function(e){let t=[];return d.chatMessages.forEach((r=>{let n={role:r.role,message:r.message};e&&(n.current_revision=r.current_revision),t.push(n)})),t},clearChat:function(){t.stat.aiAssistant.find(".ai-chat ul").html(""),d.chatMessages=[],delete t.uiData.non_section.meta.aiChatMessages,delete t.uiData.non_section.meta.aiSketchpad,delete t.uiData.non_section.meta.aiSketchpadFocus},ensureAuthenticated:async function(){if(!d.deps.firebase||!d.deps.firebase.auth||!d.deps.firebase.authApi.signInAnonymously)return d.updateStatus("Authentication system error.","error"),null;const e=d.deps.firebase.auth;let t=e.currentUser;if(t)return t;d.updateStatus("Initializing...","info");try{return t=(await d.deps.firebase.authApi.signInAnonymously(e)).user,d.updateStatus("Session initialized.","success"),t}catch(e){return d.updateStatus("Error initializing session.","error"),null}},sendPrompt:async function(i,a,s){i=i||e("#ai-send-prompt"),a=a||{};const l=await d.ensureAuthenticated();if(!l)return d.updateStatus("Could not establish a connection. Please try again later.","error"),!1;if(n.isAdminArea&&!parseInt(t.pref.ai_admin_access))return t.stat.aiAssistant.find(".toggle-ai-advanced").trigger("click"),alert("The AI assistant is not allowed to access the admin area by default. You can optionally enable this if you do not mind sharing non-public content with AI models (Open AI, Anthropic, Google Gemini)."),!1;if(t.retargetSelector||t.draftSelector.atts.id)t.selInFocusIDChanged=null,t.save_draft_selector(t.retargetSelector,!0,null,null,1);else if(t.selInFocusID&&t.selInFocusIDChanged){t.selInFocusIDChanged=null;let e={savePackage:[{trail:["non_section","meta","last_viewed_selector"],action:"replace",data:t.selInFocusID}]};e=o.user_action(e,{items:["Element selected for AI"],icon:"mtif-target"}),o.ajax_save_settings({noSaveDelay:1,manualSave:1,aiRetryShouldAwaitSave:1,settings:e})}if(d.buttonDisabled(i))return;r.startT("aiAction"),r.startT("sendPrompt");let c=t.stat.aiAssistant.find('textarea[name="ai_prompt"]').val();if(!c||!c.trim())return void alert("Please provide an instruction for the AI assistant.");let p=e("#ai-can").val(),f=d.getContext(a,c),h=e("#ai-model").val();a.applyDeeperPageAnalysis&&(h="gemini-2.5-flash-preview-04-17",f.applyDeeperPageAnalysis=1),a.supplyingContext||(d.addToChat("user",c),e("#tvr-ai-prompt").blur()),s&&d.previousPayload?s&&d.previousPayload&&f.data.pageAnalysis&&(d.previousPayload.context.pageAnalysis=f.data.pageAnalysis):d.previousPayload={plugin_version:TvrMT.data.dyn.ui_config.plugin_version,supportGUICSS:TvrMT.data.dyn.ui_config.supportGUICSS?1:0,supportContent:TvrMT.data.dyn.ui_config.supportContent?1:0,importantAlwaysDone:parseInt(t.pref.css_important)?1:0,promptText:c,numPreviousMessages:d.chatMessages.length-1,model:h,ai_can:p,allowMoreContext:a.dissallowMoreContext?0:1,taskCategories:a.taskCategories||[],context:f.data};let _=null;try{_=await l.getIdToken()}catch(e){return d.updateStatus("Authentication error (token).","error"),!1}i.add(i.prev()).addClass("active tvr-el-disabled"),d.updateStatus(u.messaging_ai);let g=d.previousPayload;if(!window.TVR_DEV_MODE){const e=JSON.stringify(d.previousPayload);g={zipped:d.deps.pako.deflate(e)}}d.deps.firebase.httpsCallable(d.deps.firebase.functions,"apiHandler")(g).then((e=>{d.promptComplete(e.data,i)})).catch(((e,t)=>{i.add(i.prev()).removeClass("active tvr-el-disabled"),d.updateStatus("Error - "+e,"error"),d.removeLastChatMessage(),console.warn("We have an error",e,t)}))},updateStatus:function(e,t){this.statusEl.setAttribute("data-status",t),this.statusEl.innerHTML=e},showHiddenChars:e=>Array.from(e).map((e=>({char:e,code:e.charCodeAt(0),hex:"0x"+e.charCodeAt(0).toString(16)}))),cleanJsonWrapText:function(e){let t=e.match(/```json\s*([\s\S]*?)\s*```\s*$/);return(t?t[1]:e).trim().replace(/\0+$/,"")},convertToJsonObject:function(e){const t=this.cleanJsonWrapText(e);try{return JSON.parse(t)}catch(e){return console.error("Invalid JSON:",e),null}},parseOrRepairJson:function(e){let t={safeParse(e){try{return JSON.parse(e)}catch(e){return null}},jsonRepair:function(e){try{let t=d.deps.jsonrepair(e);return JSON.parse(t)}catch(e){return console.warn("Failed jsonRepair:",e),null}},cleanAndParse(e){try{const t=e.match(/{[\s\S]*}/);if(!t)return null;let r=t[0];return r=r.replace(/\0/g,""),JSON.parse(r)}catch(e){return console.warn("Failed clean parse:",e),null}},repairAndParse(e){try{let t=e;return t=t.replace(/}+$/,"}").replace(/,\s*([\]}])/g,"$1").replace(/^[^{]*({[\s\S]*})[^}]*$/,"$1"),JSON.parse(t)}catch(e){return console.warn("Failed repair parse:",e),null}}};return t.safeParse(e)||t.jsonRepair(e)||t.cleanAndParse(e)||t.repairAndParse(e)},promptComplete:function(t,n){if(n.add(n.prev()).removeClass("active tvr-el-disabled"),r.endT("sendPrompt",1),t.error)return void d.updateStatus(t.error+": "+t.details,"error");let i,a,o=t.provider,s=d.sketchpad;"gpt"===o?i=["response","choices",0,"message","content"]:"claude"===o?i=["response","content",0,"text"]:"gemini"===o&&(i=["response","candidates",0,"content","parts",0,"text"]);let l=i?r.checkObject(t,i):null;if(l){if(a=d.cleanJsonWrapText(l),a){if(a=d.parseOrRepairJson(a),!a)return void d.updateStatus("AI response was invalid","error");if(a.payloadSize=t.payloadSize,a.speed=t.speed,a.requestContext){d.requestContextCount++;let t=a.allowTwoStepContextRequest;e.extend(!0,d.requestContext,a.requestContext),delete d.requestContext.allowTwoStepContextRequest,d.sendPrompt(n,{requestContext:d.requestContext,supplyingContext:1,dissallowMoreContext:!t||d.requestContextCount>=2?1:0,taskCategories:a.taskCategories||[]}),d.updateStatus("Supplying more context")}else d.processChangeResponse(s,a)}}else d.updateStatus("AI response was missing","error")},processChangeResponse:function(t,n){d.updateStatus("Response received","success");let i=d.getSketchpadFocus(),a=e("#tvr-ai-prompt").val();d.requestContextCount=0,d.syncingAICode=!0,t.css=r.checkObject(n,["changeResponse","sketchpad","css"])||"",t.js=r.checkObject(n,["changeResponse","sketchpad","js"])||"",t.html=r.checkObject(n,["changeResponse","sketchpad","html"])||"",Object.entries(t).forEach((([t,r])=>{e("#ai-editor-tabs").find(".ai-tab-"+t)[r?"addClass":"removeClass"]("hasValues")})),d.skipAiSync=1,d.updateEditor(i,t[i]),d.prettyLogJson(t),e("#tvr-ai-prompt").val("").trigger("focus");let o=r.checkObject(n,["changeResponse","replyText"]);o=o?r.escapeHTML(o):"AI error - try again",d.addToChat("assistant",o,t),d.syncAICode(t,!0,a,n),d.syncingAICode=!1,r.endT("aiAction",1)},extractSnippets:function(e){const t=/(<!--|\/\*)\^\^\s*MT\s+\[ startSnippet: ([a-zA-Z0-9]+) ]\s+\^\^(-->|\*\/)\s*([\s\S]*?)\s*(<!--|\/\*)\s*endSnippet\s*(-->|\*\/)/g;let r={};["css","html","js"].forEach((n=>{let i=e[n];if(i){let a;for(;null!==(a=t.exec(i));){let t=a[2],i=a[4],o=TvrMT.data.dyn.snippets.cache[t];c.storeSnippetInCache(null,t,c.getOrCreateSnippetName(i,t),i,null,n);let s=TvrMT.data.dyn.snippets.cache[t];o&&s&&o!==s&&(c.snippetChanged=t),r[a[2]]=a[4],"js"===n&&(e.refreshPage=1)}}}))},syncAICode:function(s,l,c,u){d.extractSnippets(s);let p=a.parse_css(s.css,!0),f=r.checkObject(p,["stylesheet","parsingErrors"]);if(f&&f.length)return;let h=a.ast_to_data(p.stylesheet.rules,{ai_sync:1,css_imp_mqs:1,css_imp_sels:1,css_imp_styles:1,css_imp_friendly:1});a.updateMTDataImportedFullCode(h.non_section.m,h,"AI Generated",!0);let _=[];Object.entries(h.non_section.active_queries).forEach((([e,r])=>{t.pref.m_queries[e]||(t.pref.m_queries[e]=r,_.push(e))})),_.length&&(t.updateTvrMQsCombinedData(),t.liveUpdateInterfaceMQs(),o.save_multiple_preferences({m_queries:t.pref.m_queries},!1,"revisions"));let g={allSections:1,allSelectors:1,updatedSections:{},addedSections:{},updatedSelectors:{},addedSelectors:[],settings:{domDepth:"group"},no_style_node_update:1,cbs:{section:[{item:function(n,i,a,o){if(!r.checkObject(t.uiData,n.trail)){if(t.add_section(i.this.label,!1,!0),i.this.disabled){let r=t.get_meta(e("#strk-"+a),"section");t.input_icon_toggle(r.sectionM.find(".disabled-toggle"))}n.addedSections[a]=o}}}],selector:[{item:function(e,n,i,o,s,l){let c=r.checkObject(t.uiData,e.trail);r.updateObject(t.uiData,e.trail,l),a.selector_groups_to_ast(e,null,{dontUpdateSavePackage:1},!0),c||e.addedSelectors.push(i+"-"+s),e.updatedSections[i]=o,e.updatedSelectors[i+"-"+s]=o}}]}};r.loopUiData(g,h);let m,v=!1;if(u&&u.taskCategories&&u.taskCategories.includes("animateWithCSS")&&(t.pref.pg_focus="animation",v=!0),Object.entries(g.updatedSections).forEach((([i,a])=>{let o=t.get_meta(e("#strk-"+i),"section");n.update_preview_style_node([a,i],r.get_section_css({},null,r.get_js_object_data([i],a).data,i),"all-devices"!==a&&t.pref.m_queries[a].query),t.load_folder_menu_selectors(o)})),i.run_global_scans({},["html_mods","active_events"]),g.addedSelectors.length)m=t.get_meta(e("#strk-"+g.addedSelectors[0]),"selector"),m&&t.tvr_iterate_selectors_v(m.selectorM,!1,{});else if(m=t.get_selector_in_focus(),m){g.updatedSelectors[m.sectionSlug+"-"+m.selectorSlug]?t.trigger_pg_icon_click(m.groupSlug):g.updatedSelectors.length&&(m=t.get_meta(e("#strk-"+g.updatedSelectors[0]),"selector"),m&&t.tvr_iterate_selectors_v(m.selectorM,!1,{}))}if(v){let e=m.selector.find(".play-anim");r.isDomEl(e)&&e.trigger("click")}d.saveChanges(s,c,l)},prettyLogJson:function(e){let t=JSON.stringify(e,null,2);t=t.replace(/\\n/g,"\n").replace(/\\t/g,"\t")},toggleSettings:function(e){t.toggle_context_menu({$clicked:e,filter:".cm-ai-advanced",after_open:function(e){},after_close:function(e){}})},tabPressed:function(e){r.startT(arguments);let n=t.stat.aiEditor,i=n.find(".query-tabs"),a=e.attr("rel"),o=".ai-focus",s="changes"!==n.find(o).val()&&"changes"!==a;d.sketchpadFocus=a;let l=d.aiSketchpadModeFromTabkey(a);d.skipAiSync=1,d.updateEditor(l,d.sketchpad[a]),t.update_tab(n,".ai-area",i,a,".ai-tab",o,s),r.endT(arguments)}};return d.speechManager=new window.TvrMT.ai.SpeechManager(d,e("#user-browser").attr("rel")),d}()})),jQuery(document).ready((function(e){TvrMT.mod.MTwidget=function(){var t,r,n,i,a,o,s={set_vars:function(){r=TvrMT.TvrCom,t=TvrMT.TvrUi,n=TvrMT.MTF,i=TvrMT.mod.MTloop,a=TvrMT.mod.MTsave,o=TvrMT.mod.MTdd},stat:{},sliderDragging:!1,portArea:{},defaultConfig:{value:0,blocksInView:5,leftAdjust:0,min:0},operators:{"<":function(e,t){return e<t},">":function(e,t){return e>t},"-":function(e,t){return e-t},"+":function(e,t){return e+t}},get_numbers:function(e,t,n){var i,a={};a.increment=t||(e?{px:1,"%":1,vh:1,vmin:1,vmax:1,vw:1,mm:1,pt:1,deg:1,grad:1,ms:1,cm:.1,ch:.1,em:.1,ex:.1,in:.1,rem:.1,pc:.1,rad:.1,turn:.1,s:.1,fr:.01}[e]:.01);var o=r.checkObject(s.sliderConfig,["slidablePieces","sliderIncrement"]);switch(o&&(a.increment=t=o),a.increment){case 1:var l="px"===e||"ms"===e||1===t;a.minPrecision=l?0:1,a.maxPrecision=l?0:2,i=10;break;case.1:a.minPrecision=1,a.maxPrecision=3,i=10;break;case.05:a.minPrecision=2,a.maxPrecision=3,i=20;break;case.01:a.minPrecision=2,a.maxPrecision=3,i=10}return a.block=a.increment*i,a.valueToPx=n/a.block,a},getMinMax:function(e,t,n,i){var a=r.checkObject(n,["slidablePieces",i]);return void 0!==a&&!1!==a?a:e===Object(e)?e[t]:e},getSliderConfig:function(n){var i=e.extend(!0,{},this.defaultConfig,n),a=s.stat,o=r.isDefined(i.direction)?i.direction:parseInt(t.pref.tape_measure_slider)?-1:1,l=this.operators,c=this.getMinMax(i.min,i.cssUnit,i,"min"),u=this.getMinMax(i.max,i.cssUnit,i,"max"),d=o>0?l[">"]:l["<"],p=o>0?l["<"]:l[">"],f=l["+"],h=o>0?l["<"]:l[">"],_=o>0?l[">"]:l["<"],g=o>0?l["+"]:l["-"],m=o>0?l["+"]:l["-"],v=o>0?l["-"]:l["+"],y=i.blocksInView+1,b=3*y,w=a.port.width(),T=(parseInt(t.pref.tape_measure_slider),30),x=this.get_numbers(i.cssUnit,i.increment,T),k=x.valueToPx,S=w/2;return e.extend(!0,i,{direction:o,maxVisibleBlocks:y,totalBlocks:b,blockPx:T,numbers:x,min:c,max:u,isTimeField:"s"===i.cssUnit||"ms"===i.cssUnit,portBoundingClientRect:s.stat.port[0].getBoundingClientRect(),minAbsCompare:d,maxAbsCompare:h,minOffsetAdjust:f,maxOffsetAdjust:g,minLeftCompare:p,maxLeftCompare:_,leftToValueOffsetAdjust:m,valueToLeftOffsetAdjust:v,px:{left:s.value_to_left(i.value,k,S),port:w,portCenterOffset:S,block:T,buttons:a.buttons.width(),units:a.cssUnitToggle.width(),min:r.isDefined(c)?f(c*k,S):void 0,max:r.isDefined(u)?o*g(u*k,S):void 0,dragAction:{}}})},maybe_update_slidable_pieces:function(e,t){e.hasClass("mt-slider")&&s.update_slider_set(!1,e)},get_slidable_pieces:function(e,i,a){if(a=a||{},!r.isDefined(e))return!1;e=e.toString(),i=i||0;var l=!1,c=s.isInPathString(e),u=(s.isInUrlString(e),c),d="("+o.reg.leng({optUnit:1,mustHaveUnit:1,inc:["top","bottom","center","left","right"]})+")",p=new RegExp(d,"g"),f=r.get_all_matches(e,p,1,{itemObj:1}),h=!1,_=null,g=f.length;if(g)for(var m=0;m<g;m++){var v=f[m],y=i>=v.start&&i<=v.end,b=i<v.start,w=i>v.end,T=0===m,x=m+1===g;if(y){h=v;break}if(b){if(T)h=v;else h=i-_.end<v.start-i?_:v;break}w&&x&&(h=v),_=v}if(h){h.rawValue=h.value;var k=e.slice(0,h.start),S=!1,C=void 0,M=void 0;if(""!==k)k.match(new RegExp(o.reg.anyRGBNum({endOfString:1})))&&(S=1,u=!0,C=0,M=255);if(a.maybeConvert&&!u){var A=a.maybeConvert,O=(A.cssf,A.targetUnit),E=o.separate_value_unit(h.rawValue);if(E)var P=E.unit;if(O!==P){var D=s.convertCSSUnit({prop:A.prop,cssf:A.cssf,value:parseFloat(h.rawValue),sourceUnit:P,targetUnit:O,precision:s.get_numbers(O).maxPrecision,nodeCSS:t.nodeCSS?t.nodeCSS[0]:[],baseFontSize:t.iframeEditing()?n.getBaseFontSize():t.baseFontSize});D.conversionFailed||(h.value=D.unitValue)}}h.origLen=h.rawValue.length;var j=e.slice(h.start,h.end);l={cursorPos:i,fullString:e,matches:f,extracted:h,rawValue:h.rawValue,isInPathString:c,unitIsInvalid:u,sliderIncrement:S,min:C,max:M,devDebug:{success:j===h.rawValue,rawValue:h.rawValue,value:h.value,retrieved:j,pattern:d,globalPattern:p,convResult:l,newVal:r.replaceAt(e,h.start,"100000px",h.origLen)}}}return s.sliderConfig.slidablePieces=l,l},unitIsInvalid:function(e){return r.checkObject(e,["slidablePieces","unitIsInvalid"])},isInPathString:function(e){return!!e&&e.match(/^\s*path\(/)},isInUrlString:function(e){return!!e&&e.match(/^\s*url\(/)},resolve_unit:function(e,t,n,i){var a=!i&&o.separate_value_unit(e);return a?a.unit:r.isDefined(t)?t:n},get_config_from_input:function(e){if(r.isDomEl(e)&&e.hasClass("property-input")){var n=t.get_meta(e,"property"),a=e.attr("rel"),l=r.prop_to_cssf(a),c=TvrMT.data.prog.lh[l],u=i.get_property_data(n)||{},d=u.property||{},p=t.get_default_unit(n.groupSlug,n.propertySlug),f=d.unit,h=r.checkObject(c,["sug_values"])||{},_=r.checkObject(c,["special_units"])||!1,g=h.unitless_slider,m=h.min,v=h.max,y=h.increment,b=e.val(),w=!r.isDefined(b),T=w?t.single_comp_value(l):b,x=s.get_slidable_pieces(T,e[0].selectionStart,{maybeConvert:!!w&&{prop:a,cssf:l,targetUnit:s.resolve_unit(T,f,p,w)}}),k=x?x.extracted.value:T,S=s.resolve_unit(k,f,p),C=o.separate_value_unit(k),M=k,A=!1===r.checkObject(TvrMT.data.prog.autoMap,[a,"%"],!0);return k=s.resolve_slider_compatible_value(k,a,l,S,!1,w),{M:n,jsData:u,propertyData:d,group:n.groupSlug,prop:a,cssf:l,$input:e,value:k,rawValue:M,cssUnit:S,slidablePieces:x,excludePercent:A,special_units:_,unitless_slider:g,min:m,max:v,increment:y,unitFromValue:!!C&&S,isVariableField:n.property.hasClass("has-variable-line")}}return{}},resolve_slider_compatible_value:function(e,t,n,i,a,l){if(r.isDefined(e)&&(e=e.split(" ")[0]),!r.isDefined(e)||!r.isNumber(e)){var c=o.separate_value_unit(e);c?e=c.value:l||(e=this.get_value_from_computed(t,n,i),a&&(s.sliderValPendingComp=!0))}return e=parseFloat(e),isNaN(e)&&(e=0),e},get_value_from_computed:function(e,n,i,a){var l=t.single_comp_value(n),c=s.get_slidable_pieces(l);c&&(l=c.extracted.value),"none"===l&&("max-width"===n||"min-width"===n?l=t.compProps.width:"max-height"!==n&&"min-height"!==n||(l=t.compProps.height));var u=o.separate_value_unit(l);if(void 0===i||!u||u.unit===i){if("[ ? ]"===l)return 1;var d=parseFloat(l);return r.isNumber(d)?d:0}var p=parseFloat(u.value),f=u.unit,h=s.convertCSSUnit({prop:e,cssf:n,value:p,sourceUnit:f,targetUnit:i,slidablePieces:c,precision:this.get_numbers(i).minPrecision,nodeCSS:t.nodeCSS?t.nodeCSS[0]:[]});return h.conversionFailed&&(h.value=p),a?h:h.value},init_slider:function(){var t=e("#mt-slider-set");this.stat={set:t,port:t.find(".drag-port"),containment:t.find(".drag-containment"),dragBar:t.find("#mtss-dragbar"),buttons:t.find(".mtss-buttons"),plusMinusButton:t.find(".mtss-button"),cssUnitToggle:t.find(".mtss-unit-menu"),cssUnitMenu:e("#mtss-units"),cssUnit:t.find(".mtss-current-unit"),numericValue:t.find(".mtss-numeric-value"),pxEquiv:t.find(".mtss-px-equiv"),pxEquivValue:t.find(".mtss-px-value")},this.enable_jquery_draggable(),this.stat.plusMinusButton.on("mousedown",(function(t){s.start_hold_action(t,!e(this).hasClass("mtss-incr-button"))})).on("mouseup mouseleave",(function(){s.end_hold_action()}))},start_hold_action:function(e,t){s.holding=!0,r.action_after_timeout("increment_hold",100,{item:function(e,t){s.holding&&(s.holdTimeout=setInterval((function(){s.increment_change(e,t)}),30))},args:[e,t]})},end_hold_action:function(){s.holding=!1,clearInterval(s.holdTimeout)},enable_jquery_draggable:function(e){e=e||"x",t.stat.sliderDragbar.MTdraggable({axis:e,start:function(e,r){var n=s.sliderConfig,i=s.stat;e.clientX,n.portBoundingClientRect,r.originalPosition.left;if(t.isForbiddenProperty(n.$input))return!1;i.set.addClass("mt-slider-dragging"),s.clear_comp_set_waiting(),t.get_local_window_function("maybe_hide_mt_highlight")()},stop:function(){t.get_local_window_function("maybe_reinstate_mt_highlight")();var e=s.sliderConfig;s.stat.set.removeClass("mt-slider-dragging"),s.update_drag_slack(e.value),s.renderSliderValue({$property:e.$input,triggeredBySlider:1,draggingStopped:1,noSaveDelay:1})},drag:function(e,t){t.position.left=s.within_min_max(t.position.left);var r=t.position.left,n=s.sliderConfig;if(r!==n.px.left){var i=s.left_to_value(r,n.numbers.valueToPx,n.px.portCenterOffset,n.leftAdjust,n.numbers.minPrecision);s.update_slider_value(i,{updatePreview:1,userSliding:1,noSave:1})}}})},within_min_max:function(e){var t=s.sliderConfig,n=(t.$input,t.px.min),i=t.px.max,a=t.px.dragAction.min,o=t.px.dragAction.max,l=!r.isDefined(a)||r.isDefined(n)&&t.minAbsCompare(n,a)?n:a,c=!r.isDefined(o)||r.isDefined(i)&&t.maxAbsCompare(i,o)?i:o;return r.isDefined(l)&&t.minLeftCompare(e,l)?l:r.isDefined(c)&&t.maxLeftCompare(e,c)?c:e},left_to_value:function(e,t,r,n,i){var a=this.sliderConfig.direction*((e-r)/t);return this.decimal_precision(a,i)},value_to_left:function(e,t,n,i){return(i=r.isDefined(i)?i:this.sliderConfig.direction)*(t*e)+n},sliderConfig:{},show_slider_set:function(t,n){r.startT(arguments);var i=s.stat,a=MTlocal.get_custom_autocomplete(t);if(!a)return!1;var o=e(a.menu.element),l=o[0].getBoundingClientRect(),c=i.set[0].getBoundingClientRect(),u=this.sliderConfig,d="none"!==i.set.css("display");d&&c.top-1===l.top&&c.left-1===l.left||i.set.css("display","grid").offset({top:l.top+1,left:l.left+1}).width(o[0].scrollWidth),d&&t.is(u.$input)||s.update_slider_set(!1,t),r.endT(arguments)},hide_slider_set:function(){s.stat.set.css("display","none"),this.hide_unit_menu()},update_slider_set:function(e,t){r.startT(arguments),e=e||this.get_config_from_input(t),this.sliderConfig=this.getSliderConfig(e);var n=this.sliderConfig,i=n.value,a=n.rawValue,o=n.cssUnit;this.update_css_unit(o,{writeUnitToSlider:1,updateSliderValue:1,positionDragbar:1},i,a),r.endT(arguments)},update_drag_slack:function(e){r.startT(arguments);var n=r.getViewPortDimensions(window);parseInt(t.pref.tape_measure_slider);if(n){var i=this.sliderConfig,a=s.stat,o=a.set[0].getBoundingClientRect(),l=parseFloat(a.dragBar.css("left")),c=i.px.block,u=a.buttons.width(),d=a.port.width(),p=i.px.portCenterOffset,f=o.left+u,h=o.left+u+d+p,_=n.vw+p-f,g=Math.round(h/c),m=Math.round(_/c),v=g+m,y=0,b=i.numbers;if(parseInt(t.pref.tape_measure_slider))var w=e-m*b.block,T=Math.floor(w/b.block)*b.block,x=(b.block,e-T),k=parseFloat(this.value_to_left(x,b.valueToPx,i.px.portCenterOffset)),S=this.sliderConfig.direction*(l-k);else{T=0;var C=e+m*b.block;x=(C=Math.floor(C/b.block)*b.block)-e,S=-1*(l+(k=parseFloat(this.value_to_left(x,b.valueToPx,i.px.portCenterOffset)))-2*i.px.portCenterOffset)}var M=T,A="",O=this.getMinMax(i.min,i.cssUnit,i,"min"),E=this.getMinMax(i.max,i.cssUnit,i,"max");for(y=0;y<v;y++){var P=M;(r.isDefined(O)&&M<O||r.isDefined(E)&&M>E)&&(P=""),A+='<span class="mtss-block" data-label="'+P+'"></span>',M=this.decimal_precision(M+b.block,1)}a.dragBar.html(A),this.stat.dragBar.css("marginLeft",S+"px")}r.endT(arguments)},clear_comp_set_waiting:function(){var e=this.sliderConfig.$input;e&&(t.remove_comp_overlay(e,".tvr-input-wrap"),t.inputWaitingObj=e)},update_slider_value:function(n,i){r.startT(arguments);var a=this.sliderConfig,o=a.$input;a.prop,a.cssf;this.sliderConfig.value=n;var l=this.value_to_left(n,a.numbers.valueToPx,a.px.portCenterOffset);(a.px.left=l,i.positionDragbar)&&(this.stat.dragBar.css("left",l+"px"),"none"!==this.stat.set.css("display")&&this.update_drag_slack(n));if(s.maybe_update_px_equiv(n,"valueChange"),i.updatePreview&&o){if(!a.cssUnit||s.unitIsInvalid(a)||a.unitless_slider||(n+=a.cssUnit),a.slidablePieces){var c=a.slidablePieces,u=r.replaceAt(c.fullString,c.extracted.start,n,c.extracted.origLen);o.val(u),o[0].setSelectionRange(c.extracted.start,c.extracted.start+n.toString().length)}else o.val(n);t.maybe_sync_fields(o),i.userSliding&&a.isTimeField||this.renderSliderValue(e.extend(!0,{$property:a.$input,triggeredBySlider:1},i))}r.endT(arguments)},renderSliderValue:function(e){r.action_after_timeout("slider_adjust",10,{item:a.ajax_save_settings,args:[e],rateLimited:!0})},increment_change:function(e,t){this.clear_comp_set_waiting();var n=s.sliderConfig,i=parseFloat(s.sliderConfig.value),a=n.numbers.increment,o=n.min,l=n.max;e.shiftKey&&(a*=10),t&&(a*=-1);var c=i+a;if(r.isDefined(o)&&c<o||r.isDefined(l)&&c>l)return!1;var u=s.decimal_precision(c,n.numbers.minPrecision);this.update_slider_value(u,{updatePreview:1,positionDragbar:1})},toggle_unit_menu:function(e){var t=s.stat.cssUnitMenu;!this.stat.cssUnitToggle.hasClass("on")||e&&!t.data("$trigger").is(e)?this.show_unit_menu(e):this.hide_unit_menu(e)},show_unit_menu:function(e){var t=s.stat.cssUnitMenu,r=e.hasClass("mt-prop-unit"),n=r?6:0,i=r?0:"3px";t.data("$trigger",e),r&&s.update_slider_set(!1,e.closest(".field-wrap").find(".property-input")),t.position({of:e,my:"left top",at:"left-"+i+" bottom+"+n}),s.stat.cssUnitToggle.add(t).addClass("on expanded")},hide_unit_menu:function(e){s.stat.cssUnitToggle.add(s.stat.cssUnitMenu).removeClass("on expanded")},toggle_unit_menu_shortcut:function(e){s.toggle_unit_menu(e)},css_unit_clicked:function(e){s.clear_comp_set_waiting(),this.update_css_unit(e.data("unit"),{autoConvert:1,updateCopiedSrc:1,updateCopiedSrcReflow:"grid"===s.stat.set.css("display")&&!e.hasClass("mt-prop-unit"),writeUnitToSlider:1,writeUnitToField:1,updateSliderValue:1,positionDragbar:1,updatePreview:1},this.sliderConfig.value,this.sliderConfig.rawValue),this.hide_unit_menu()},ensure_slider_connected:function(e){return e.hasClass("mt-slider")&&!e.is(s.sliderConfig.$input)&&s.update_slider_set(!1,e),"already connected"},absoluteUnitConversion:{px:{px:1,cm:96/2.54,mm:96/25.4,in:96,pt:96/72,pc:16},cm:{px:2.54/96},mm:{px:25.4/96},in:{px:1/96},pt:{px:.75},pc:{px:6/96},deg:{deg:1,grad:.9,rad:180/Math.PI,turn:360},grad:{deg:400/360,grad:1,rad:200/Math.PI,turn:400},rad:{deg:Math.PI/180,grad:Math.PI/200,rad:1,turn:2*Math.PI},turn:{deg:1/360,grad:1/400,rad:.5/Math.PI,turn:1},s:{s:1,ms:.001},ms:{s:1e3,ms:1},"":{em:1,"%":.01},em:{"":1},"%":{"":100}},getUnitReference:function(e,i){var a=TvrMT.data.prog.autoMap,o=i.nodeCSS,s=i.spacedIndex;switch(e){case"rem":return r.isDefined(i.baseFontSize)?i.baseFontSize:t.iframeEditing()?n.getBaseFontSize():t.baseFontSize;case"em":case"ex":case"ch":var l="font-size"===i.cssf?"parent":"element",c=r.checkObject(o,[l,"font-size"]);return!1!==c&&"em"!==e&&(c=parseFloat(c)/2),parseFloat(c);case"%":var u=r.checkObject(a,[i.prop,e]);if(u===Object(u)){s=r.isDefined(s)?s:0;var d=Array.isArray(u.prop)?u.prop[s]:u.prop,p=r.checkObject(o,[u.node,d]);return!!p&&parseFloat(p)/100}break;case"vh":case"vw":case"vmin":case"vmax":if(t.iframeEditing())return r.getViewPortDimensions(n.stat.win)[e]/100}return!1},getRelativeUnitMultiplier:function(e){var t=e.sourceUnit,r=e.targetUnit,n="px"!==t?t:r,i=this.getUnitReference(n,e);return!!i&&(r===n?1/i:i)},convertToIntermediaryUnit:function(t,r){var n=e.extend(!0,{},t,{targetUnit:r,precision:!1}),i={};i[r]=1;n=this.convertCSSUnit(n,i);return t.sourceUnit=r,t.value=n.value,t.intermediaryMultiplier=n.multiplier,t.value},conversionFailed:function(e){return{value:!1,conversionFailed:!0,origConfig:e,multiplier:!1}},unitCouldBeAdded:function(e,t){return("s"===t||"ms"===t||0!=e&&"0"!==e)&&r.isNumber(e)},convertCSSUnit:function(e,t){r.startT(arguments),t=t||{};var n=e.value,i=e.sourceUnit,a=this.absoluteUnitConversion,o=""===e.sourceUnit||""===e.targetUnit;if(!t.em&&o&&"line-height"===e.cssf&&"em"!==e.sourceUnit&&!1===this.convertToIntermediaryUnit(e,"em"))return this.conversionFailed(e);var s=r.checkObject(a,[e.targetUnit,e.sourceUnit]);if(!t.px&&!s&&"px"!==e.sourceUnit&&!1===this.convertToIntermediaryUnit(e,"px"))return this.conversionFailed(e);var l=r.checkObject(a,[e.targetUnit,e.sourceUnit])?a[e.targetUnit][e.sourceUnit]:this.getRelativeUnitMultiplier(e);if(!1===l||void 0===l)return r.endT(arguments),"fr"===e.targetUnit?{value:1}:"px"===e.targetUnit&&"fr"===e.sourceUnit?{value:100}:this.conversionFailed(e);var c=e.value,u=e.precision,d=this.decimal_precision(l*c,u);return r.endT(arguments),{source:c+e.sourceUnit,origValue:n,origUnit:i,value:d,unitValue:d+e.targetUnit,multiplier:l,intermediaryMultiplier:e.intermediaryMultiplier}},decimal_precision:function(e,t){return!1!==t&&(0===t?e=Math.round(e):(t=Math.pow(10,parseInt(t)),e=Math.round(e*t)/t)),e},update_css_unit:function(e,n,i,a){r.startT(arguments);var o=this.sliderConfig,l=this.stat,c=o.cssUnit,u=o.value,d=!1,p=!1;if(o.unitless_slider)l.set.addClass("is-unitless_slider");else{if(l.set.removeClass("is-unitless_slider"),"none"===e&&(e=""),o.cssUnit=e,o.numbers=this.get_numbers(e,o.increment,o.blockPx),n.autoConvert&&!s.unitIsInvalid(o)){var f=s.convertCSSUnit({prop:o.prop,cssf:o.cssf,value:u,sourceUnit:c,targetUnit:e,precision:this.get_numbers(e).maxPrecision,nodeCSS:t.nodeCSS?t.nodeCSS[0]:[]}).value;!1!==f?(i=f,o.value=i):i=u}if(n.writeUnitToField||n.writeUnitToSlider){if("px"!==e&&!s.unitIsInvalid(o)){var h=s.convertCSSUnit({prop:o.prop,cssf:o.cssf,value:i,sourceUnit:e,targetUnit:"px",precision:0,nodeCSS:t.nodeCSS?t.nodeCSS[0]:[]});!1!==h.value&&(d=r.isDefined(h.intermediaryMultiplier)?h.intermediaryMultiplier:h.multiplier,p=h.value)}o.pxEquiv=p,o.pxEquivMultiplier=d}if(n.writeUnitToField){var _=o.M;s.apply_property_unit(i,a,e,o.$input.closest(".field-wrap"),_.groupSlug,_.propertySlug,{writeToLabel:1,writeToInput:1,writeToJS:1,inputEdited:n.inputEdited,trail:o.jsData.propLevels}),t.maybe_sync_fields(o.$input,e)}if(n.writeUnitToSlider){var g=r.checkObject(o,["special_units","type"])||"standard";l.cssUnit.text(e),l.set.attr("data-unit",e).attr("data-unit-type",g),o.excludePercent&&l.set.attr("data-exclude-percent","1"),l.set.attr("data-unit",e),l.cssUnit.text(e),s.maybe_update_px_equiv(i,"unitChange")}}n.updateSliderValue&&this.update_slider_value(i,n),!o.unitless_slider&&n.updateCopiedSrc&&s.apply_unit_to_copied_src(n.updateCopiedSrcReflow,!0),r.endT(arguments)},maybe_update_px_equiv:function(e,t){var r=this.sliderConfig;if(!1!==r.pxEquivMultiplier){var n=s.decimal_precision(e*r.pxEquivMultiplier,0);s.stat.pxEquivValue.text(n)}},apply_unit_to_copied_src:function(i,a){var l=s.sliderConfig,c=l.cssf,u=l.prop,d=t.gatheredCSS.root_cat_keys[u],p=TvrMT.data.prog.lh[c];if(void 0===p||void 0===p.fdu)return!1;for(var f=p.fdu,h=t.pref.my_props.sug_values,_=TvrMT.data.prog.combo[u],g=h[d].copiedSrc,m=l.cssUnit,v=[],y=n?n.getBaseFontSize():t.baseFontSize,b=0;b<g.length;b++){var w=g[b],T=w,x=o.separate_value_unit(w),k=s.unitCouldBeAdded(w,m),S=k?T+f:T,C=x?x.value:w,M=x?x.unit:f,A=!1;(k||x&&!1===r.in_array(w,_))&&(m!==M&&(A=s.convertCSSUnit({prop:u,cssf:c,value:parseFloat(C),sourceUnit:M,targetUnit:m,precision:s.get_numbers(m).maxPrecision,nodeCSS:t.nodeCSS?t.nodeCSS[0]:[],baseFontSize:y}).value),w=!1!==A?A+m:S),v.push(w)}h[d].copiedSrc=e.extend(!0,[],v),i&&t.resolve_combobox_source(l.$input,!0,!0,""),a&&o.save_sug_vals({specific:u,triggeredBy:"apply_unit_to_copied_src"})},get_set_or_default_unit:function(e,r,n){return void 0!==e?e:t.get_default_unit(r,n)},apply_property_unit:function(e,n,o,l,c,u,d){if(o=s.get_set_or_default_unit(o,c,u),d.writeToLabel){var p=l.find(".mt-prop-unit");o?p.attr("data-cur-unit",o):p.removeAttr("data-cur-unit")}if(d.writeToInput){var f=l.find(".css_unit-tracker"),h=r.isDefined(n),_=r.isDomEl(f);!d.inputEdited||h?(_||(d.trail||(d.trail=i.get_property_data(d.M).propLevels),l.append(i.get_prepared_icon_template(d.trail,"property","css_unit"))),l.find(".css_unit-tracker").val(o),d.writeToJS&&(r.updateObject(t.uiData,d.trail.concat("unit"),o),t.update_default_unit(c,u,o),t.stat.cssUnitGrid.find('input.custom_css_unit[data-prop="'+u+'"]').val(o),a.simple_ajax_request({type:"POST",url:t.ajaxUrl+"&update_default_unit=1",sendData:a.serialized_data_with_single_key(JSON.stringify({group:c,prop:u,unit:o}))}))):d.inputEdited&&(_&&f.remove(),d.writeToJS&&r.updateObject(t.uiData,d.trail,!1,{action:"delete",key:"unit"}))}},filter_css_units:function(e,t){return"line_height"===t?(e[0].category=e[1].category,e):e.slice(1)}};return s}()})),jQuery(document).ready((function(e){TvrMT.mod.MTlayout=function(){var t,r,n,i,a,o,s={minSidebarSize:200,resizedColumnSize:200,set_vars:function(){r=TvrMT.TvrCom,t=TvrMT.TvrUi,n=TvrMT.MTF,i=TvrMT.mod.MTsave,TvrMT.mod.MTdd,TvrMT.mod.MTint,a=TvrMT.mod.MTace,o=TvrMT.MTdetached,TvrMT.detachedWin,this.init_dynamic_category_sidebars()},layout_config:function(e){return t.pref.layout[e||"left"]},type_from_key:function(e){return e.match(/dock_(.+?)_(?:left|right)/)[1]},key_from_type:function(e,t){return"dock_"+e+"_"+(t=t||"left")},horizontal_only:function(){return!t.pref.dock_editor_left&&!t.pref.detach_preview},flexible_field_widths:function(){return!t.pref.dock_styles_left},editor_height_auto_settable:function(e){return s.horizontal_only()&&!t.pref.code_manual_resize||"snippet-code"===e},editor_and_gui:function(e){var r=this.layout_config("left"),n=t.pref.dock_folders_left?1:0;return t.pref.detach_preview||t.pref.dock_editor_left&&!t.pref.dock_styles_left||!t.pref.dock_editor_left&&t.pref.dock_styles_left||t.pref.dock_editor_left&&t.pref.dock_styles_left&&(r.num_columns-n>1||!e&&"code"!==t.pref.pg_focus&&t.stat.inlineEditor.hasClass("mt-top-panel"))},editor_showing_left:function(){return t.pref.dock_editor_left&&!t.pref.detach_preview},show_editor_gutter:function(e){let t=this.layout_config("left").items.editor.size_category,r="snippet-code"===e.container.id;return"adaptable-editor"!==e.container.id&&!r||!this.editor_showing_left()||"sm"!==t},editor_only_left:function(){return t.pref.dock_editor_left&&!t.pref.detach_preview&&!t.pref.dock_styles_left},effective_sidebar_size:function(){return this.sidebar_showing()?s.sidebar_size:0},preview_is_detached:function(){return t.pref.detach_preview},sidebar_showing:function(){return!t.pref.detach_preview&&(t.pref.dock_editor_left||t.pref.dock_styles_left)||t.pref.detach_preview&&t.pref.dock_styles_left},maybe_adjust_side_options:function(e){s.sidebar_showing()&&!s.preview_is_detached()&&this.modify_active_editors({resize:!0})},toggle_layout_view:function(e,r,n,i){i=i||{};var a=r?e:e+"_off";t.pref[e]=r,s.update_num_items_docked(n),r&&"detach_preview"!==e&&"dock_folders_left"!==e?this.update_sidebar_z_indexes(this.type_from_key(e),n,!0):"dock_folders_left"===e&&(r?t.show_folders_or_settings("folders","left"):t.hide_folders_or_settings("folders","left")),r||"detach_preview"===e||s.removeDynContainerClass(e),this[a](),i.side=n,this.adjust_preview_margin_and_save_config(i)},update_num_items_docked:function(e){for(var r=Object.keys(this.layout_config(e).items),n=0,i=0;i<r.length;i++){var a=r[i],o=this.key_from_type(a,e);parseInt(t.pref[o])&&++n}return this.layout_config(e).num_items_docked=n,n},removeDynContainerClass:function(e){var t=s.type_from_key(e);r.checkObject(s.dynamic_category_sidebars,[t,"width"])&&r.updateObject(s.dynamic_category_sidebars,[t,"width"],void 0)},dock_folders_left:function(){},dock_folders_left_off:function(){},dock_styles_left:function(){let e=t.get_pg_meta();e&&e.groupTab.find(".pg-inner").css("margin-left","")},dock_styles_left_off:function(){},dock_editor_left:function(){t.stat.inlineEditor.css("height","")},dock_editor_left_off:function(){this.modify_active_editors({resize:!0,updateHeight:!s.preview_is_detached()})},dock_wizard_right:function(){},dock_wizard_right_off:function(){},dock_settings_right:function(){},dock_settings_right_off:function(){},dock_ai_right:function(){},dock_ai_right_off:function(){},switch_layout_classes:function(e,r,n,i){i=i||Object.keys(t.pref.layout[e].items).length;for(var a="mt-"+e+"-"+r+"-",o=a+n,s=[],l=0;l<=i;l++)l!==parseInt(n)&&s.push(a+l);t.stat.tvr.removeClass(s.join(" ")).addClass(o)},set_num_columns:function(e,t){this.layout_config(t).num_columns=parseInt(e),this.adjust_preview_margin_and_save_config({side:t}),a.update_editor_gutter()},set_effective_num_columns:function(e){var t=this.sidebar_meta(e).effective_num_columns;this.layout_config(e).effective_num_columns=t,this.switch_layout_classes(e,"cols",t)},set_effective_top_rows:function(){var e=this.topbar_meta().effective_num_rows;this.layout_config("top").effective_num_rows=e,this.switch_layout_classes("top","rows",e,3)},detach_preview:function(){t.stat.iframe[0].src="about:blank",window.name="MTroot",window.TvrMT.detachedWin=window.open("admin.php?page=tvr-microthemer-preview-wrap.php","detachedPreview");try{window.TvrMT.detachedWin.focus()}catch(e){i.update_full_logs({short:TvrLang.popup_blocked,long:"<p>"+t.appName+" "+TvrLang.popup_blocked_long+"</p>",type:"warning"})}t.stat.inlineEditor.css("height",""),this.modify_active_editors({resize:!0}),s.detached_window_available()&&o.remove_window_inactive_notice()},detach_preview_off:function(){s.editor_showing_left()?this.adjust_preview_margin_and_save_config({side:"left",skipSave:1}):s.horizontal_only()&&this.modify_active_editors({resize:!0,updateHeight:!0}),s.detached_window_available()&&o.deactivate_window(),t.stat.iframeDoc=window.frames.viframe,MTlocal.maybe_load_site_preview(),MTlocal.updateSuggestionsMenuReference()},detached_window_available:function(e){return!(!TvrMT.detachedWin||!window.TvrMT.MTdetached)&&(TvrMT.detachedWin,o=window.TvrMT.MTdetached,!e||e&&t.pref.detach_preview)},retrieve_or_load_detached:function(){window.name="MTroot";var e=window.open("","detachedPreview"),r=!0;if(e&&e.MTdetached){if(r=!1,e.opener=window,e.MTdetached.set_vars(),t.set_vars(),e.MTlocal.update_TvrMT_and_other_vars(window.TvrMT),o=window.TvrMT.MTdetached,!(n=window.TvrMT.MTF))return void e.MTlocal.maybe_load_site_preview();n.stat.win.closed?r=!0:(n.set_vars(),n.setDomChangedSignals(),s.trigger_iframe_loaded(),n.unbind_wizard_hover(),n.bind_wizard_hover())}r&&s.toggle_layout_view("detach_preview",1,"left")},trigger_iframe_loaded:function(){s.iframe_loaded(n.stat.html)},iframe_loaded:function(e){n=window.TvrMT.MTF,t.stat.fHTML=e,parseInt(t.pref.grid_highlight)&&t.stat.fHTML.addClass("grid_highlight"),"grid"===t.pref.pg_focus&&t.stat.fHTML.addClass("showGridControls"),s.detached_window_available(!0)&&o.iframe_loaded()},toolbar_adjusted:function(e,t,n){r.startT("maybe_adjust_side_options"),s.maybe_adjust_side_options("height"),r.endT("maybe_adjust_side_options")},topbar_meta:function(){var e=1;return t.pref.detach_preview?(t.pref.dock_styles_left||(e=3),t.pref.show_code_editor&&(e=1)):(t.pref.dock_editor_left||(e=2),t.pref.dock_styles_left||(e=t.onlyInlineEditor&&t.pref.dock_editor_left?2:3),t.pref.show_code_editor&&(e=t.pref.dock_editor_left?1:2)),{effective_num_rows:e}},sidebar_meta:function(e){e=e||"left";var r=0,n=0,i=this.layout_config(e),a=i.num_items_docked,o=i.num_columns||1,s=i.column_sizes;if("left"===e&&t.pref.detach_preview&&t.pref.dock_editor_left&&(a-=1),"left"===e&&t.pref.show_code_editor){var l=t.pref.dock_editor_left&&!t.pref.detach_preview;a=l?1:0,r=l?s[0]:0}if(a>0)for(var c=0;c<s.length;c++){var u=c+1,d=parseFloat(s[c]);u<=o&&u<=a&&(r+=parseFloat(d),n++)}return{size:{num:r,px:r+"px"},effective_num_columns:n}},dragged_column:function(t){var r=e(t.helper).data(),n=parseInt(r.templateColumn),i=r.side,a="left"===i?n-1:n;return{columnNumber:n,sizeIndex:a,sideColumnSizeIndex:"left"===i?a:n-4,side:i,context:r.context}},get_all_column_sizes:function(r,n){var i=r?"min_column_sizes":"column_sizes";return"main_columns"===n?this.layout_config("left")[i].concat(["1fr"]).concat(t.pref.layout.right[i]):"inspection_columns"===n?e.extend(!0,[],this.layout_config("inspection_columns")[i]):void 0},dynamic_category_sidebars:{},init_dynamic_category_sidebars:function(){this.dynamic_category_sidebars={folders:{$el:t.stat.mainMenu,side:"left"},styles:{$el:t.stat.opts,side:"left"},editor:{$el:t.stat.inlineEditor,side:"left"},ai:{$el:t.stat.aiAssistant,side:"right"},settings:{$el:t.stat.settingsMenu,side:"right"}}},get_dynamic_category_sidebar_widths:function(){for(var e=Object.keys(this.dynamic_category_sidebars),t={},r=0;r<e.length;r++){var n=e[r],i=this.dynamic_category_sidebars[n],a=i.$el;t[n]={$el:a,width:a.outerWidth(),side:i.side}}return this.dynamic_category_sidebars=t,t},update_dynamic_category_sidebar_classes:function(e){for(var t=s.dynamic_category_sidebars,r=Object.keys(t),n=0;n<r.length;n++){var i=r[n],a=t[i],o=a.$el.outerWidth();o!==a.width&&s.change_sidebar_size_class(o,i,a.side)}},stopResizingPanel:function(){},make_sidebars_draggable:function(){function n(){t.stat.front.addClass("mt-no-pointer")}function i(n,i,a){if(t.stat.front.removeClass("mt-no-pointer"),i){var o=e(n.helper),s=o;if(a){var l=o.siblings(".mt-width-resizer");s=s.add(l)}s.each((function(){r.forceElReflow(e(this),"left: 99% !important")}))}}t.stat.vis.children(".mt-width-resizer").draggable({axis:"x",start:function(e,r){n();var i=s.dragged_column(r);t.pref.dock_folders_left&&1===i.columnNumber&&t.stat.vis.addClass("panel-being-resized"),s.get_dynamic_category_sidebar_widths()},drag:function(e,t){var r=s.dragged_column(t),n=r.sizeIndex,i=r.side,a=t.offset.left-t.originalPosition.left;"right"===i&&(a*=-1);var o=s.update_sidebar_column_size(t,n,a,r.context);o&&(s.update_main_grid_widths(o),s.update_dynamic_category_sidebar_classes())},stop:function(e,r){var n=s.dragged_column(r),a=n.columnNumber,o=n.side,l=n.sideColumnSizeIndex;t.pref.dock_settings_right||4!==a&&5!==a||(t.doNotCloseSettingsMenu=!0),s.layout_config(o).column_sizes[l]=s.resizedColumnSize,s.adjust_preview_margin_and_save_config({side:n.side}),t.stat.vis.removeClass("panel-being-resized"),i(r,!0,!0)}}),s.gridHeightResizerAdjust=0,t.stat.vis.children(".mt-height-resizer").draggable({axis:"y",containment:"parent",start:function(r,i){n();var a=e(i.helper).data(),o="editor_height"===a.side,l=o?t.stat.inlineEditor:t.stat.inspectionPanes;s.elementHeightAdjust={$el:l,origHeight:l.height(),isCSSEditor:o,directionMultiplier:o?1:-1,offsetFix:i.originalPosition.top,data:a}},drag:function(e,t){var r=s.elementHeightAdjust,n=t.position.top-r.offsetFix,i=r.origHeight+n*r.directionMultiplier;r.$el.height(i),r.newHeight=i,r.isCSSEditor?a.eds["adaptable-editor"].resize():a.eds.wizard_inspector_html.resize()},stop:function(e,r){var n=s.elementHeightAdjust;t.pref.layout[n.data.side].size=n.newHeight,s.save_layout_preferences(),i(r)}}),t.stat.inspectionPanes.children(".mt-width-resizer").draggable({start:function(r,i){n();var a=e(i.helper).data();s.inspectionWidthAdjust={inspectionLeftOffset:t.stat.inspectionPanes.offset().left,originalPositionLeft:i.originalPosition.left,data:a,sizeIndex:parseInt(a.templateColumn)-1}},drag:function(t,n){var i=s.inspectionWidthAdjust,o=-1*(n.offset.left-i.inspectionLeftOffset-n.originalPosition.left),l=s.update_sidebar_column_size(n,i.sizeIndex,o,i.data.context);if(l){for(var c=[],u=0;u<l.length;u++){var d=l[u];r.isNumeric(parseFloat(d))&&(d="minmax(auto, "+d+")"),c.push(d)}var p=".wizard-panes { grid-template-columns:1fr "+c.join(" ")+"; }";e("#inspection-columns").text(p),a.eds.wizard_inspector_html.resize()}},stop:function(e,t){var r=s.inspectionWidthAdjust;s.layout_config(r.data.context).column_sizes[r.sizeIndex]=s.resizedColumnSize,s.save_layout_preferences(),i(t,!0)}})},elementHeightAdjust:{},inspectionWidthAdjust:{},update_sidebar_column_size:function(e,t,n,i){var a=this.get_all_column_sizes(!1,i),o=this.get_all_column_sizes(!0,i),l=a[t],c=parseFloat(l)+parseFloat(n);if(c<o[t]){var u=o[t];return e.position.left=u,s.resizedColumnSize=u,!1}s.resizedColumnSize=c,a[t]=c;for(var d=0;d<a.length;d++){var p=a[d];r.isNumber(p)&&(a[d]=p+"px")}return a},update_main_grid_widths:function(t){for(var n=[],i=[],a=parseInt(s.layout_config("left").effective_num_columns),o=parseInt(s.layout_config("right").effective_num_columns),l=t.length,c=0;c<l;c++){var u=t[c],d=u,p=c+1;r.isNumeric(u)&&(u+="px",d+="px"),(p<4&&p>a||5===p&&o<2)&&(u=0),n.push(u),1===p||6===p?i.push(d):i.push(u)}var f=".visual-view { grid-template-columns: "+n.join(" ")+" }";e("#main-interface-columns").text(f);var h="#advanced-wizard { grid-template-columns: "+i.join(" ")+" }";e("#mt-footer-columns").text(h)},return_another_panel_to_top:function(e,r){for(var n=s.layout_config(r).top_panel.previous,i=s.get_sidebar_containers({exclude:[e],styleWithIcons:1,side:r}),a=[],o=0;o<i.containerArray.length;o++){var l=i.containerArray[o],c="icons"===l.type?"dock_styles_left":l.key;if(t.pref[c]){if(l.type===n)return n;a.push(l.type)}}return!!a.length&&a[0]},update_sidebar_z_indexes:function(e,r,n){if(s.doNotUpdateZIndexes)return s.doNotUpdateZIndexes=!1,!1;var i=this.get_sidebar_container(e,!1,r).$el,a=this.get_sidebar_containers({exclude:[e],styleWithIcons:1,side:r}).$containers,o=a?a.add(i):i,l=o.filter(".mt-top-panel");o.removeClass("mt-top-panel was-top-panel"),l.addClass("was-top-panel"),i.addClass("mt-top-panel"),"left"===r&&"folders"!==e&&t.hide_folders_or_settings("folders",r,!0),"right"===r&&"settings"!==e&&t.hide_folders_or_settings("settings",r,!0);var c=this.layout_config(r).top_panel;c.previous=c.current,c.current=e},back_to_property_groups:function(e){this.update_sidebar_z_indexes("icons","left"),t.stat.tvr.removeClass("showGridControls")},sidebar_sizes_map:{sm:0,md:300,lg:360},sidebar_size_category:function(e){var t=this.sidebar_sizes_map,r="0";for(var n in t)t.hasOwnProperty(n)&&e>=t[n]&&(r=n);return r},modify_active_editors:function(e){var r=t.stat.adaptableEditor;[a.eds["adaptable-editor"],a.eds["snippet-code"],a.eds.ai_code].forEach((function(n){n&&(e.updateHeight&&s.editor_height_auto_settable()?a.editor_update_height(n,r,16*n.session.getLength()):t.pref.dock_editor_left&&t.stat.inlineEditor.css("height",""),e.resize&&(n.resize(),"ai_code"!==n.container.id&&a.update_editor_gutter(n)))}))},adjust_preview_margin_and_save_config:function(e){r.startT(arguments),e=e||{},s.update_dynamic_category_sidebar_classes(),s.update_main_grid_widths(s.get_all_column_sizes(!1,"main_columns")),"left"===e.side?(this.set_effective_num_columns("left"),this.set_effective_top_rows(),s.update_editor_and_gui_class(),t.totalSels&&!e.skipPGPress&&(s.doNotUpdateZIndexes=!0,t.loadOrReloadEditor(),s.doNotUpdateZIndexes=!1),this.modify_active_editors({resize:!0,updateHeight:s.horizontal_only()})):this.set_effective_num_columns("right"),s.update_main_grid_widths(s.get_all_column_sizes(!1,"main_columns")),parseInt(t.pref.wizard_expanded)&&a.eds.wizard_inspector_html&&a.eds.wizard_inspector_html.resize(),t.reset_preview_width_for_current_tab(!1,!0,t.rulerManuallyAdjusted),e.skipSave||t.forceNoLayoutSave||this.save_layout_preferences(),r.endT(arguments,0)},save_layout_preferences:function(){r.action_after_timeout("save_layout_preferences",500,{item:function(){i.simple_ajax_request({type:"POST",url:t.ajaxUrl+"&update_mt_layout=1",sendData:i.serialized_data_with_single_key(JSON.stringify(t.pref.layout))})},args:[]})},update_editor_and_gui_class:function(){this.editor_and_gui(!0)?t.stat.tvr.addClass("editor_and_gui"):t.stat.tvr.removeClass("editor_and_gui")},get_sidebar_container:function(r,n,i){n=n||this.key_from_type(r,i);var a={dock_folders_left:{side:"left",$el:t.stat.mainMenu,$toggle:e("#main-menu-tip-trigger"),$otherToggle:e("#sec-in-focus")},dock_styles_left:{side:"left",$el:t.stat.opts},dock_editor_left:{side:"left",$el:t.stat.inlineEditor},dock_icons_left:{side:"left",$el:t.stat.css_icons},dock_wizard_right:{side:"right",$el:t.stat.inspectionPanes},dock_settings_right:{side:"right",$el:t.stat.settingsMenu,$toggle:e("#program-settings-icon")},dock_ai_right:{side:"right",$el:t.stat.aiAssistant,$toggle:e("#mt-ai-assistant")}};return"all"===n?Object.values(a):a[n]},get_sidebar_containers:function(e){e=e||{};var n=Object.keys(this.layout_config(e.side).items),i=[],a=!1,o=0;e.styleWithIcons&&n.push("icons");for(var s=0;s<n.length;s++){var l=n[s],c=this.key_from_type(l);if((!e.onlyActive||t.pref[c])&&!r.in_array(l,e.exclude)){var u=this.get_sidebar_container(l,!1,e.side);if(u&&(!e.side||e.side===u.side)){var d=u.$el;a=a?a.add(d):d,i.push({type:l,key:c,$container:d}),++o}}}return{containerArray:i,$containers:a,items:o}},change_sidebar_size_class:function(e,t,r){var n=s.sidebar_size_category(e);s.get_sidebar_container(t,!1,r).$el.removeClass("mts-sm mts-md mts-lg").addClass("mts-"+n),s.modify_active_editors({resize:!0});var i=s.layout_config(r).items[t];i.size=e,i.size_category=n},switch_layout_preset:function(n){r.startT(arguments);var a=n.data("preset"),o=TvrMT.data.prog.suggested_screen_layouts[a],l=t.stat.settingsMenu.children(".mt-view-panel").children(".mt-advanced_layout_options-panel"),c=e("#program-settings-icon"),u=e("#mt-ai-assistant"),d={};t.forceNoLayoutSave=!0,"S"!==a&&"M"!==a||(c.hasClass("on")||t.toggle_program_menu(),u.hasClass("on")||t.toggle_ai_panel()),l.find(".mt-item").add("#wizard-expand-toggle").each((function(n){var i,a,l=e(this);if("view"===l.data("layout-preset")){var c=l.hasClass("mt-toggle"),u=l.hasClass("wizard-expand-toggle");if(c||u){var p=l.hasClass("uit-par")?l:l.find(".uit-par"),f=p.hasClass("on");i=p.data("aspect"),a=o.on[i]||0,(f&&!a||!f&&a)&&(r.startT("click_toggle_"+i),t.toggle_feature(p,i,{noSave:1,skipSave:1}),d[i]=a,r.endT("click_toggle_"+i))}else if(l.hasClass("has-select-menu")){i=l.data("aspect"),a=parseInt(o.on[i]);var h=l.find("select");parseInt(h.val())!==a&&(r.startT("column_change_"+i),h.val(a),s.set_num_columns(a,h.data("side")),d[i]=a,r.endT("column_change_"+i))}}})),s.update_dynamic_category_sidebar_classes(),t.forceNoLayoutSave=!1,d.suggested_layout=a,d.layout=t.pref.layout,i.save_multiple_preferences(d,1),r.endT(arguments,0)}};return s}()}));